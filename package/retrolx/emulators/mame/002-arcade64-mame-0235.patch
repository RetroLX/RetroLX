diff -u -r a/3rdparty/lua-zlib/lua_zlib.c b/3rdparty/lua-zlib/lua_zlib.c
--- a/3rdparty/lua-zlib/lua_zlib.c	2021-08-26 08:44:17.000000000 +0200
+++ b/3rdparty/lua-zlib/lua_zlib.c	2021-08-27 05:18:52.000000000 +0200
@@ -392,7 +392,7 @@
 
     SETLITERAL("_COPYRIGHT", "Copyright (c) 2009-2010 Brian Maher");
     SETLITERAL("_DESCRIPTION", "Yet another binding to the zlib library");
-    SETLITERAL("_VERSION", "lua-zlib $Id: b619258c75f480717fad20c113c3b1a35f888ce0 $  (tag: mame0235)");
+    SETLITERAL("_VERSION", "lua-zlib $Id: b619258c75f480717fad20c113c3b1a35f888ce0 $  (tag: tag235)");
 
     /* Expose this to lua so we can do a test: */
     SETINT("_TEST_BUFSIZ", LUAL_BUFFERSIZE);
diff -u -r a/android-project/app/src/main/AndroidManifest.xml b/android-project/app/src/main/AndroidManifest.xml
--- a/android-project/app/src/main/AndroidManifest.xml	2021-08-26 08:44:17.000000000 +0200
+++ b/android-project/app/src/main/AndroidManifest.xml	2021-08-27 05:18:52.000000000 +0200
@@ -4,8 +4,8 @@
 -->
 <manifest xmlns:android="http://schemas.android.com/apk/res/android"
       package="org.mamedev.mame"
-      android:versionCode="235"
-      android:versionName="0.235"
+      android:versionCode="234"
+      android:versionName="0.234"
       android:installLocation="auto">
 
     <!-- OpenGL ES 2.0 -->
Seulement dans b/bgfx/chains: crt-geom_mspacmnf.json
Seulement dans b/docs: release
Seulement dans b/.github/workflows: ci-arcade.yml
Seulement dans b/hlsl: 2xBRZ_rgb32_dir.fsh
Seulement dans b/hlsl: 2xBRZ.vsh
Seulement dans b/hlsl: 3xBRZ_rgb32_dir.fsh
Seulement dans b/hlsl: 3xBRZ.vsh
Seulement dans b/hlsl: 4xBRZ_rgb32_dir.fsh
Seulement dans b/hlsl: 4xBRZ.vsh
Seulement dans b/hlsl: 5xBRZ_rgb32_dir.fsh
Seulement dans b/hlsl: 5xBRZ.vsh
Seulement dans b/hlsl: 6xBRZ_rgb32_dir.fsh
Seulement dans b/hlsl: 6xBRZ.vsh
Seulement dans b/hlsl: CRT Geom Bloom_rgb32_dir.fsh
Seulement dans b/hlsl: CRT Geom Bloom Vertical_rgb32_dir.fsh
Seulement dans b/hlsl: CRT Geom Bloom Vertical.vsh
Seulement dans b/hlsl: CRT Geom Bloom.vsh
Seulement dans b/hlsl: CRT-geom-halation-alt_rgb32_dir.fsh
Seulement dans b/hlsl: CRT-geom-halation-alt.vsh
Seulement dans b/hlsl: CRT-geom-halation_overlay_fix_rgb32_dir.fsh
Seulement dans b/hlsl: CRT-geom-halation_overlay_fix.vsh
Seulement dans b/hlsl: CRT-geom-halation_PSone_rgb32_dir.fsh
Seulement dans b/hlsl: CRT-geom-halation_PSone.vsh
Seulement dans b/hlsl: CRT-geom-halation_rgb32_dir.fsh
Seulement dans b/hlsl: CRT-geom-halation_Vertical_overlay_fix_rgb32_dir.fsh
Seulement dans b/hlsl: CRT-geom-halation_Vertical_overlay_fix.vsh
Seulement dans b/hlsl: CRT-geom-halation_Vertical_rgb32_dir.fsh
Seulement dans b/hlsl: CRT-geom-halation_Vertical.vsh
Seulement dans b/hlsl: CRT-geom-halation.vsh
Seulement dans b/hlsl: CRT-geom-halation_x68000_rgb32_dir.fsh
Seulement dans b/hlsl: CRT-geom-halation_x68000.vsh
Seulement dans b/hlsl: CRT Geom HQ_rgb32_dir.fsh
Seulement dans b/hlsl: CRT Geom HQ Vertical_rgb32_dir.fsh
Seulement dans b/hlsl: CRT Geom HQ Vertical.vsh
Seulement dans b/hlsl: CRT Geom HQ.vsh
Seulement dans b/hlsl: CRT-geom_idx16_lut.fsh
Seulement dans b/hlsl: CRT Geom LQ_rgb32_dir.fsh
Seulement dans b/hlsl: CRT Geom LQ Vertical_rgb32_dir.fsh
Seulement dans b/hlsl: CRT Geom LQ Vertical.vsh
Seulement dans b/hlsl: CRT Geom LQ.vsh
Seulement dans b/hlsl: CRT Geom MQ_rgb32_dir.fsh
Seulement dans b/hlsl: CRT Geom MQ Vertical_rgb32_dir.fsh
Seulement dans b/hlsl: CRT Geom MQ Vertical.vsh
Seulement dans b/hlsl: CRT Geom MQ.vsh
Seulement dans b/hlsl: CRT-geom_rgb32_dir.fsh
Seulement dans b/hlsl: CRT-geom_rgb32_lut.fsh
Seulement dans b/hlsl: CRT-geom.vsh
Seulement dans b/hlsl: Gaussian x_rgb32_dir.fsh
Seulement dans b/hlsl: Gaussian x.vsh
Seulement dans b/hlsl: Gaussian y_rgb32_dir.fsh
Seulement dans b/hlsl: Gaussian y.vsh
Seulement dans b/hlsl: gaussx_rgb32_dir.fsh
Seulement dans b/hlsl: gaussx.vsh
Seulement dans b/hlsl: gaussy_rgb32_dir.fsh
Seulement dans b/hlsl: gaussy.vsh
Seulement dans b/hlsl: Lottes CRT_rgb32_dir.fsh
Seulement dans b/hlsl: Lottes_CRT_rgb32_dir.fsh
Seulement dans b/hlsl: Lottes CRT Vertical_rgb32_dir.fsh
Seulement dans b/hlsl: Lottes CRT Vertical.vsh
Seulement dans b/hlsl: Lottes_CRT_VERT_rgb32_dir.fsh
Seulement dans b/hlsl: Lottes_CRT_VERT.vsh
Seulement dans b/hlsl: Lottes CRT.vsh
Seulement dans b/hlsl: Lottes_CRT.vsh
Seulement dans b/hlsl: NTSC_chain_rgb32_dir.fsh
Seulement dans b/hlsl: NTSC_chain.vsh
Seulement dans b/hlsl: NTSC_rgb32_dir.fsh
Seulement dans b/hlsl: NTSC.vsh
diff -u -r a/README.md b/README.md
--- a/README.md	2021-08-26 08:44:17.000000000 +0200
+++ b/README.md	2021-08-27 05:18:52.000000000 +0200
@@ -1,115 +1,35 @@
+What is ARCADE64?
+=================
+ARCADE64 has an inbuilt front-end allowing you to run selected arcade games from a list.
+Only working games are included. Gambling games, pinball games, and mechanical games are excluded.
+It runs on Windows 7 or later.
 
-# **MAME** #
-
-[![Join the chat at https://gitter.im/mamedev/mame](https://badges.gitter.im/Join%20Chat.svg)](https://gitter.im/mamedev/mame?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge)
-
-Build status:
-
-| OS/Compiler   | Status        | 
-| ------------- |:-------------:| 
-| Linux/GCC and Clang | ![CI (Linux)](https://github.com/mamedev/mame/workflows/CI%20(Linux)/badge.svg) [![Build Status](https://travis-ci.org/mamedev/mame.svg?branch=master)](https://travis-ci.org/mamedev/mame) |
-| Windows/GCC and MSVC | ![CI (Windows)](https://github.com/mamedev/mame/workflows/CI%20(Windows)/badge.svg) |
-| macOS/Clang | ![CI (macOS)](https://github.com/mamedev/mame/workflows/CI%20(macOS)/badge.svg) |
-
-Static analysis status for entire build (except for third-party parts of project):
-
-[![Coverity Scan Status](https://scan.coverity.com/projects/5727/badge.svg?flat=1)](https://scan.coverity.com/projects/mame-emulator)
-
-What is MAME?
-=============
-
-MAME is a multi-purpose emulation framework.
-
-MAME's purpose is to preserve decades of software history. As electronic technology continues to rush forward, MAME prevents this important "vintage" software from being lost and forgotten. This is achieved by documenting the hardware and how it functions. The source code to MAME serves as this documentation. The fact that the software is usable serves primarily to validate the accuracy of the documentation (how else can you prove that you have recreated the hardware faithfully?). Over time, MAME (originally stood for Multiple Arcade Machine Emulator) absorbed the sister-project MESS (Multi Emulator Super System), so MAME now documents a wide variety of (mostly vintage) computers, video game consoles and calculators, in addition to the arcade video games that were its initial focus.
 
 How to compile?
 ===============
 
-If you're on a *NIX or OSX system, it could be as easy as typing
+You can only build ARCADE64 on a Windows computer. It won't compile on Unix.
 
 ```
-make
+make OSD=winui
 ```
 
-for a MAME build,
-
-```
-make SUBTARGET=arcade
-```
-
-for an arcade-only build, or
-
-```
-make SUBTARGET=mess
-```
-
-for MESS build.
-
-See the [Compiling MAME](http://docs.mamedev.org/initialsetup/compilingmame.html) page on our documentation site for more information, including prerequisites for Mac OS X and popular Linux distributions.
-
-For recent versions of OSX you need to install [Xcode](https://developer.apple.com/xcode/) including command-line tools and [SDL 2.0](https://www.libsdl.org/download-2.0.php).
-
-For Windows users, we provide a ready-made [build environment](http://mamedev.org/tools/) based on MinGW-w64.
-
-Visual Studio builds are also possible, but you still need [build environment](http://mamedev.org/tools/) based on MinGW-w64.
-In order to generate solution and project files just run:
-
-```
-make vs2019
-```
-or use this command to build it directly using msbuild
-
-```
-make vs2019 MSBUILD=1
-```
 
 
 Where can I find out more?
-=============
-
-* [Official MAME Development Team Site](http://mamedev.org/) (includes binary downloads, wiki, forums, and more)
-* [Official MESS Wiki](http://mess.redump.net/)
-* [MAME Testers](http://mametesters.org/) (official bug tracker for MAME and MESS)
-
-
-Contributing
-=============
-
-## Coding standard
-
-MAME source code should be viewed and edited with your editor set to use four spaces per tab. Tabs are used for initial indentation of lines, with one tab used per indentation level. Spaces are used for other alignment within a line.
-
-Some parts of the code follow [Allman style](https://en.wikipedia.org/wiki/Indent_style#Allman_style); some parts of the code follow [K&R style](https://en.wikipedia.org/wiki/Indent_style#K.26R_style) -- mostly depending on who wrote the original version. **Above all else, be consistent with what you modify, and keep whitespace changes to a minimum when modifying existing source.** For new code, the majority tends to prefer Allman style, so if you don't care much, use that.
-
-All contributors need to either add a standard header for license info (on new files) or inform us of their wishes regarding which of the following licenses they would like their code to be made available under: the [BSD-3-Clause](http://opensource.org/licenses/BSD-3-Clause) license, the [LGPL-2.1](http://opensource.org/licenses/LGPL-2.1), or the [GPL-2.0](http://opensource.org/licenses/GPL-2.0).
+==========================
 
-License
-=======
-The MAME project as a whole is made available under the terms of the
-[GNU General Public License, version 2](http://opensource.org/licenses/GPL-2.0)
-or later (GPL-2.0+), since it contains code made available under multiple
-GPL-compatible licenses.  A great majority of the source files (over 90%
-including core files) are made available under the terms of the
-[3-clause BSD License](http://opensource.org/licenses/BSD-3-Clause), and we
-would encourage new contributors to make their contributions available under the
-terms of this license.
+* [Official MAME Development Team Site](http://mamedev.org/) (includes binary downloads for MAME and MESS, wiki, forums, and more)
+* [ARCADE64 site] https://arcade.mameworld.info/
+* [ARCADE64 forum] https://www.1emulation.com/forums/forum/127-arcade/
 
-Please note that MAME is a registered trademark of Gregory Ember, and permission
-is required to use the "MAME" name, logo, or wordmark.
 
-<a href="http://opensource.org/licenses/GPL-2.0" target="_blank">
-<img align="right" src="http://opensource.org/trademarks/opensource/OSI-Approved-License-100x137.png">
-</a>
+Licensing Information
+=====================
 
-    Copyright (C) 1997-2021  MAMEDev and contributors
+Information about the MAME content can be found at https://github.com/mamedev/mame/blob/master/README.md
 
-    This program is free software; you can redistribute it and/or modify it
-    under the terms of the GNU General Public License version 2, as provided in
-    docs/legal/GPL-2.0.
+Information about the MAME license can be found at https://github.com/mamedev/mame/blob/master/COPYING
 
-    This program is distributed in the hope that it will be useful, but WITHOUT
-    ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
-    FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for
-    more details.
+Information about the WINUI portion can be found at https://github.com/Robbbert/mameui/blob/master/docs/winui_license.txt
 
-Please see COPYING for more details.
diff -u -r a/scripts/genie.lua b/scripts/genie.lua
--- a/scripts/genie.lua	2021-08-26 08:44:17.000000000 +0200
+++ b/scripts/genie.lua	2021-08-27 05:18:52.000000000 +0200
@@ -607,7 +607,7 @@
 
 dofile ("toolchain.lua")
 
-if _OPTIONS["targetos"]=="windows" then
+if _OPTIONS["targetos"]=="windows" or _OPTIONS["targetos"]=="winui" then
 	configuration { "x64" }
 		defines {
 			"X64_WINDOWS_ABI",
@@ -646,7 +646,7 @@
 configuration { }
 
 -- CR/LF setup: use on win32, CR only on everything else
-if _OPTIONS["targetos"]=="windows" then
+if _OPTIONS["targetos"]=="windows" or _OPTIONS["targetos"]=="winui" then
 	defines {
 		"CRLF=3",
 	}
diff -u -r a/scripts/src/3rdparty.lua b/scripts/src/3rdparty.lua
--- a/scripts/src/3rdparty.lua	2021-08-26 08:44:17.000000000 +0200
+++ b/scripts/src/3rdparty.lua	2021-08-27 05:18:52.000000000 +0200
@@ -878,7 +878,7 @@
 			"LUA_COMPAT_5_1",
 			"LUA_COMPAT_5_2",
 		}
-	if not (_OPTIONS["targetos"]=="windows") and not (_OPTIONS["targetos"]=="asmjs") and not (_OPTIONS["targetos"]=="pnacl") then
+	if not (_OPTIONS["targetos"]=="windows" or _OPTIONS["targetos"]=="winui") and not (_OPTIONS["targetos"]=="asmjs") and not (_OPTIONS["targetos"]=="pnacl") then
 		defines {
 			"LUA_USE_POSIX",
 		}
@@ -1095,7 +1095,7 @@
 		MAME_DIR .. "3rdparty/portmidi/pm_common/pmutil.c",
 	}
 
-	if _OPTIONS["targetos"]=="windows" then
+	if _OPTIONS["targetos"]=="windows" or _OPTIONS["targetos"]=="winui" then
 		files {
 			MAME_DIR .. "3rdparty/portmidi/porttime/ptwinmm.c",
 			MAME_DIR .. "3rdparty/portmidi/pm_win/pmwin.c",
@@ -1384,7 +1384,7 @@
 		end
 	end
 
-	if _OPTIONS["targetos"]=="windows" then
+	if _OPTIONS["targetos"]=="windows" or _OPTIONS["targetos"]=="winui" then
 		if _OPTIONS["gcc"]~=nil and string.find(_OPTIONS["gcc"], "clang") then
 			buildoptions {
 				"-Wno-unknown-attributes",
diff -u -r a/scripts/src/main.lua b/scripts/src/main.lua
--- a/scripts/src/main.lua	2021-08-26 08:44:17.000000000 +0200
+++ b/scripts/src/main.lua	2021-08-27 05:18:52.000000000 +0200
@@ -339,7 +339,7 @@
 		}
 
 	end
-	local rctarget = _subtarget
+	local rctarget = _target
 
 	if _OPTIONS["targetos"]=="windows" and (not override_resources) then
 		rcfile = MAME_DIR .. "scripts/resources/windows/" .. _subtarget .. "/" .. rctarget ..".rc"
diff -u -r a/scripts/src/mame/frontend.lua b/scripts/src/mame/frontend.lua
--- a/scripts/src/mame/frontend.lua	2021-08-26 08:44:17.000000000 +0200
+++ b/scripts/src/mame/frontend.lua	2021-08-27 05:18:52.000000000 +0200
@@ -45,7 +45,7 @@
 }
 
 configuration { }
-if (_OPTIONS["targetos"] == "windows") then
+if (_OPTIONS["targetos"] == "windows" or _OPTIONS["targetos"]=="winui") then
 	defines {
 		"UI_WINDOWS",
 	}
diff -u -r a/scripts/src/osd/modules.lua b/scripts/src/osd/modules.lua
--- a/scripts/src/osd/modules.lua	2021-08-26 08:44:17.000000000 +0200
+++ b/scripts/src/osd/modules.lua	2021-08-27 05:18:52.000000000 +0200
@@ -123,9 +123,8 @@
 		ext_includedir("asio"),
 	}
 
-	if _OPTIONS["targetos"]=="windows" then
+	if _OPTIONS["targetos"]=="windows" or _OPTIONS["targetos"]=="winui" then
 		includedirs {
-			MAME_DIR .. "3rdparty/winpcap/Include",
 			MAME_DIR .. "3rdparty/compat/mingw",
 			MAME_DIR .. "3rdparty/portaudio/include",
 		}
@@ -391,7 +390,7 @@
 
 		}
 
-		if _OPTIONS["targetos"]=="windows" then
+		if _OPTIONS["targetos"]=="windows" or _OPTIONS["targetos"]=="winui" then
 			configuration { "mingw*" }
 				buildoptions {
 					"-I$(shell qmake -query QT_INSTALL_HEADERS)",
@@ -454,7 +453,7 @@
 	end
 
 	if _OPTIONS["USE_QTDEBUG"]=="1" then
-		if _OPTIONS["targetos"]=="windows" then
+		if _OPTIONS["targetos"]=="windows" or _OPTIONS["targetos"]=="winui" then
 			linkoptions {
 				"-L$(shell qmake -query QT_INSTALL_LIBS)",
 			}
@@ -490,7 +489,7 @@
 		end
 	end
 
-	if _OPTIONS["targetos"]=="windows" then
+	if _OPTIONS["targetos"]=="windows" or _OPTIONS["targetos"]=="winui" then
 		links {
 			"gdi32",
 			"dsound",
@@ -647,7 +646,7 @@
 end
 
 if not _OPTIONS["USE_QTDEBUG"] then
-	if _OPTIONS["targetos"]=="windows" or _OPTIONS["targetos"]=="macosx" or _OPTIONS["targetos"]=="solaris" or _OPTIONS["targetos"]=="haiku" or _OPTIONS["targetos"]=="asmjs" then
+	if _OPTIONS["targetos"]=="windows" or _OPTIONS["targetos"]=="winui" or _OPTIONS["targetos"]=="macosx" or _OPTIONS["targetos"]=="solaris" or _OPTIONS["targetos"]=="haiku" or _OPTIONS["targetos"]=="asmjs" then
 		_OPTIONS["USE_QTDEBUG"] = "0"
 	else
 		_OPTIONS["USE_QTDEBUG"] = "1"
diff -u -r a/scripts/target/mame/arcade.lua b/scripts/target/mame/arcade.lua
--- a/scripts/target/mame/arcade.lua	2021-08-26 08:44:17.000000000 +0200
+++ b/scripts/target/mame/arcade.lua	2021-08-27 05:18:52.000000000 +0200
@@ -881,7 +881,7 @@
 		"ascii",
 		"atari",
 		"atlus",
-		"barcrest",
+--		"barcrest",   -- not used in ARCADE
 		"bfm",
 		"bmc",
 		"capcom",
@@ -908,16 +908,14 @@
 		"gottlieb",
 		"ibmpc",
 		"igs",
-		"igt",
 		"irem",
 		"itech",
 		"jaleco",
 		"jpm",
 		"kaneko",
-		"kiwako",
 		"konami",
 		"matic",
-		"maygay",
+--		"maygay",   -- not used in ARCADE
 		"meadows",
 		"merit",
 		"metro",
@@ -955,6 +953,7 @@
 		"subsino",
 		"suna",
 		"sunelect",
+--		"sure",   -- not used in ARCADE
 		"taito",
 		"tatsumi",
 		"tch",
@@ -964,6 +963,7 @@
 		"terminal",
 		"thepit",
 		"toaplan",
+		"tong",
 		"unico",
 		"univers",
 		"upl",
@@ -1053,7 +1053,7 @@
 
 createMAMEProjects(_target, _subtarget, "adp")
 files {
-	MAME_DIR .. "src/mame/drivers/adp.cpp",
+--	MAME_DIR .. "src/mame/drivers/adp.cpp",
 	MAME_DIR .. "src/mame/drivers/manohman.cpp",
 	MAME_DIR .. "src/mame/drivers/stellafr.cpp",
 }
@@ -1061,7 +1061,7 @@
 createMAMEProjects(_target, _subtarget, "alba")
 files {
 	MAME_DIR .. "src/mame/drivers/albazc.cpp",
-	MAME_DIR .. "src/mame/drivers/albazg.cpp",
+--	MAME_DIR .. "src/mame/drivers/albazg.cpp",
 	MAME_DIR .. "src/mame/drivers/rmhaihai.cpp",
 	MAME_DIR .. "src/mame/drivers/vsmjtria.cpp",
 }
@@ -1100,7 +1100,7 @@
 
 createMAMEProjects(_target, _subtarget, "amiga")
 files {
-	MAME_DIR .. "src/mame/drivers/alg.cpp",
+--	MAME_DIR .. "src/mame/drivers/alg.cpp",
 	MAME_DIR .. "src/mame/drivers/amiga.cpp",
 	MAME_DIR .. "src/mame/machine/amiga.cpp",
 	MAME_DIR .. "src/mame/video/amiga.cpp",
@@ -1445,59 +1445,58 @@
 createMAMEProjects(_target, _subtarget, "barcrest")
 files {
 	MAME_DIR .. "src/mame/drivers/mpu2.cpp",
-	MAME_DIR .. "src/mame/drivers/mpu3.cpp",
-	MAME_DIR .. "src/mame/machine/mpu4.cpp",
-	MAME_DIR .. "src/mame/includes/mpu4.h",
-	MAME_DIR .. "src/mame/drivers/mpu4.cpp",
-	MAME_DIR .. "src/mame/drivers/mpu4avan.cpp",
-	MAME_DIR .. "src/mame/drivers/mpu4bwb.cpp",
-	MAME_DIR .. "src/mame/drivers/mpu4concept.cpp",
-	MAME_DIR .. "src/mame/drivers/mpu4crystal.cpp",
-	MAME_DIR .. "src/mame/drivers/mpu4dealem.cpp",
-	MAME_DIR .. "src/mame/drivers/mpu4empire.cpp",
-	MAME_DIR .. "src/mame/drivers/mpu4mdm.cpp",
-	MAME_DIR .. "src/mame/drivers/mpu4misc.cpp",
-	MAME_DIR .. "src/mame/drivers/mpu4mod2sw.cpp",
-	MAME_DIR .. "src/mame/drivers/mpu4mod4yam.cpp",
-	MAME_DIR .. "src/mame/drivers/mpu4plasma.cpp",
-	MAME_DIR .. "src/mame/drivers/mpu4sw.cpp",
-	MAME_DIR .. "src/mame/drivers/mpu4union.cpp",
-	MAME_DIR .. "src/mame/drivers/mpu4vid.cpp",
-	MAME_DIR .. "src/mame/includes/mpu5.h",
-	MAME_DIR .. "src/mame/drivers/mpu5.cpp",
-	MAME_DIR .. "src/mame/drivers/mpu5sw.cpp",
+--	MAME_DIR .. "src/mame/drivers/mpu3.cpp",
+--	MAME_DIR .. "src/mame/machine/mpu4.cpp",
+--	MAME_DIR .. "src/mame/includes/mpu4.h",
+--	MAME_DIR .. "src/mame/drivers/mpu4.cpp",
+--	MAME_DIR .. "src/mame/drivers/mpu4avan.cpp",
+--	MAME_DIR .. "src/mame/drivers/mpu4bwb.cpp",
+--	MAME_DIR .. "src/mame/drivers/mpu4concept.cpp",
+--	MAME_DIR .. "src/mame/drivers/mpu4crystal.cpp",
+--	MAME_DIR .. "src/mame/drivers/mpu4dealem.cpp",
+--	MAME_DIR .. "src/mame/drivers/mpu4empire.cpp",
+--	MAME_DIR .. "src/mame/drivers/mpu4mdm.cpp",
+--	MAME_DIR .. "src/mame/drivers/mpu4misc.cpp",
+--	MAME_DIR .. "src/mame/drivers/mpu4mod2sw.cpp",
+--	MAME_DIR .. "src/mame/drivers/mpu4mod4yam.cpp",
+--	MAME_DIR .. "src/mame/drivers/mpu4plasma.cpp",
+--	MAME_DIR .. "src/mame/drivers/mpu4sw.cpp",
+--	MAME_DIR .. "src/mame/drivers/mpu4union.cpp",
+--	MAME_DIR .. "src/mame/drivers/mpu4vid.cpp",
+--	MAME_DIR .. "src/mame/drivers/mpu5.cpp",
+--	MAME_DIR .. "src/mame/drivers/mpu5sw.cpp",
 }
 
 createMAMEProjects(_target, _subtarget, "bfm")
 files {
 	MAME_DIR .. "src/mame/drivers/bfcobra.cpp",
-	MAME_DIR .. "src/mame/includes/bfm_ad5.h",
-	MAME_DIR .. "src/mame/drivers/bfm_ad5.cpp",
-	MAME_DIR .. "src/mame/drivers/bfm_ad5sw.cpp",
-	MAME_DIR .. "src/mame/drivers/bfm_sc1.cpp",
-	MAME_DIR .. "src/mame/drivers/bfm_sc2.cpp",
-	MAME_DIR .. "src/mame/includes/bfm_sc4.h",
-	MAME_DIR .. "src/mame/drivers/bfm_sc4.cpp",
-	MAME_DIR .. "src/mame/includes/bfm_sc5.h",
-	MAME_DIR .. "src/mame/drivers/bfm_sc5.cpp",
-	MAME_DIR .. "src/mame/drivers/bfm_sc5sw.cpp",
-	MAME_DIR .. "src/mame/drivers/bfm_swp.cpp",
-	MAME_DIR .. "src/mame/drivers/bfmsys83.cpp",
-	MAME_DIR .. "src/mame/drivers/bfmsys85.cpp",
+--	MAME_DIR .. "src/mame/includes/bfm_ad5.h",
+--	MAME_DIR .. "src/mame/drivers/bfm_ad5.cpp",
+--	MAME_DIR .. "src/mame/drivers/bfm_ad5sw.cpp",
+--	MAME_DIR .. "src/mame/drivers/bfm_sc1.cpp",
+--	MAME_DIR .. "src/mame/drivers/bfm_sc2.cpp",
+--	MAME_DIR .. "src/mame/includes/bfm_sc4.h",
+--	MAME_DIR .. "src/mame/drivers/bfm_sc4.cpp",
+--	MAME_DIR .. "src/mame/includes/bfm_sc5.h",
+--	MAME_DIR .. "src/mame/drivers/bfm_sc5.cpp",
+--	MAME_DIR .. "src/mame/drivers/bfm_sc5sw.cpp",
+--	MAME_DIR .. "src/mame/drivers/bfm_swp.cpp",
+--	MAME_DIR .. "src/mame/drivers/bfmsys83.cpp",
+--	MAME_DIR .. "src/mame/drivers/bfmsys85.cpp",
 	MAME_DIR .. "src/mame/drivers/rastersp.cpp",
-	MAME_DIR .. "src/mame/machine/bfm_bd1.h",
-	MAME_DIR .. "src/mame/machine/bfm_bd1.cpp",
-	MAME_DIR .. "src/mame/machine/bfm_bda.h",
-	MAME_DIR .. "src/mame/machine/bfm_bda.cpp",
-	MAME_DIR .. "src/mame/machine/bfm_comn.h",
-	MAME_DIR .. "src/mame/machine/bfm_comn.cpp",
-	MAME_DIR .. "src/mame/machine/bfm_sc45_helper.h",
-	MAME_DIR .. "src/mame/machine/bfm_sc45_helper.cpp",
-	MAME_DIR .. "src/mame/machine/sec.h",
-	MAME_DIR .. "src/mame/machine/sec.cpp",
-	MAME_DIR .. "src/mame/video/bfm_adr2.h",
-	MAME_DIR .. "src/mame/video/bfm_adr2.cpp",
-	MAME_DIR .. "src/mame/video/bfm_dm01.h",
+--	MAME_DIR .. "src/mame/machine/bfm_bd1.h",
+--	MAME_DIR .. "src/mame/machine/bfm_bd1.cpp",
+--	MAME_DIR .. "src/mame/machine/bfm_bda.h",
+--	MAME_DIR .. "src/mame/machine/bfm_bda.cpp",
+--	MAME_DIR .. "src/mame/machine/bfm_comn.h",
+--	MAME_DIR .. "src/mame/machine/bfm_comn.cpp",
+--	MAME_DIR .. "src/mame/machine/bfm_sc45_helper.h",
+--	MAME_DIR .. "src/mame/machine/bfm_sc45_helper.cpp",
+--	MAME_DIR .. "src/mame/machine/sec.h",
+--	MAME_DIR .. "src/mame/machine/sec.cpp",
+--	MAME_DIR .. "src/mame/video/bfm_adr2.h",
+--	MAME_DIR .. "src/mame/video/bfm_adr2.cpp",
+--	MAME_DIR .. "src/mame/video/bfm_dm01.h",
 	MAME_DIR .. "src/mame/video/bfm_dm01.cpp",
 }
 
@@ -1519,7 +1518,7 @@
 	MAME_DIR .. "src/mame/drivers/1943.cpp",
 	MAME_DIR .. "src/mame/includes/1943.h",
 	MAME_DIR .. "src/mame/video/1943.cpp",
-	MAME_DIR .. "src/mame/drivers/alien.cpp",
+--	MAME_DIR .. "src/mame/drivers/alien.cpp",
 	MAME_DIR .. "src/mame/drivers/bionicc.cpp",
 	MAME_DIR .. "src/mame/drivers/supduck.cpp",
 	MAME_DIR .. "src/mame/video/tigeroad_spr.cpp",
@@ -1654,11 +1653,11 @@
 
 createMAMEProjects(_target, _subtarget, "cirsa")
 files {
-	MAME_DIR .. "src/mame/drivers/cirsa820xxx.cpp",
+--	MAME_DIR .. "src/mame/drivers/cirsa820xxx.cpp",
 	MAME_DIR .. "src/mame/drivers/cirsa910510.cpp",
 	MAME_DIR .. "src/mame/drivers/miniguay.cpp",
 	MAME_DIR .. "src/mame/drivers/missbamby.cpp",
-	MAME_DIR .. "src/mame/drivers/neptunp2.cpp",
+--	MAME_DIR .. "src/mame/drivers/neptunp2.cpp",
 }
 
 createMAMEProjects(_target, _subtarget, "comad")
@@ -1771,7 +1770,7 @@
 	MAME_DIR .. "src/mame/drivers/exprraid.cpp",
 	MAME_DIR .. "src/mame/includes/exprraid.h",
 	MAME_DIR .. "src/mame/video/exprraid.cpp",
-	MAME_DIR .. "src/mame/drivers/ffantasy_ms.cpp",
+--	MAME_DIR .. "src/mame/drivers/ffantasy_ms.cpp",
 	MAME_DIR .. "src/mame/drivers/firetrap.cpp",
 	MAME_DIR .. "src/mame/includes/firetrap.h",
 	MAME_DIR .. "src/mame/video/firetrap.cpp",
@@ -2021,9 +2020,9 @@
 	MAME_DIR .. "src/mame/drivers/funworld.cpp",
 	MAME_DIR .. "src/mame/includes/funworld.h",
 	MAME_DIR .. "src/mame/video/funworld.cpp",
-	MAME_DIR .. "src/mame/drivers/photoply.cpp",
-	MAME_DIR .. "src/mame/drivers/photoplys.cpp",
-	MAME_DIR .. "src/mame/drivers/photoplysx.cpp",
+--	MAME_DIR .. "src/mame/drivers/photoply.cpp",
+--	MAME_DIR .. "src/mame/drivers/photoplys.cpp",
+--	MAME_DIR .. "src/mame/drivers/photoplysx.cpp",
 	MAME_DIR .. "src/mame/drivers/snookr10.cpp",
 	MAME_DIR .. "src/mame/includes/snookr10.h",
 	MAME_DIR .. "src/mame/video/snookr10.cpp",
@@ -2201,15 +2200,6 @@
 	MAME_DIR .. "src/mame/machine/igs028.h",
 }
 
-createMAMEProjects(_target, _subtarget, "igt")
-files {
-	MAME_DIR .. "src/mame/drivers/drw80pkr.cpp",
-	MAME_DIR .. "src/mame/drivers/gkigt.cpp",
-	MAME_DIR .. "src/mame/drivers/peplus.cpp",
-	MAME_DIR .. "src/mame/drivers/splus.cpp",
-	MAME_DIR .. "src/mame/drivers/videopkr.cpp",
-}
-
 createMAMEProjects(_target, _subtarget, "irem")
 files {
 	MAME_DIR .. "src/mame/drivers/m10.cpp",
@@ -2410,15 +2400,6 @@
 	MAME_DIR .. "src/mame/video/sknsspr.h",
 }
 
-createMAMEProjects(_target, _subtarget, "kiwako")
-files {
-	MAME_DIR .. "src/mame/drivers/jongkyo.cpp",
-	MAME_DIR .. "src/mame/drivers/koikoi.cpp",
-	MAME_DIR .. "src/mame/drivers/mrjong.cpp",
-	MAME_DIR .. "src/mame/includes/mrjong.h",
-	MAME_DIR .. "src/mame/video/mrjong.cpp",
-}
-
 createMAMEProjects(_target, _subtarget, "konami")
 files {
 	MAME_DIR .. "src/mame/drivers/88games.cpp",
@@ -2542,13 +2523,13 @@
 	MAME_DIR .. "src/mame/machine/3dom2.h",
 	MAME_DIR .. "src/mame/video/3dom2_te.cpp",
 	MAME_DIR .. "src/mame/video/3dom2_te.h",
-	MAME_DIR .. "src/mame/drivers/konblands.cpp",
-	MAME_DIR .. "src/mame/drivers/kongs470.cpp",
-	MAME_DIR .. "src/mame/drivers/konmedal.cpp",
-	MAME_DIR .. "src/mame/drivers/konmedal68k.cpp",
+--	MAME_DIR .. "src/mame/drivers/konblands.cpp",
+--	MAME_DIR .. "src/mame/drivers/kongs470.cpp",
+--	MAME_DIR .. "src/mame/drivers/konmedal.cpp",
+--	MAME_DIR .. "src/mame/drivers/konmedal68k.cpp",
 	MAME_DIR .. "src/mame/drivers/kontest.cpp",
-	MAME_DIR .. "src/mame/drivers/konendev.cpp",
-	MAME_DIR .. "src/mame/drivers/kpontoon.cpp",
+--	MAME_DIR .. "src/mame/drivers/konendev.cpp",
+--	MAME_DIR .. "src/mame/drivers/kpontoon.cpp",
 	MAME_DIR .. "src/mame/drivers/kpython.cpp",
 	MAME_DIR .. "src/mame/drivers/ksys573.cpp",
 	MAME_DIR .. "src/mame/machine/k573cass.cpp",
@@ -2609,9 +2590,9 @@
 	MAME_DIR .. "src/mame/includes/pingpong.h",
 	MAME_DIR .. "src/mame/video/pingpong.cpp",
 	MAME_DIR .. "src/mame/drivers/piratesh.cpp",
-	MAME_DIR .. "src/mame/drivers/plygonet.cpp",
-	MAME_DIR .. "src/mame/includes/plygonet.h",
-	MAME_DIR .. "src/mame/video/plygonet.cpp",
+--	MAME_DIR .. "src/mame/drivers/plygonet.cpp",
+--	MAME_DIR .. "src/mame/includes/plygonet.h",
+--	MAME_DIR .. "src/mame/video/plygonet.cpp",
 	MAME_DIR .. "src/mame/drivers/pooyan.cpp",
 	MAME_DIR .. "src/mame/includes/pooyan.h",
 	MAME_DIR .. "src/mame/video/pooyan.cpp",
@@ -2762,13 +2743,13 @@
 
 createMAMEProjects(_target, _subtarget, "maygay")
 files {
-	MAME_DIR .. "src/mame/includes/maygay1b.h",
-	MAME_DIR .. "src/mame/drivers/maygay1b.cpp",
-	MAME_DIR .. "src/mame/drivers/maygay1bsw.cpp",
-	MAME_DIR .. "src/mame/drivers/maygayv1.cpp",
-	MAME_DIR .. "src/mame/drivers/maygayep.cpp",
-	MAME_DIR .. "src/mame/drivers/maygayew.cpp",
-	MAME_DIR .. "src/mame/drivers/mmm.cpp",
+--	MAME_DIR .. "src/mame/drivers/maygay1b.cpp",
+--	MAME_DIR .. "src/mame/includes/maygay1b.h",
+--	MAME_DIR .. "src/mame/drivers/maygay1bsw.cpp",
+--	MAME_DIR .. "src/mame/drivers/maygayv1.cpp",
+--	MAME_DIR .. "src/mame/drivers/maygayep.cpp",
+--	MAME_DIR .. "src/mame/drivers/maygaysw.cpp",
+--	MAME_DIR .. "src/mame/drivers/mmm.cpp",
 }
 
 createMAMEProjects(_target, _subtarget, "meadows")
@@ -2889,7 +2870,7 @@
 	MAME_DIR .. "src/mame/drivers/mw18w.cpp",
 	MAME_DIR .. "src/mame/drivers/mwsub.cpp",
 	MAME_DIR .. "src/mame/drivers/omegrace.cpp",
-	MAME_DIR .. "src/mame/drivers/pinball2k.cpp",
+--	MAME_DIR .. "src/mame/drivers/pinball2k.cpp",
 	MAME_DIR .. "src/mame/drivers/seattle.cpp",
 	MAME_DIR .. "src/mame/drivers/sspeedr.cpp",
 	MAME_DIR .. "src/mame/includes/sspeedr.h",
@@ -2922,7 +2903,7 @@
 	MAME_DIR .. "src/mame/includes/dribling.h",
 	MAME_DIR .. "src/mame/video/dribling.cpp",
 	MAME_DIR .. "src/mame/drivers/sshot.cpp",
-	MAME_DIR .. "src/mame/drivers/subhuntr.cpp",
+--	MAME_DIR .. "src/mame/drivers/subhuntr.cpp",
 }
 
 createMAMEProjects(_target, _subtarget, "namco")
@@ -3483,7 +3464,7 @@
 	MAME_DIR .. "src/mame/includes/deniam.h",
 	MAME_DIR .. "src/mame/video/deniam.cpp",
 	MAME_DIR .. "src/mame/drivers/dotrikun.cpp",
-	MAME_DIR .. "src/mame/drivers/fwheel.cpp",
+--	MAME_DIR .. "src/mame/drivers/fwheel.cpp",
 	MAME_DIR .. "src/mame/drivers/gpworld.cpp",
 	MAME_DIR .. "src/mame/drivers/hikaru.cpp",
 	MAME_DIR .. "src/mame/drivers/hshavoc.cpp",
@@ -3735,8 +3716,8 @@
 
 createMAMEProjects(_target, _subtarget, "seibu")
 files {
-	MAME_DIR .. "src/mame/drivers/airraid.cpp",
-	MAME_DIR .. "src/mame/drivers/banprestoms.cpp",
+--	MAME_DIR .. "src/mame/drivers/airraid.cpp",
+--	MAME_DIR .. "src/mame/drivers/banprestoms.cpp",
 	MAME_DIR .. "src/mame/drivers/bloodbro.cpp",
 	MAME_DIR .. "src/mame/includes/bloodbro.h",
 	MAME_DIR .. "src/mame/video/bloodbro.cpp",
@@ -3871,9 +3852,9 @@
 files {
 	MAME_DIR .. "src/mame/drivers/nyny.cpp",
 	MAME_DIR .. "src/mame/drivers/r2dtank.cpp",
-	MAME_DIR .. "src/mame/drivers/sigma21.cpp",
-	MAME_DIR .. "src/mame/drivers/sigmab31.cpp",
-	MAME_DIR .. "src/mame/drivers/sigmab52.cpp",
+--	MAME_DIR .. "src/mame/drivers/sigma21.cpp",
+--	MAME_DIR .. "src/mame/drivers/sigmab31.cpp",
+--	MAME_DIR .. "src/mame/drivers/sigmab52.cpp",
 	MAME_DIR .. "src/mame/drivers/sigmab98.cpp",
 	MAME_DIR .. "src/mame/drivers/spiders.cpp",
 	MAME_DIR .. "src/mame/includes/spiders.h",
@@ -3997,6 +3978,12 @@
 	MAME_DIR .. "src/mame/drivers/tonton.cpp",
 }
 
+createMAMEProjects(_target, _subtarget, "sure")
+files {
+	MAME_DIR .. "src/mame/drivers/mil4000.cpp",
+
+}
+
 createMAMEProjects(_target, _subtarget, "taito")
 files {
 	MAME_DIR .. "src/mame/drivers/2mindril.cpp",
@@ -4461,6 +4448,11 @@
 	MAME_DIR .. "src/mame/video/toaplan_scu.h",
 }
 
+createMAMEProjects(_target, _subtarget, "tong")
+files {
+	MAME_DIR .. "src/mame/drivers/beezer.cpp",
+}
+
 createMAMEProjects(_target, _subtarget, "unico")
 files {
 	MAME_DIR .. "src/mame/drivers/drgnmst.cpp",
@@ -4650,128 +4642,131 @@
 
 createMAMEProjects(_target, _subtarget, "pinball")
 files {
-	MAME_DIR .. "src/mame/drivers/allied.cpp",
-	MAME_DIR .. "src/mame/drivers/alvg.cpp",
-	MAME_DIR .. "src/mame/drivers/atari_s1.cpp",
-	MAME_DIR .. "src/mame/drivers/atari_s2.cpp",
-	MAME_DIR .. "src/mame/drivers/barni.cpp",
-	MAME_DIR .. "src/mame/drivers/bingo.cpp",
-	MAME_DIR .. "src/mame/drivers/by17.cpp",
-	MAME_DIR .. "src/mame/drivers/by35.cpp",
-	MAME_DIR .. "src/mame/drivers/by6803.cpp",
-	MAME_DIR .. "src/mame/drivers/by68701.cpp",
-	MAME_DIR .. "src/mame/drivers/byvid.cpp",
-	MAME_DIR .. "src/mame/drivers/capcom.cpp",
-	MAME_DIR .. "src/mame/drivers/de_2.cpp",
-	MAME_DIR .. "src/mame/drivers/de_3.cpp",
-	MAME_DIR .. "src/mame/machine/decopincpu.cpp",
-	MAME_DIR .. "src/mame/machine/decopincpu.h",
-	MAME_DIR .. "src/mame/video/decodmd1.cpp",
-	MAME_DIR .. "src/mame/video/decodmd1.h",
-	MAME_DIR .. "src/mame/video/decodmd2.cpp",
-	MAME_DIR .. "src/mame/video/decodmd2.h",
-	MAME_DIR .. "src/mame/video/decodmd3.cpp",
-	MAME_DIR .. "src/mame/video/decodmd3.h",
-	MAME_DIR .. "src/mame/drivers/de_3b.cpp",
-	MAME_DIR .. "src/mame/drivers/flicker.cpp",
-	MAME_DIR .. "src/mame/drivers/g627.cpp",
-	MAME_DIR .. "src/mame/drivers/gp_1.cpp",
-	MAME_DIR .. "src/mame/machine/genpin.cpp",
-	MAME_DIR .. "src/mame/machine/genpin.h",
-	MAME_DIR .. "src/mame/drivers/gp_2.cpp",
-	MAME_DIR .. "src/mame/drivers/gts1.cpp",
-	MAME_DIR .. "src/mame/drivers/gts3.cpp",
-	MAME_DIR .. "src/mame/drivers/gts3a.cpp",
-	MAME_DIR .. "src/mame/drivers/gts80.cpp",
-	MAME_DIR .. "src/mame/drivers/gts80a.cpp",
-	MAME_DIR .. "src/mame/drivers/gts80b.cpp",
-	MAME_DIR .. "src/mame/drivers/hankin.cpp",
-	MAME_DIR .. "src/mame/drivers/icecold.cpp",
-	MAME_DIR .. "src/mame/drivers/idsa.cpp",
-	MAME_DIR .. "src/mame/drivers/inder.cpp",
-	MAME_DIR .. "src/mame/drivers/inderp.cpp",
-	MAME_DIR .. "src/mame/drivers/jeutel.cpp",
-	MAME_DIR .. "src/mame/drivers/joctronic.cpp",
-	MAME_DIR .. "src/mame/drivers/jp.cpp",
-	MAME_DIR .. "src/mame/drivers/jvh.cpp",
-	MAME_DIR .. "src/mame/drivers/kissproto.cpp",
-	MAME_DIR .. "src/mame/drivers/lckydraw.cpp",
-	MAME_DIR .. "src/mame/drivers/ltd.cpp",
-	MAME_DIR .. "src/mame/drivers/macp.cpp",
-	MAME_DIR .. "src/mame/drivers/micropin.cpp",
-	MAME_DIR .. "src/mame/drivers/missamer.cpp",
-	MAME_DIR .. "src/mame/drivers/mephistp.cpp",
-	MAME_DIR .. "src/mame/drivers/mrgame.cpp",
-	MAME_DIR .. "src/mame/drivers/nsm.cpp",
-	MAME_DIR .. "src/mame/drivers/peyper.cpp",
-	MAME_DIR .. "src/mame/drivers/play_1.cpp",
-	MAME_DIR .. "src/mame/drivers/play_2.cpp",
-	MAME_DIR .. "src/mame/drivers/play_3.cpp",
-	MAME_DIR .. "src/mame/drivers/rowamet.cpp",
-	MAME_DIR .. "src/mame/drivers/s11.cpp",
-	MAME_DIR .. "src/mame/includes/s11.h",
-	MAME_DIR .. "src/mame/drivers/s11a.cpp",
-	MAME_DIR .. "src/mame/includes/s11a.h",
-	MAME_DIR .. "src/mame/drivers/s11b.cpp",
-	MAME_DIR .. "src/mame/includes/s11b.h",
-	MAME_DIR .. "src/mame/drivers/s11c.cpp",
-	MAME_DIR .. "src/mame/includes/s11c.h",
-	MAME_DIR .. "src/mame/audio/pinsnd88.cpp",
-	MAME_DIR .. "src/mame/audio/pinsnd88.h",
+--	MAME_DIR .. "src/mame/drivers/allied.cpp",
+--	MAME_DIR .. "src/mame/drivers/alvg.cpp",
+--	MAME_DIR .. "src/mame/drivers/atari_s1.cpp",
+--	MAME_DIR .. "src/mame/drivers/atari_s2.cpp",
+--	MAME_DIR .. "src/mame/drivers/barni.cpp",
+--	MAME_DIR .. "src/mame/drivers/bingo.cpp",
+--	MAME_DIR .. "src/mame/drivers/by17.cpp",
+--	MAME_DIR .. "src/mame/drivers/by35.cpp",
+--	MAME_DIR .. "src/mame/drivers/by6803.cpp",
+--	MAME_DIR .. "src/mame/drivers/by68701.cpp",
+--	MAME_DIR .. "src/mame/drivers/byvid.cpp",
+--	MAME_DIR .. "src/mame/drivers/capcom.cpp",
+--	MAME_DIR .. "src/mame/drivers/de_2.cpp",
+--	MAME_DIR .. "src/mame/drivers/de_3.cpp",
+--	MAME_DIR .. "src/mame/machine/decopincpu.cpp",
+--	MAME_DIR .. "src/mame/machine/decopincpu.h",
+--	MAME_DIR .. "src/mame/video/decodmd1.cpp",
+--	MAME_DIR .. "src/mame/video/decodmd1.h",
+--	MAME_DIR .. "src/mame/video/decodmd2.cpp",
+--	MAME_DIR .. "src/mame/video/decodmd2.h",
+--	MAME_DIR .. "src/mame/video/decodmd3.cpp",
+--	MAME_DIR .. "src/mame/video/decodmd3.h",
+--	MAME_DIR .. "src/mame/drivers/de_3b.cpp",
+--	MAME_DIR .. "src/mame/drivers/flicker.cpp",
+--	MAME_DIR .. "src/mame/drivers/g627.cpp",
+--	MAME_DIR .. "src/mame/drivers/gp_1.cpp",
+--	MAME_DIR .. "src/mame/machine/genpin.cpp",
+--	MAME_DIR .. "src/mame/machine/genpin.h",
+--	MAME_DIR .. "src/mame/drivers/gp_2.cpp",
+--	MAME_DIR .. "src/mame/drivers/gts1.cpp",
+--	MAME_DIR .. "src/mame/drivers/gts3.cpp",
+--	MAME_DIR .. "src/mame/drivers/gts3a.cpp",
+--	MAME_DIR .. "src/mame/drivers/gts80.cpp",
+--	MAME_DIR .. "src/mame/drivers/gts80a.cpp",
+--	MAME_DIR .. "src/mame/drivers/gts80b.cpp",
+--	MAME_DIR .. "src/mame/drivers/hankin.cpp",
+--	MAME_DIR .. "src/mame/drivers/icecold.cpp",
+--	MAME_DIR .. "src/mame/drivers/idsa.cpp",
+--	MAME_DIR .. "src/mame/drivers/inder.cpp",
+--	MAME_DIR .. "src/mame/drivers/inderp.cpp",
+--	MAME_DIR .. "src/mame/drivers/jeutel.cpp",
+--	MAME_DIR .. "src/mame/drivers/joctronic.cpp",
+--	MAME_DIR .. "src/mame/drivers/jp.cpp",
+--	MAME_DIR .. "src/mame/drivers/jvh.cpp",
+--	MAME_DIR .. "src/mame/drivers/kissproto.cpp",
+--	MAME_DIR .. "src/mame/drivers/lckydraw.cpp",
+--	MAME_DIR .. "src/mame/drivers/ltd.cpp",
+--	MAME_DIR .. "src/mame/drivers/macp.cpp",
+--	MAME_DIR .. "src/mame/drivers/micropin.cpp",
+--	MAME_DIR .. "src/mame/drivers/missamer.cpp",
+--	MAME_DIR .. "src/mame/drivers/mephistp.cpp",
+--	MAME_DIR .. "src/mame/drivers/mrgame.cpp",
+--	MAME_DIR .. "src/mame/drivers/nsm.cpp",
+--	MAME_DIR .. "src/mame/drivers/peyper.cpp",
+--	MAME_DIR .. "src/mame/drivers/play_1.cpp",
+--	MAME_DIR .. "src/mame/drivers/play_2.cpp",
+--	MAME_DIR .. "src/mame/drivers/play_3.cpp",
+--	MAME_DIR .. "src/mame/drivers/rowamet.cpp",
+--	MAME_DIR .. "src/mame/drivers/s11.cpp",
+--	MAME_DIR .. "src/mame/includes/s11.h",
+--	MAME_DIR .. "src/mame/drivers/s11a.cpp",
+--	MAME_DIR .. "src/mame/includes/s11a.h",
+--	MAME_DIR .. "src/mame/drivers/s11b.cpp",
+--	MAME_DIR .. "src/mame/includes/s11b.h",
+--	MAME_DIR .. "src/mame/drivers/s11c.cpp",
+--	MAME_DIR .. "src/mame/includes/s11c.h",
+--	MAME_DIR .. "src/mame/audio/pinsnd88.cpp",
+--	MAME_DIR .. "src/mame/audio/pinsnd88.h",
 	MAME_DIR .. "src/mame/audio/s11c_bg.cpp",
-	MAME_DIR .. "src/mame/audio/s11c_bg.h",
-	MAME_DIR .. "src/mame/drivers/s3.cpp",
-	MAME_DIR .. "src/mame/drivers/s4.cpp",
-	MAME_DIR .. "src/mame/drivers/s6.cpp",
-	MAME_DIR .. "src/mame/drivers/s6a.cpp",
-	MAME_DIR .. "src/mame/drivers/s7.cpp",
-	MAME_DIR .. "src/mame/drivers/s8.cpp",
-	MAME_DIR .. "src/mame/drivers/s8a.cpp",
-	MAME_DIR .. "src/mame/drivers/s9.cpp",
-	MAME_DIR .. "src/mame/drivers/sam.cpp",
-	MAME_DIR .. "src/mame/drivers/sleic.cpp",
-	MAME_DIR .. "src/mame/drivers/spectra.cpp",
-	MAME_DIR .. "src/mame/drivers/spinb.cpp",
-	MAME_DIR .. "src/mame/drivers/spirit76.cpp",
-	MAME_DIR .. "src/mame/drivers/st_mp100.cpp",
-	MAME_DIR .. "src/mame/drivers/st_mp200.cpp",
-	MAME_DIR .. "src/mame/drivers/stargame.cpp",
-	MAME_DIR .. "src/mame/drivers/supstarf.cpp",
-	MAME_DIR .. "src/mame/drivers/taito.cpp",
-	MAME_DIR .. "src/mame/drivers/techno.cpp",
-	MAME_DIR .. "src/mame/drivers/vd.cpp",
-	MAME_DIR .. "src/mame/drivers/whitestar.cpp",
-	MAME_DIR .. "src/mame/drivers/white_mod.cpp",
-	MAME_DIR .. "src/mame/drivers/wico.cpp",
-	MAME_DIR .. "src/mame/drivers/wpc_95.cpp",
-	MAME_DIR .. "src/mame/drivers/wpc_an.cpp",
-	MAME_DIR .. "src/mame/drivers/wpc_dcs.cpp",
-	MAME_DIR .. "src/mame/drivers/wpc_dot.cpp",
-	MAME_DIR .. "src/mame/includes/wpc_dot.h",
-	MAME_DIR .. "src/mame/drivers/wpc_flip1.cpp",
-	MAME_DIR .. "src/mame/includes/wpc_flip1.h",
-	MAME_DIR .. "src/mame/drivers/wpc_flip2.cpp",
-	MAME_DIR .. "src/mame/includes/wpc_flip2.h",
-	MAME_DIR .. "src/mame/drivers/wpc_s.cpp",
-	MAME_DIR .. "src/mame/machine/wpc.cpp",
-	MAME_DIR .. "src/mame/machine/wpc.h",
+--	MAME_DIR .. "src/mame/audio/s11c_bg.h",
+--	MAME_DIR .. "src/mame/drivers/s3.cpp",
+--	MAME_DIR .. "src/mame/drivers/s4.cpp",
+--	MAME_DIR .. "src/mame/drivers/s6.cpp",
+--	MAME_DIR .. "src/mame/drivers/s6a.cpp",
+--	MAME_DIR .. "src/mame/drivers/s7.cpp",
+--	MAME_DIR .. "src/mame/drivers/s8.cpp",
+--	MAME_DIR .. "src/mame/drivers/s8a.cpp",
+--	MAME_DIR .. "src/mame/drivers/s9.cpp",
+--	MAME_DIR .. "src/mame/drivers/sam.cpp",
+--	MAME_DIR .. "src/mame/drivers/sleic.cpp",
+--	MAME_DIR .. "src/mame/drivers/spectra.cpp",
+--	MAME_DIR .. "src/mame/drivers/spinb.cpp",
+--	MAME_DIR .. "src/mame/drivers/spirit76.cpp",
+--	MAME_DIR .. "src/mame/drivers/st_mp100.cpp",
+--	MAME_DIR .. "src/mame/drivers/st_mp200.cpp",
+--	MAME_DIR .. "src/mame/drivers/stargame.cpp",
+--	MAME_DIR .. "src/mame/drivers/supstarf.cpp",
+--	MAME_DIR .. "src/mame/drivers/taito.cpp",
+--	MAME_DIR .. "src/mame/drivers/techno.cpp",
+--	MAME_DIR .. "src/mame/drivers/vd.cpp",
+--	MAME_DIR .. "src/mame/drivers/whitestar.cpp",
+--	MAME_DIR .. "src/mame/drivers/white_mod.cpp",
+--	MAME_DIR .. "src/mame/drivers/wico.cpp",
+--	MAME_DIR .. "src/mame/drivers/wpc_95.cpp",
+--	MAME_DIR .. "src/mame/drivers/wpc_an.cpp",
+--	MAME_DIR .. "src/mame/drivers/wpc_dcs.cpp",
+--	MAME_DIR .. "src/mame/drivers/wpc_dot.cpp",
+--	MAME_DIR .. "src/mame/includes/wpc_dot.h",
+--	MAME_DIR .. "src/mame/drivers/wpc_flip1.cpp",
+--	MAME_DIR .. "src/mame/includes/wpc_flip1.h",
+--	MAME_DIR .. "src/mame/drivers/wpc_flip2.cpp",
+--	MAME_DIR .. "src/mame/includes/wpc_flip2.h",
+--	MAME_DIR .. "src/mame/drivers/wpc_s.cpp",
+--	MAME_DIR .. "src/mame/machine/wpc.cpp",
+--	MAME_DIR .. "src/mame/machine/wpc.h",
+--	MAME_DIR .. "src/mame/drivers/regama.cpp",
+--	MAME_DIR .. "src/mame/audio/pinsnd88.cpp",
+--	MAME_DIR .. "src/mame/audio/pinsnd88.h",
 	MAME_DIR .. "src/mame/audio/bally.cpp",
-	MAME_DIR .. "src/mame/audio/wpcsnd.cpp",
-	MAME_DIR .. "src/mame/audio/wpcsnd.h",
-	MAME_DIR .. "src/mame/video/wpc_dmd.cpp",
-	MAME_DIR .. "src/mame/video/wpc_dmd.h",
-	MAME_DIR .. "src/mame/machine/wpc_pic.cpp",
-	MAME_DIR .. "src/mame/machine/wpc_pic.h",
-	MAME_DIR .. "src/mame/machine/wpc_lamp.cpp",
-	MAME_DIR .. "src/mame/machine/wpc_lamp.h",
-	MAME_DIR .. "src/mame/machine/wpc_out.cpp",
-	MAME_DIR .. "src/mame/machine/wpc_out.h",
-	MAME_DIR .. "src/mame/machine/wpc_shift.cpp",
-	MAME_DIR .. "src/mame/machine/wpc_shift.h",
-	MAME_DIR .. "src/mame/drivers/zac_1.cpp",
-	MAME_DIR .. "src/mame/drivers/zac_2.cpp",
-	MAME_DIR .. "src/mame/drivers/zac_proto.cpp",
-	MAME_DIR .. "src/mame/drivers/zpinball.cpp",
+--	MAME_DIR .. "src/mame/audio/wpcsnd.cpp",
+--	MAME_DIR .. "src/mame/audio/wpcsnd.h",
+--	MAME_DIR .. "src/mame/video/wpc_dmd.cpp",
+--	MAME_DIR .. "src/mame/video/wpc_dmd.h",
+--	MAME_DIR .. "src/mame/machine/wpc_pic.cpp",
+--	MAME_DIR .. "src/mame/machine/wpc_pic.h",
+--	MAME_DIR .. "src/mame/machine/wpc_lamp.cpp",
+--	MAME_DIR .. "src/mame/machine/wpc_lamp.h",
+--	MAME_DIR .. "src/mame/machine/wpc_out.cpp",
+--	MAME_DIR .. "src/mame/machine/wpc_out.h",
+--	MAME_DIR .. "src/mame/machine/wpc_shift.cpp",
+--	MAME_DIR .. "src/mame/machine/wpc_shift.h",
+--	MAME_DIR .. "src/mame/drivers/zac_1.cpp",
+--	MAME_DIR .. "src/mame/drivers/zac_2.cpp",
+--	MAME_DIR .. "src/mame/drivers/zac_proto.cpp",
+--	MAME_DIR .. "src/mame/drivers/zpinball.cpp",
 }
 
 --------------------------------------------------
@@ -4781,66 +4776,66 @@
 createMAMEProjects(_target, _subtarget, "misc")
 files {
 	MAME_DIR .. "src/mame/drivers/39in1.cpp",
-	MAME_DIR .. "src/mame/drivers/3do.cpp",
-	MAME_DIR .. "src/mame/includes/3do.h",
-	MAME_DIR .. "src/mame/machine/3do.cpp",
+--	MAME_DIR .. "src/mame/machine/pxa255.h",
+--	MAME_DIR .. "src/mame/drivers/3do.cpp",
+--	MAME_DIR .. "src/mame/includes/3do.h",
+--	MAME_DIR .. "src/mame/machine/3do.cpp",
 	MAME_DIR .. "src/mame/drivers/4enraya.cpp",
 	MAME_DIR .. "src/mame/includes/4enraya.h",
 	MAME_DIR .. "src/mame/video/4enraya.cpp",
-	MAME_DIR .. "src/mame/drivers/4enlinea.cpp",
-	MAME_DIR .. "src/mame/drivers/5clown.cpp",
-	MAME_DIR .. "src/mame/drivers/a1supply.cpp",
-	MAME_DIR .. "src/mame/drivers/acefruit.cpp",
-	MAME_DIR .. "src/mame/drivers/aces1.cpp",
-	MAME_DIR .. "src/mame/drivers/acesp.cpp",
-	MAME_DIR .. "src/mame/drivers/age_candy.cpp",
+--	MAME_DIR .. "src/mame/drivers/4enlinea.cpp",
+--	MAME_DIR .. "src/mame/drivers/5clown.cpp",
+--	MAME_DIR .. "src/mame/drivers/a1supply.cpp",
+--	MAME_DIR .. "src/mame/drivers/acefruit.cpp",
+--	MAME_DIR .. "src/mame/drivers/aces1.cpp",
+--	MAME_DIR .. "src/mame/drivers/acesp.cpp",
+--	MAME_DIR .. "src/mame/drivers/age_candy.cpp",
 	MAME_DIR .. "src/mame/drivers/alinvade.cpp",
-	MAME_DIR .. "src/mame/drivers/amaticmg.cpp",
-	MAME_DIR .. "src/mame/drivers/amerihok.cpp",
-	MAME_DIR .. "src/mame/drivers/ampoker2.cpp",
-	MAME_DIR .. "src/mame/includes/ampoker2.h",
-	MAME_DIR .. "src/mame/video/ampoker2.cpp",
+--	MAME_DIR .. "src/mame/drivers/amaticmg.cpp",
+--	MAME_DIR .. "src/mame/drivers/amerihok.cpp",
+--	MAME_DIR .. "src/mame/drivers/ampoker2.cpp",
+--	MAME_DIR .. "src/mame/includes/ampoker2.h",
+--	MAME_DIR .. "src/mame/video/ampoker2.cpp",
 	MAME_DIR .. "src/mame/drivers/amspdwy.cpp",
 	MAME_DIR .. "src/mame/includes/amspdwy.h",
 	MAME_DIR .. "src/mame/video/amspdwy.cpp",
-	MAME_DIR .. "src/mame/drivers/amusco.cpp",
-	MAME_DIR .. "src/mame/drivers/anes.cpp",
-	MAME_DIR .. "src/mame/drivers/arachnid.cpp",
+--	MAME_DIR .. "src/mame/drivers/amusco.cpp",
+--	MAME_DIR .. "src/mame/drivers/anes.cpp",
+--	MAME_DIR .. "src/mame/drivers/arachnid.cpp",
 	MAME_DIR .. "src/mame/drivers/artmagic.cpp",
 	MAME_DIR .. "src/mame/includes/artmagic.h",
 	MAME_DIR .. "src/mame/video/artmagic.cpp",
-	MAME_DIR .. "src/mame/drivers/astrafr.cpp",
-	MAME_DIR .. "src/mame/drivers/astrcorp.cpp",
-	MAME_DIR .. "src/mame/drivers/astropc.cpp",
-	MAME_DIR .. "src/mame/drivers/atronic.cpp",
+--	MAME_DIR .. "src/mame/drivers/astrafr.cpp",
+--	MAME_DIR .. "src/mame/drivers/astrcorp.cpp",
+--	MAME_DIR .. "src/mame/drivers/astropc.cpp",
+--	MAME_DIR .. "src/mame/drivers/atronic.cpp",
 	MAME_DIR .. "src/mame/drivers/attckufo.cpp",
-	MAME_DIR .. "src/mame/drivers/avt.cpp",
+--	MAME_DIR .. "src/mame/drivers/avt.cpp",
 	MAME_DIR .. "src/mame/drivers/aztarac.cpp",
 	MAME_DIR .. "src/mame/includes/aztarac.h",
 	MAME_DIR .. "src/mame/audio/aztarac.cpp",
 	MAME_DIR .. "src/mame/video/aztarac.cpp",
-	MAME_DIR .. "src/mame/drivers/bailey.cpp",
+--	MAME_DIR .. "src/mame/drivers/bailey.cpp",
 	MAME_DIR .. "src/mame/drivers/beaminv.cpp",
-	MAME_DIR .. "src/mame/drivers/beezer.cpp",
-	MAME_DIR .. "src/mame/drivers/belatra.cpp",
-	MAME_DIR .. "src/mame/drivers/bgt.cpp",
-	MAME_DIR .. "src/mame/drivers/bingoman.cpp",
-	MAME_DIR .. "src/mame/drivers/bingor.cpp",
-	MAME_DIR .. "src/mame/drivers/blitz68k.cpp",
+--	MAME_DIR .. "src/mame/drivers/belatra.cpp",
+--	MAME_DIR .. "src/mame/drivers/bgt.cpp",
+--	MAME_DIR .. "src/mame/drivers/bingoman.cpp",
+--	MAME_DIR .. "src/mame/drivers/bingor.cpp",
+--	MAME_DIR .. "src/mame/drivers/blitz68k.cpp",
 	MAME_DIR .. "src/mame/drivers/blocktax.cpp",
-	MAME_DIR .. "src/mame/drivers/buster.cpp",
-	MAME_DIR .. "src/mame/drivers/calomega.cpp",
-	MAME_DIR .. "src/mame/includes/calomega.h",
-	MAME_DIR .. "src/mame/video/calomega.cpp",
+--	MAME_DIR .. "src/mame/drivers/buster.cpp",
+--	MAME_DIR .. "src/mame/drivers/calomega.cpp",
+--	MAME_DIR .. "src/mame/includes/calomega.h",
+--	MAME_DIR .. "src/mame/video/calomega.cpp",
 	MAME_DIR .. "src/mame/drivers/cardline.cpp",
 	MAME_DIR .. "src/mame/drivers/carrera.cpp",
-	MAME_DIR .. "src/mame/drivers/castle.cpp",
+--	MAME_DIR .. "src/mame/drivers/castle.cpp",
 	MAME_DIR .. "src/mame/drivers/cave.cpp",
 	MAME_DIR .. "src/mame/includes/cave.h",
 	MAME_DIR .. "src/mame/video/cave.cpp",
 	MAME_DIR .. "src/mame/drivers/cavepc.cpp",
 	MAME_DIR .. "src/mame/drivers/cv1k.cpp",
-	MAME_DIR .. "src/mame/drivers/cb2001.cpp",
+--	MAME_DIR .. "src/mame/drivers/cb2001.cpp",
 	MAME_DIR .. "src/mame/drivers/cdi.cpp",
 	MAME_DIR .. "src/mame/includes/cdi.h",
 	MAME_DIR .. "src/mame/video/mcd212.cpp",
@@ -4851,23 +4846,23 @@
 	MAME_DIR .. "src/mame/machine/cdicdic.h",
 	MAME_DIR .. "src/mame/drivers/chameleonrx1.cpp",
 	MAME_DIR .. "src/mame/drivers/chance32.cpp",
-	MAME_DIR .. "src/mame/drivers/changyu.cpp",
-	MAME_DIR .. "src/mame/drivers/chexx.cpp",
-	MAME_DIR .. "src/mame/drivers/chicago.cpp",
-	MAME_DIR .. "src/mame/drivers/chsuper.cpp",
-	MAME_DIR .. "src/mame/drivers/clowndwn.cpp",
-	MAME_DIR .. "src/mame/drivers/clpoker.cpp",
+--	MAME_DIR .. "src/mame/drivers/changyu.cpp",
+--	MAME_DIR .. "src/mame/drivers/chexx.cpp",
+--	MAME_DIR .. "src/mame/drivers/chicago.cpp",
+--	MAME_DIR .. "src/mame/drivers/chsuper.cpp",
+--	MAME_DIR .. "src/mame/drivers/clowndwn.cpp",
+--	MAME_DIR .. "src/mame/drivers/clpoker.cpp",
 	MAME_DIR .. "src/mame/drivers/cocoloco.cpp",
 	MAME_DIR .. "src/mame/audio/nl_cocoloco.h",
 	MAME_DIR .. "src/mame/audio/nl_cocoloco.cpp",
 	MAME_DIR .. "src/mame/drivers/coinmstr.cpp",
-	MAME_DIR .. "src/mame/drivers/coinmvga.cpp",
-	MAME_DIR .. "src/mame/drivers/cointek.cpp",
+--	MAME_DIR .. "src/mame/drivers/coinmvga.cpp",
+--	MAME_DIR .. "src/mame/drivers/cointek.cpp",
 	MAME_DIR .. "src/mame/drivers/comebaby.cpp",
-	MAME_DIR .. "src/mame/drivers/cowtipping.cpp",
-	MAME_DIR .. "src/mame/drivers/crazybal.cpp",
-	MAME_DIR .. "src/mame/drivers/cromptons.cpp",
-	MAME_DIR .. "src/mame/drivers/cupidon.cpp",
+--	MAME_DIR .. "src/mame/drivers/cowtipping.cpp",
+--	MAME_DIR .. "src/mame/drivers/crazybal.cpp",
+--	MAME_DIR .. "src/mame/drivers/cromptons.cpp",
+--	MAME_DIR .. "src/mame/drivers/cupidon.cpp",
 	MAME_DIR .. "src/mame/drivers/bntyhunt.cpp",
 	MAME_DIR .. "src/mame/drivers/coolpool.cpp",
 	MAME_DIR .. "src/mame/includes/coolpool.h",
@@ -4899,56 +4894,58 @@
 	MAME_DIR .. "src/mame/drivers/dorachan.cpp",
 	MAME_DIR .. "src/mame/drivers/drdmania.cpp",
 	MAME_DIR .. "src/mame/drivers/dreamwld.cpp",
-	MAME_DIR .. "src/mame/drivers/dwarfd.cpp",
+--	MAME_DIR .. "src/mame/drivers/drw80pkr.cpp",
+--	MAME_DIR .. "src/mame/drivers/dwarfd.cpp",
 	MAME_DIR .. "src/mame/drivers/dynadice.cpp",
 	MAME_DIR .. "src/mame/drivers/dynamoah.cpp",
-	MAME_DIR .. "src/mame/drivers/ecoinfr.cpp",
-	MAME_DIR .. "src/mame/drivers/ecoinf1.cpp",
-	MAME_DIR .. "src/mame/drivers/ecoinf2.cpp",
-	MAME_DIR .. "src/mame/drivers/ecoinf3.cpp",
+--	MAME_DIR .. "src/mame/drivers/ecoinfr.cpp",
+--	MAME_DIR .. "src/mame/drivers/ecoinf1.cpp",
+--	MAME_DIR .. "src/mame/drivers/ecoinf2.cpp",
+--	MAME_DIR .. "src/mame/drivers/ecoinf3.cpp",
 	MAME_DIR .. "src/mame/includes/efdt.h",
 	MAME_DIR .. "src/mame/drivers/efdt.cpp",
-	MAME_DIR .. "src/mame/drivers/electra.cpp",
+--	MAME_DIR .. "src/mame/drivers/electra.cpp",
 	MAME_DIR .. "src/mame/drivers/epos.cpp",
 	MAME_DIR .. "src/mame/includes/epos.h",
 	MAME_DIR .. "src/mame/video/epos.cpp",
 	MAME_DIR .. "src/mame/drivers/esd16.cpp",
 	MAME_DIR .. "src/mame/includes/esd16.h",
 	MAME_DIR .. "src/mame/video/esd16.cpp",
-	MAME_DIR .. "src/mame/drivers/esh.cpp",
+--	MAME_DIR .. "src/mame/drivers/esh.cpp",
 	MAME_DIR .. "src/mame/drivers/esripsys.cpp",
 	MAME_DIR .. "src/mame/includes/esripsys.h",
 	MAME_DIR .. "src/mame/video/esripsys.cpp",
 	MAME_DIR .. "src/mame/drivers/ettrivia.cpp",
-	MAME_DIR .. "src/mame/drivers/extrema.cpp",
+--	MAME_DIR .. "src/mame/drivers/extrema.cpp",
 	MAME_DIR .. "src/mame/drivers/ez2d.cpp",
 	MAME_DIR .. "src/mame/drivers/fastinvaders.cpp",
-	MAME_DIR .. "src/mame/drivers/fireball.cpp",
+--	MAME_DIR .. "src/mame/drivers/fireball.cpp",
 	MAME_DIR .. "src/mame/drivers/flipjack.cpp",
 	MAME_DIR .. "src/mame/drivers/flower.cpp",
 	MAME_DIR .. "src/mame/audio/flower.cpp",
-	MAME_DIR .. "src/mame/drivers/fortecar.cpp",
-	MAME_DIR .. "src/mame/drivers/fresh.cpp",
+--	MAME_DIR .. "src/mame/drivers/fortecar.cpp",
+--	MAME_DIR .. "src/mame/drivers/fresh.cpp",
 	MAME_DIR .. "src/mame/drivers/freekick.cpp",
 	MAME_DIR .. "src/mame/includes/freekick.h",
 	MAME_DIR .. "src/mame/video/freekick.cpp",
-	MAME_DIR .. "src/mame/drivers/freeway.cpp",
-	MAME_DIR .. "src/mame/drivers/fungames.cpp",
+--	MAME_DIR .. "src/mame/drivers/freeway.cpp",
+--	MAME_DIR .. "src/mame/drivers/fungames.cpp",
 	MAME_DIR .. "src/mame/drivers/funkball.cpp",
-	MAME_DIR .. "src/mame/drivers/gambl186.cpp",
+--	MAME_DIR .. "src/mame/drivers/gambl186.cpp",
 	MAME_DIR .. "src/mame/drivers/galaxi.cpp",
 	MAME_DIR .. "src/mame/drivers/galgame.cpp",
-	MAME_DIR .. "src/mame/drivers/gamecstl.cpp",
-	MAME_DIR .. "src/mame/drivers/gamemasters.cpp",
-	MAME_DIR .. "src/mame/drivers/gammagic.cpp",
-	MAME_DIR .. "src/mame/drivers/gamtor.cpp",
+--	MAME_DIR .. "src/mame/drivers/gamecstl.cpp",
+--	MAME_DIR .. "src/mame/drivers/gamemasters.cpp",
+--	MAME_DIR .. "src/mame/drivers/gammagic.cpp",
+--	MAME_DIR .. "src/mame/drivers/gamtor.cpp",
 	MAME_DIR .. "src/mame/drivers/gei.cpp",
-	MAME_DIR .. "src/mame/drivers/gfamily.cpp",
-	MAME_DIR .. "src/mame/drivers/globalfr.cpp",
-	MAME_DIR .. "src/mame/drivers/globalvr.cpp",
+--	MAME_DIR .. "src/mame/drivers/gfamily.cpp",
+--	MAME_DIR .. "src/mame/drivers/gkigt.cpp",
+--	MAME_DIR .. "src/mame/drivers/globalfr.cpp",
+--	MAME_DIR .. "src/mame/drivers/globalvr.cpp",
 	MAME_DIR .. "src/mame/drivers/gluck2.cpp",
-	MAME_DIR .. "src/mame/drivers/goldngam.cpp",
-	MAME_DIR .. "src/mame/drivers/goldnpkr.cpp",
+--	MAME_DIR .. "src/mame/drivers/goldngam.cpp",
+--	MAME_DIR .. "src/mame/drivers/goldnpkr.cpp",
 	MAME_DIR .. "src/mame/drivers/good.cpp",
 	MAME_DIR .. "src/mame/drivers/gotcha.cpp",
 	MAME_DIR .. "src/mame/includes/gotcha.h",
@@ -4958,35 +4955,37 @@
 	MAME_DIR .. "src/mame/includes/gumbo.h",
 	MAME_DIR .. "src/mame/video/gumbo.cpp",
 	MAME_DIR .. "src/mame/drivers/gunpey.cpp",
-	MAME_DIR .. "src/mame/drivers/hapyfish.cpp",
-	MAME_DIR .. "src/mame/drivers/hideseek.cpp",
-	MAME_DIR .. "src/mame/drivers/hazelgr.cpp",
+--	MAME_DIR .. "src/mame/drivers/hapyfish.cpp",
+--	MAME_DIR .. "src/mame/drivers/hideseek.cpp",
+--	MAME_DIR .. "src/mame/drivers/hazelgr.cpp",
 	MAME_DIR .. "src/mame/drivers/headonb.cpp",
-	MAME_DIR .. "src/mame/drivers/highvdeo.cpp",
-	MAME_DIR .. "src/mame/drivers/hitpoker.cpp",
-	MAME_DIR .. "src/mame/drivers/hobbyplay.cpp",
+--	MAME_DIR .. "src/mame/drivers/highvdeo.cpp",
+--	MAME_DIR .. "src/mame/drivers/hitpoker.cpp",
+--	MAME_DIR .. "src/mame/drivers/hobbyplay.cpp",
 	MAME_DIR .. "src/mame/drivers/homedata.cpp",
 	MAME_DIR .. "src/mame/includes/homedata.h",
 	MAME_DIR .. "src/mame/video/homedata.cpp",
 	MAME_DIR .. "src/mame/drivers/hotblock.cpp",
-	MAME_DIR .. "src/mame/drivers/hotstuff.cpp",
-	MAME_DIR .. "src/mame/drivers/ichiban.cpp",
+--	MAME_DIR .. "src/mame/drivers/hotstuff.cpp",
+--	MAME_DIR .. "src/mame/drivers/ichiban.cpp",
 	MAME_DIR .. "src/mame/drivers/imolagp.cpp",
-	MAME_DIR .. "src/mame/drivers/intrscti.cpp",
-	MAME_DIR .. "src/mame/drivers/island.cpp",
-	MAME_DIR .. "src/mame/drivers/istellar.cpp",
-	MAME_DIR .. "src/mame/drivers/itgambl2.cpp",
-	MAME_DIR .. "src/mame/drivers/itgambl3.cpp",
-	MAME_DIR .. "src/mame/drivers/itgamble.cpp",
-	MAME_DIR .. "src/mame/drivers/jackpool.cpp",
-	MAME_DIR .. "src/mame/drivers/jackpot.cpp",
+--	MAME_DIR .. "src/mame/drivers/intrscti.cpp",
+--	MAME_DIR .. "src/mame/drivers/island.cpp",
+--	MAME_DIR .. "src/mame/drivers/istellar.cpp",
+--	MAME_DIR .. "src/mame/drivers/itgambl2.cpp",
+--	MAME_DIR .. "src/mame/drivers/itgambl3.cpp",
+--	MAME_DIR .. "src/mame/drivers/itgamble.cpp",
+--	MAME_DIR .. "src/mame/drivers/jackpool.cpp",
+--	MAME_DIR .. "src/mame/drivers/jackpot.cpp",
 	MAME_DIR .. "src/mame/drivers/jankenmn.cpp",
-	MAME_DIR .. "src/mame/drivers/jokrwild.cpp",
+--	MAME_DIR .. "src/mame/drivers/jokrwild.cpp",
+	MAME_DIR .. "src/mame/drivers/jongkyo.cpp",
 	MAME_DIR .. "src/mame/drivers/joystand.cpp",
 	MAME_DIR .. "src/mame/drivers/jubilee.cpp",
-	MAME_DIR .. "src/mame/drivers/jungleyo.cpp",
+--	MAME_DIR .. "src/mame/drivers/jungleyo.cpp",
 	MAME_DIR .. "src/mame/drivers/kas89.cpp",
 	MAME_DIR .. "src/mame/drivers/kingpin.cpp",
+	MAME_DIR .. "src/mame/drivers/koikoi.cpp",
 	MAME_DIR .. "src/mame/drivers/kurukuru.cpp",
 	MAME_DIR .. "src/mame/drivers/kyugo.cpp",
 	MAME_DIR .. "src/mame/includes/kyugo.h",
@@ -4995,41 +4994,40 @@
 	MAME_DIR .. "src/mame/includes/ladyfrog.h",
 	MAME_DIR .. "src/mame/video/ladyfrog.cpp",
 	MAME_DIR .. "src/mame/drivers/laserbas.cpp",
-	MAME_DIR .. "src/mame/drivers/laz_aftrshok.cpp",
-	MAME_DIR .. "src/mame/drivers/laz_ribrac.cpp",
+--	MAME_DIR .. "src/mame/drivers/laz_aftrshok.cpp",
+--	MAME_DIR .. "src/mame/drivers/laz_ribrac.cpp",
 	MAME_DIR .. "src/mame/drivers/lethalj.cpp",
 	MAME_DIR .. "src/mame/includes/lethalj.h",
 	MAME_DIR .. "src/mame/video/lethalj.cpp",
 	MAME_DIR .. "src/mame/drivers/limenko.cpp",
-	MAME_DIR .. "src/mame/drivers/ltcasino.cpp",
-	MAME_DIR .. "src/mame/drivers/luckybal.cpp",
-	MAME_DIR .. "src/mame/drivers/magic10.cpp",
-	MAME_DIR .. "src/mame/drivers/magicard.cpp",
-	MAME_DIR .. "src/mame/drivers/magicfly.cpp",
-	MAME_DIR .. "src/mame/drivers/magictg.cpp",
+--	MAME_DIR .. "src/mame/drivers/ltcasino.cpp",
+--	MAME_DIR .. "src/mame/drivers/luckybal.cpp",
+--	MAME_DIR .. "src/mame/drivers/magic10.cpp",
+--	MAME_DIR .. "src/mame/drivers/magicard.cpp",
+--	MAME_DIR .. "src/mame/drivers/magicfly.cpp",
+--	MAME_DIR .. "src/mame/drivers/magictg.cpp",
 	MAME_DIR .. "src/mame/drivers/magreel.cpp",
 	MAME_DIR .. "src/mame/drivers/magtouch.cpp",
 	MAME_DIR .. "src/mame/drivers/majorpkr.cpp",
 	MAME_DIR .. "src/mame/drivers/malzak.cpp",
 	MAME_DIR .. "src/mame/includes/malzak.h",
 	MAME_DIR .. "src/mame/video/malzak.cpp",
-	MAME_DIR .. "src/mame/drivers/marywu.cpp",
-	MAME_DIR .. "src/mame/drivers/matrix.cpp",
+--	MAME_DIR .. "src/mame/drivers/marywu.cpp",
+--	MAME_DIR .. "src/mame/drivers/matrix.cpp",
 	MAME_DIR .. "src/mame/drivers/mcatadv.cpp",
 	MAME_DIR .. "src/mame/includes/mcatadv.h",
 	MAME_DIR .. "src/mame/video/mcatadv.cpp",
-	MAME_DIR .. "src/mame/drivers/mgavegas.cpp",
-	MAME_DIR .. "src/mame/drivers/meyc8080.cpp",
-	MAME_DIR .. "src/mame/drivers/meyc8088.cpp",
+--	MAME_DIR .. "src/mame/drivers/mgavegas.cpp",
+--	MAME_DIR .. "src/mame/drivers/meyc8080.cpp",
+--	MAME_DIR .. "src/mame/drivers/meyc8088.cpp",
 	MAME_DIR .. "src/mame/drivers/micro3d.cpp",
 	MAME_DIR .. "src/mame/includes/micro3d.h",
 	MAME_DIR .. "src/mame/machine/micro3d.cpp",
 	MAME_DIR .. "src/mame/video/micro3d.cpp",
 	MAME_DIR .. "src/mame/audio/micro3d.cpp",
 	MAME_DIR .. "src/mame/audio/micro3d.h",
-	MAME_DIR .. "src/mame/drivers/microdar.cpp",
+--	MAME_DIR .. "src/mame/drivers/microdar.cpp",
 	MAME_DIR .. "src/mame/drivers/midas.cpp",
-	MAME_DIR .. "src/mame/drivers/mil4000.cpp",
 	MAME_DIR .. "src/mame/drivers/miniboy7.cpp",
 	MAME_DIR .. "src/mame/drivers/minivideo.cpp",
 	MAME_DIR .. "src/mame/drivers/mirax.cpp",
@@ -5038,24 +5036,27 @@
 	MAME_DIR .. "src/mame/drivers/mosaic.cpp",
 	MAME_DIR .. "src/mame/includes/mosaic.h",
 	MAME_DIR .. "src/mame/video/mosaic.cpp",
-	MAME_DIR .. "src/mame/drivers/mpu12wbk.cpp",
-	MAME_DIR .. "src/mame/drivers/multfish.cpp",
-	MAME_DIR .. "src/mame/includes/multfish.h",
-	MAME_DIR .. "src/mame/drivers/multfish_boot.cpp",
-	MAME_DIR .. "src/mame/drivers/murogem.cpp",
-	MAME_DIR .. "src/mame/drivers/murogmbl.cpp",
+--	MAME_DIR .. "src/mame/drivers/mpu12wbk.cpp",
+	MAME_DIR .. "src/mame/drivers/mrjong.cpp",
+	MAME_DIR .. "src/mame/includes/mrjong.h",
+	MAME_DIR .. "src/mame/video/mrjong.cpp",
+--	MAME_DIR .. "src/mame/drivers/multfish.cpp",
+--	MAME_DIR .. "src/mame/includes/multfish.h",
+--	MAME_DIR .. "src/mame/drivers/multfish_boot.cpp",
+--	MAME_DIR .. "src/mame/drivers/murogem.cpp",
+--	MAME_DIR .. "src/mame/drivers/murogmbl.cpp",
 	MAME_DIR .. "src/mame/drivers/neoprint.cpp",
 	MAME_DIR .. "src/mame/drivers/news.cpp",
 	MAME_DIR .. "src/mame/includes/news.h",
 	MAME_DIR .. "src/mame/video/news.cpp",
-	MAME_DIR .. "src/mame/drivers/nexus3d.cpp",
-	MAME_DIR .. "src/mame/drivers/nibble.cpp",
-	MAME_DIR .. "src/mame/drivers/norautp.cpp",
-	MAME_DIR .. "src/mame/includes/norautp.h",
-	MAME_DIR .. "src/mame/audio/norautp.cpp",
-	MAME_DIR .. "src/mame/drivers/notechan.cpp",
-	MAME_DIR .. "src/mame/drivers/nsg6809.cpp",
-	MAME_DIR .. "src/mame/drivers/nsmpoker.cpp",
+--	MAME_DIR .. "src/mame/drivers/nexus3d.cpp",
+--	MAME_DIR .. "src/mame/drivers/nibble.cpp",
+--	MAME_DIR .. "src/mame/drivers/norautp.cpp",
+--	MAME_DIR .. "src/mame/includes/norautp.h",
+--	MAME_DIR .. "src/mame/audio/norautp.cpp",
+--	MAME_DIR .. "src/mame/drivers/notechan.cpp",
+--	MAME_DIR .. "src/mame/drivers/nsg6809.cpp",
+--	MAME_DIR .. "src/mame/drivers/nsmpoker.cpp",
 	MAME_DIR .. "src/mame/drivers/odyssey.cpp",
 	MAME_DIR .. "src/mame/drivers/oneshot.cpp",
 	MAME_DIR .. "src/mame/includes/oneshot.h",
@@ -5068,14 +5069,15 @@
 	MAME_DIR .. "src/mame/drivers/pass.cpp",
 	MAME_DIR .. "src/mame/includes/pass.h",
 	MAME_DIR .. "src/mame/video/pass.cpp",
+--	MAME_DIR .. "src/mame/drivers/peplus.cpp",
 	MAME_DIR .. "src/mame/drivers/photon.cpp",
-	MAME_DIR .. "src/mame/drivers/piggypas.cpp",
+--	MAME_DIR .. "src/mame/drivers/piggypas.cpp",
 	MAME_DIR .. "src/mame/video/pk8000.cpp",
 	MAME_DIR .. "src/mame/drivers/photon2.cpp",
 	MAME_DIR .. "src/mame/drivers/pipeline.cpp",
 	MAME_DIR .. "src/mame/drivers/pkscram.cpp",
-	MAME_DIR .. "src/mame/drivers/playcenter.cpp",
-	MAME_DIR .. "src/mame/drivers/plsonic4.cpp",
+--	MAME_DIR .. "src/mame/drivers/playcenter.cpp",
+--	MAME_DIR .. "src/mame/drivers/plsonic4.cpp",
 	MAME_DIR .. "src/mame/drivers/pntnpuzl.cpp",
 	MAME_DIR .. "src/mame/drivers/policetr.cpp",
 	MAME_DIR .. "src/mame/includes/policetr.h",
@@ -5084,37 +5086,36 @@
 	MAME_DIR .. "src/mame/includes/polyplay.h",
 	MAME_DIR .. "src/mame/audio/polyplay.cpp",
 	MAME_DIR .. "src/mame/video/polyplay.cpp",
-	MAME_DIR .. "src/mame/drivers/poker72.cpp",
+--	MAME_DIR .. "src/mame/drivers/poker72.cpp",
 	MAME_DIR .. "src/mame/drivers/pokerout.cpp",
-	MAME_DIR .. "src/mame/drivers/potgoldu.cpp",
-	MAME_DIR .. "src/mame/drivers/proconn.cpp",
-	MAME_DIR .. "src/mame/drivers/pse.cpp",
+--	MAME_DIR .. "src/mame/drivers/potgoldu.cpp",
+--	MAME_DIR .. "src/mame/drivers/proconn.cpp",
+--	MAME_DIR .. "src/mame/drivers/pse.cpp",
 	MAME_DIR .. "src/mame/drivers/quizo.cpp",
-	MAME_DIR .. "src/mame/drivers/quizpun2.cpp",
-	MAME_DIR .. "src/mame/drivers/radikaldarts.cpp",
+--	MAME_DIR .. "src/mame/drivers/quizpun2.cpp",
+--	MAME_DIR .. "src/mame/drivers/radikaldarts.cpp",
 	MAME_DIR .. "src/mame/drivers/rbmk.cpp",
-	MAME_DIR .. "src/mame/drivers/rcorsair.cpp",
+--	MAME_DIR .. "src/mame/drivers/rcorsair.cpp",
 	MAME_DIR .. "src/mame/drivers/re900.cpp",
-	MAME_DIR .. "src/mame/drivers/rf51w14cg.cpp",
-	MAME_DIR .. "src/mame/drivers/rfslots8085.cpp",
-	MAME_DIR .. "src/mame/drivers/rfslotsmcs48.cpp",
-	MAME_DIR .. "src/mame/drivers/rfslotspcpent.cpp",
-	MAME_DIR .. "src/mame/drivers/rgum.cpp",
+--	MAME_DIR .. "src/mame/drivers/rf51w14cg.cpp",
+--	MAME_DIR .. "src/mame/drivers/rfslots8085.cpp",
+--	MAME_DIR .. "src/mame/drivers/rfslotsmcs48.cpp",
+--	MAME_DIR .. "src/mame/drivers/rfslotspcpent.cpp",
+--	MAME_DIR .. "src/mame/drivers/rgum.cpp",
 	MAME_DIR .. "src/mame/drivers/roul.cpp",
 	MAME_DIR .. "src/mame/drivers/rulechan.cpp",
 	MAME_DIR .. "src/mame/drivers/savquest.cpp",
 	MAME_DIR .. "src/mame/drivers/sanremo.cpp",
-	MAME_DIR .. "src/mame/drivers/sanremmg.cpp",
-	MAME_DIR .. "src/mame/drivers/schexx4gen.cpp",
-	MAME_DIR .. "src/mame/drivers/scm_500.cpp",
+--	MAME_DIR .. "src/mame/drivers/sanremmg.cpp",
+--	MAME_DIR .. "src/mame/drivers/schexx4gen.cpp",
+--	MAME_DIR .. "src/mame/drivers/scm_500.cpp",
 	MAME_DIR .. "src/mame/drivers/sealy.cpp",
-	MAME_DIR .. "src/mame/drivers/sealy_fr.cpp",
-	MAME_DIR .. "src/mame/drivers/sfbonus.cpp",
+--	MAME_DIR .. "src/mame/drivers/sfbonus.cpp",
 	MAME_DIR .. "src/mame/drivers/shangkid.cpp",
 	MAME_DIR .. "src/mame/includes/shangkid.h",
 	MAME_DIR .. "src/mame/video/shangkid.cpp",
-	MAME_DIR .. "src/mame/drivers/silverball.cpp",
-	MAME_DIR .. "src/mame/drivers/skeetsht.cpp",
+--	MAME_DIR .. "src/mame/drivers/silverball.cpp",
+--	MAME_DIR .. "src/mame/drivers/skeetsht.cpp",
 	MAME_DIR .. "src/mame/drivers/skimaxx.cpp",
 	MAME_DIR .. "src/mame/drivers/skopro.cpp",
 	MAME_DIR .. "src/mame/drivers/skyarmy.cpp",
@@ -5123,7 +5124,8 @@
 	MAME_DIR .. "src/mame/drivers/smotor.cpp",
 	MAME_DIR .. "src/mame/drivers/smsmcorp.cpp",
 	MAME_DIR .. "src/mame/drivers/sothello.cpp",
-	MAME_DIR .. "src/mame/drivers/special_gambl.cpp",
+--	MAME_DIR .. "src/mame/drivers/splus.cpp",
+--	MAME_DIR .. "src/mame/drivers/special_gambl.cpp",
 	MAME_DIR .. "src/mame/audio/special.cpp",
 	MAME_DIR .. "src/mame/audio/special.h",
 	MAME_DIR .. "src/mame/drivers/spool99.cpp",
@@ -5135,24 +5137,24 @@
 	MAME_DIR .. "src/mame/drivers/strkzn.cpp",
 	MAME_DIR .. "src/mame/drivers/stuntair.cpp",
 	MAME_DIR .. "src/mame/drivers/su2000.cpp",
-	MAME_DIR .. "src/mame/drivers/summit.cpp",
-	MAME_DIR .. "src/mame/drivers/sumt8035.cpp",
-	MAME_DIR .. "src/mame/drivers/supercrd.cpp",
+--	MAME_DIR .. "src/mame/drivers/subhuntr.cpp",
+--	MAME_DIR .. "src/mame/drivers/summit.cpp",
+--	MAME_DIR .. "src/mame/drivers/sumt8035.cpp",
+--	MAME_DIR .. "src/mame/drivers/supercrd.cpp",
 	MAME_DIR .. "src/mame/drivers/supertnk.cpp",
 	MAME_DIR .. "src/mame/drivers/tapatune.cpp",
 	MAME_DIR .. "src/mame/drivers/tattack.cpp",
 	MAME_DIR .. "src/mame/drivers/taxidriv.cpp",
 	MAME_DIR .. "src/mame/includes/taxidriv.h",
 	MAME_DIR .. "src/mame/video/taxidriv.cpp",
-	MAME_DIR .. "src/mame/drivers/teamjocs.cpp",
-	MAME_DIR .. "src/mame/drivers/tecnodar.cpp",
-	MAME_DIR .. "src/mame/drivers/thayers.cpp",
+--	MAME_DIR .. "src/mame/drivers/teamjocs.cpp",
+--	MAME_DIR .. "src/mame/drivers/tecnodar.cpp",
+--	MAME_DIR .. "src/mame/drivers/thayers.cpp",
 	MAME_DIR .. "src/mame/drivers/thedeep.cpp",
 	MAME_DIR .. "src/mame/includes/thedeep.h",
 	MAME_DIR .. "src/mame/video/thedeep.cpp",
 	MAME_DIR .. "src/mame/drivers/tickee.cpp",
-	MAME_DIR .. "src/mame/drivers/tmspoker.cpp",
-	MAME_DIR .. "src/mame/drivers/triviaquiz.cpp",
+--	MAME_DIR .. "src/mame/drivers/tmspoker.cpp",
 	MAME_DIR .. "src/mame/drivers/truco.cpp",
 	MAME_DIR .. "src/mame/includes/truco.h",
 	MAME_DIR .. "src/mame/video/truco.cpp",
@@ -5164,14 +5166,14 @@
 	MAME_DIR .. "src/mame/drivers/ttchamp.cpp",
 	MAME_DIR .. "src/mame/drivers/tugboat.cpp",
 	MAME_DIR .. "src/mame/drivers/tvg01.cpp",
-	MAME_DIR .. "src/mame/drivers/twinbskt.cpp",
-	MAME_DIR .. "src/mame/drivers/ice_bozopail.cpp",
-	MAME_DIR .. "src/mame/drivers/ice_hhhippos.cpp",
-	MAME_DIR .. "src/mame/drivers/ice_tbd.cpp",
+--	MAME_DIR .. "src/mame/drivers/twinbskt.cpp",
+--	MAME_DIR .. "src/mame/drivers/ice_bozopail.cpp",
+--	MAME_DIR .. "src/mame/drivers/ice_hhhippos.cpp",
+--	MAME_DIR .. "src/mame/drivers/ice_tbd.cpp",
 	MAME_DIR .. "src/mame/drivers/umipoker.cpp",
 	MAME_DIR .. "src/mame/drivers/unkhorse.cpp",
-	MAME_DIR .. "src/mame/drivers/unkpoker.cpp",
-	MAME_DIR .. "src/mame/drivers/usbilliards.cpp",
+--	MAME_DIR .. "src/mame/drivers/usbilliards.cpp",
+---	MAME_DIR .. "src/mame/drivers/unkpoker.cpp",
 	MAME_DIR .. "src/mame/drivers/usgames.cpp",
 	MAME_DIR .. "src/mame/includes/usgames.h",
 	MAME_DIR .. "src/mame/video/usgames.cpp",
@@ -5181,19 +5183,19 @@
 	MAME_DIR .. "src/mame/includes/vectrex.h",
 	MAME_DIR .. "src/mame/video/vectrex.cpp",
 	MAME_DIR .. "src/mame/machine/vectrex.cpp",
-	MAME_DIR .. "src/mame/drivers/video21.cpp",
-	MAME_DIR .. "src/mame/drivers/videosaa.cpp",
-	MAME_DIR .. "src/mame/drivers/vlc.cpp",
-	MAME_DIR .. "src/mame/drivers/vlc34010.cpp",
+--	MAME_DIR .. "src/mame/drivers/videosaa.cpp",
+--	MAME_DIR .. "src/mame/drivers/vlc.cpp",
+--	MAME_DIR .. "src/mame/drivers/video21.cpp",
+--	MAME_DIR .. "src/mame/drivers/vlc34010.cpp",
 	MAME_DIR .. "src/mame/drivers/voyager.cpp",
 	MAME_DIR .. "src/mame/drivers/vp101.cpp",
-	MAME_DIR .. "src/mame/drivers/vpoker.cpp",
+--	MAME_DIR .. "src/mame/drivers/vpoker.cpp",
 	MAME_DIR .. "src/mame/drivers/vroulet.cpp",
-	MAME_DIR .. "src/mame/drivers/wildpkr.cpp",
-	MAME_DIR .. "src/mame/drivers/winbingo.cpp",
-	MAME_DIR .. "src/mame/drivers/wms.cpp",
-	MAME_DIR .. "src/mame/drivers/xtom3d.cpp",
+--	MAME_DIR .. "src/mame/drivers/wildpkr.cpp",
+--	MAME_DIR .. "src/mame/drivers/winbingo.cpp",
+--	MAME_DIR .. "src/mame/drivers/wms.cpp",
+--	MAME_DIR .. "src/mame/drivers/xtom3d.cpp",
 	MAME_DIR .. "src/mame/drivers/xyonix.cpp",
-	MAME_DIR .. "src/mame/drivers/yuvomz80.cpp",
+--	MAME_DIR .. "src/mame/drivers/yuvomz80.cpp",
 }
 end
diff -u -r a/src/devices/bus/ata/idehd.cpp b/src/devices/bus/ata/idehd.cpp
--- a/src/devices/bus/ata/idehd.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/devices/bus/ata/idehd.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -13,6 +13,7 @@
 
 #define LOGPRINT(x) do { if (VERBOSE) logerror x; if (PRINTF_IDE_COMMANDS) osd_printf_debug x; } while (0)
 
+#define TIME_PER_SECTOR_READ                (attotime::from_usec(10)) // MAMEFX
 #define TIME_PER_SECTOR_WRITE               (attotime::from_usec(100))
 #define TIME_PER_ROTATION                   (attotime::from_hz(5400/60))
 #define TIME_BETWEEN_SECTORS                (attotime::from_nsec(400))
@@ -427,6 +428,9 @@
 		if (m_sector_count > 0)
 		{
 			set_dasp(ASSERT_LINE);
+			if (strcmp("primrag2", machine().system().name) == 0) // MAMEFX
+				start_busy(TIME_PER_SECTOR_READ, PARAM_COMMAND); // MAMEFX: primrag2 - derived from MAME4RAGE2 emulator
+			else  // MAMEFX
 			if (m_command == IDE_COMMAND_READ_DMA)
 				start_busy(TIME_BETWEEN_SECTORS + m_dma_transfer_time, PARAM_COMMAND);
 			else
diff -u -r a/src/devices/cpu/psx/irq.cpp b/src/devices/cpu/psx/irq.cpp
--- a/src/devices/cpu/psx/irq.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/devices/cpu/psx/irq.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -66,16 +66,34 @@
 
 void psxirq_device::psx_irq_update( void )
 {
-	if( ( n_irqdata & n_irqmask ) != 0 )
+	// MAMEFX start
+	if (strcmp("primrag2", machine().system().name) != 0)
 	{
-		verboselog( *this, 2, "psx irq assert\n" );
-		m_irq_handler( ASSERT_LINE );
+		if( ( n_irqdata & n_irqmask ) != 0 )
+			m_irq_handler( ASSERT_LINE );
+		else
+			m_irq_handler( CLEAR_LINE );
 	}
 	else
 	{
-		verboselog( *this, 2, "psx irq clear\n" );
-		m_irq_handler( CLEAR_LINE );
+
+// primrag2 only - this code derived from MAME4RAGE2 emulator
+		if( ( n_irqmask == 0x9 ) && ( n_irqdata == 0x1 ) )
+			m_irq_handler (ASSERT_LINE);
+		else
+		if( ( n_irqmask == 0x449 ) &&
+			( (n_irqdata == 1) || (n_irqdata == 9) || (n_irqdata == 0x40) || (n_irqdata == 0x48) || (n_irqdata == 0x49)
+			|| (n_irqdata == 0x401) || (n_irqdata == 0x409) || (n_irqdata == 0x441) || (n_irqdata == 0x448) ) )
+				m_irq_handler (ASSERT_LINE);
+		else
+		if( ( n_irqmask == 0x649 ) &&
+			( (n_irqdata == 1) || (n_irqdata == 0x41) || (n_irqdata == 0x201) || (n_irqdata == 0x241)
+			|| (n_irqdata == 0x401) || (n_irqdata == 0x441) || (n_irqdata == 0x601) || (n_irqdata == 0x641) ) )
+				m_irq_handler (ASSERT_LINE);
+		else
+			m_irq_handler (CLEAR_LINE);
 	}
+	// MAMEFX end
 }
 
 void psxirq_device::write(offs_t offset, uint32_t data, uint32_t mem_mask)
diff -u -r a/src/devices/sound/qs1000.cpp b/src/devices/sound/qs1000.cpp
--- a/src/devices/sound/qs1000.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/devices/sound/qs1000.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -529,8 +529,8 @@
 					chan.m_addr = (chan.m_addr + (chan.m_acc >> 18)) & QS1000_ADDRESS_MASK;
 					chan.m_acc &= ((1 << 18) - 1);
 
-					outputs[0].add_int(samp, result * 4 * lvol * vol, 32768 << 12);
-					outputs[1].add_int(samp, result * 4 * rvol * vol, 32768 << 12);
+					outputs[0].add_int(samp, result * 8 * lvol * vol, 32768 << 12);   // MAMEFX
+					outputs[1].add_int(samp, result * 8 * rvol * vol, 32768 << 12);   // MAMEFX
 				}
 			}
 			else
@@ -558,8 +558,8 @@
 					chan.m_addr = (chan.m_addr + (chan.m_acc >> 18)) & QS1000_ADDRESS_MASK;
 					chan.m_acc &= ((1 << 18) - 1);
 
-					outputs[0].add_int(samp, result * lvol * vol, 32768 << 12);
-					outputs[1].add_int(samp, result * rvol * vol, 32768 << 12);
+					outputs[0].add_int(samp, result * 2 * lvol * vol, 32768 << 12);   // MAMEFX
+					outputs[1].add_int(samp, result * 2 * rvol * vol, 32768 << 12);   // MAMEFX
 				}
 			}
 		}
diff -u -r a/src/emu/device.h b/src/emu/device.h
--- a/src/emu/device.h	2021-08-26 08:44:17.000000000 +0200
+++ b/src/emu/device.h	2021-08-27 05:18:52.000000000 +0200
@@ -205,7 +205,8 @@
 	template <typename DeviceClass>
 	static std::unique_ptr<device_t> create_device(device_type_impl_base const &type, machine_config const &mconfig, char const *tag, device_t *owner, u32 clock)
 	{
-		return std::make_unique<DeviceClass>(mconfig, tag, owner, clock);
+		//return std::make_unique<DeviceClass>(mconfig, tag, owner, clock);
+		return make_unique_clear<DeviceClass>(mconfig, tag, owner, clock);
 	}
 
 	template <typename DriverClass>
@@ -298,7 +299,8 @@
 	template <typename... Params>
 	std::unique_ptr<DeviceClass> create(machine_config &mconfig, char const *tag, device_t *owner, Params &&... args) const
 	{
-		return std::make_unique<DeviceClass>(mconfig, tag, owner, std::forward<Params>(args)...);
+		//return std::make_unique<DeviceClass>(mconfig, tag, owner, std::forward<Params>(args)...);
+		return make_unique_clear<DeviceClass>(mconfig, tag, owner, std::forward<Params>(args)...);
 	}
 
 	template <typename... Params> DeviceClass &operator()(machine_config &mconfig, char const *tag, Params &&... args) const;
diff -u -r a/src/emu/emuopts.cpp b/src/emu/emuopts.cpp
--- a/src/emu/emuopts.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/emu/emuopts.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -59,6 +59,7 @@
 	{ OPTION_SNAPSHOT_DIRECTORY,                         "snap",      OPTION_STRING,     "directory to save/load screenshots" },
 	{ OPTION_DIFF_DIRECTORY,                             "diff",      OPTION_STRING,     "directory to save hard drive image difference files" },
 	{ OPTION_COMMENT_DIRECTORY,                          "comments",  OPTION_STRING,     "directory to save debugger comments" },
+	{ OPTION_VIDEO_DIRECTORY,                          	 "video",  	  OPTION_STRING,     "directory to save/load video files" },
 	{ OPTION_SHARE_DIRECTORY,                            "share",     OPTION_STRING,     "directory to share with emulated machines" },
 
 	// state/playback options
@@ -88,6 +89,7 @@
 	{ OPTION_FRAMESKIP ";fs(0-10)",                      "0",         OPTION_INTEGER,    "set frameskip to fixed value, 0-10 (upper limit with autoframeskip)" },
 	{ OPTION_SECONDS_TO_RUN ";str",                      "0",         OPTION_INTEGER,    "number of emulated seconds to run before automatically exiting" },
 	{ OPTION_THROTTLE,                                   "1",         OPTION_BOOLEAN,    "throttle emulation to keep system running in sync with real time" },
+	{ OPTION_SYNCREFRESH ";srf",                         "0",         OPTION_BOOLEAN,    "enable using the start of VBLANK for throttling instead of the game time" },
 	{ OPTION_SLEEP,                                      "1",         OPTION_BOOLEAN,    "enable sleeping, which gives time back to other applications when idle" },
 	{ OPTION_SPEED "(0.01-100)",                         "1.0",       OPTION_FLOAT,      "controls the speed of gameplay, relative to realtime; smaller numbers are slower" },
 	{ OPTION_REFRESHSPEED ";rs",                         "0",         OPTION_BOOLEAN,    "automatically adjust emulation speed to keep the emulated refresh rate slower than the host screen" },
@@ -127,6 +129,7 @@
 	{ OPTION_GAMMA "(0.1-3.0)",                          "1.0",       OPTION_FLOAT,      "default game screen gamma correction" },
 	{ OPTION_PAUSE_BRIGHTNESS "(0.0-1.0)",               "0.65",      OPTION_FLOAT,      "amount to scale the screen brightness when paused" },
 	{ OPTION_EFFECT,                                     "none",      OPTION_STRING,     "name of a PNG file to use for visual effects, or 'none'" },
+	{ OPTION_WIDESTRETCH,					     		 "0",         OPTION_BOOLEAN,    "enable D3D wide floating point stretching" },
 
 	// vector options
 	{ nullptr,                                           nullptr,     OPTION_HEADER,     "CORE VECTOR OPTIONS" },
diff -u -r a/src/emu/emuopts.h b/src/emu/emuopts.h
--- a/src/emu/emuopts.h	2021-08-26 08:44:17.000000000 +0200
+++ b/src/emu/emuopts.h	2021-08-27 05:18:52.000000000 +0200
@@ -47,6 +47,7 @@
 #define OPTION_SNAPSHOT_DIRECTORY   "snapshot_directory"
 #define OPTION_DIFF_DIRECTORY       "diff_directory"
 #define OPTION_COMMENT_DIRECTORY    "comment_directory"
+#define OPTION_VIDEO_DIRECTORY      "video_directory"
 #define OPTION_SHARE_DIRECTORY      "share_directory"
 
 // core state/playback options
@@ -73,6 +74,7 @@
 #define OPTION_FRAMESKIP            "frameskip"
 #define OPTION_SECONDS_TO_RUN       "seconds_to_run"
 #define OPTION_THROTTLE             "throttle"
+#define OPTION_SYNCREFRESH          "syncrefresh"
 #define OPTION_SLEEP                "sleep"
 #define OPTION_SPEED                "speed"
 #define OPTION_REFRESHSPEED         "refreshspeed"
@@ -108,6 +110,7 @@
 #define OPTION_GAMMA                "gamma"
 #define OPTION_PAUSE_BRIGHTNESS     "pause_brightness"
 #define OPTION_EFFECT               "effect"
+#define OPTION_WIDESTRETCH          "widestretch"
 
 // core vector options
 #define OPTION_BEAM_WIDTH_MIN       "beam_width_min"
@@ -332,6 +335,7 @@
 	const char *snapshot_directory() const { return value(OPTION_SNAPSHOT_DIRECTORY); }
 	const char *diff_directory() const { return value(OPTION_DIFF_DIRECTORY); }
 	const char *comment_directory() const { return value(OPTION_COMMENT_DIRECTORY); }
+	const char *video_directory() const { return value(OPTION_VIDEO_DIRECTORY); }
 	const char *share_directory() const { return value(OPTION_SHARE_DIRECTORY); }
 
 	// core state/playback options
@@ -358,6 +362,7 @@
 	int frameskip() const { return int_value(OPTION_FRAMESKIP); }
 	int seconds_to_run() const { return int_value(OPTION_SECONDS_TO_RUN); }
 	bool throttle() const { return bool_value(OPTION_THROTTLE); }
+	bool sync_refresh() const { return bool_value(OPTION_SYNCREFRESH); }
 	bool sleep() const { return m_sleep; }
 	float speed() const { return float_value(OPTION_SPEED); }
 	bool refresh_speed() const { return m_refresh_speed; }
@@ -393,6 +398,7 @@
 	float gamma() const { return float_value(OPTION_GAMMA); }
 	float pause_brightness() const { return float_value(OPTION_PAUSE_BRIGHTNESS); }
 	const char *effect() const { return value(OPTION_EFFECT); }
+	bool widestretch() const { return bool_value(OPTION_WIDESTRETCH); }
 
 	// core vector options
 	float beam_width_min() const { return float_value(OPTION_BEAM_WIDTH_MIN); }
diff -u -r a/src/emu/inpttype.ipp b/src/emu/inpttype.ipp
--- a/src/emu/inpttype.ipp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/emu/inpttype.ipp	2021-08-27 05:18:52.000000000 +0200
@@ -855,7 +855,9 @@
 		INPUT_PORT_DIGITAL_TYPE( 0, UI,      UI_EXPORT,           "UI Export list",         input_seq(KEYCODE_LALT, KEYCODE_E) ) \
 		INPUT_PORT_DIGITAL_TYPE( 0, UI,      UI_AUDIT_FAST,       "UI Audit Unavailable",   input_seq(KEYCODE_F1, input_seq::not_code, KEYCODE_LSHIFT) ) \
 		INPUT_PORT_DIGITAL_TYPE( 0, UI,      UI_AUDIT_ALL,        "UI Audit All",           input_seq(KEYCODE_F1, KEYCODE_LSHIFT) ) \
+		INPUT_PORT_DIGITAL_TYPE( 0, UI,      UI_SHOW_TIME,        "Show Current Time",      input_seq(KEYCODE_G, KEYCODE_LSHIFT) ) \
 		CORE_INPUT_TYPES_END()
+		// Show Current Time - MAMEFX
 
 #define CORE_INPUT_TYPES_OSD \
 		CORE_INPUT_TYPES_BEGIN(osd) \
diff -u -r a/src/emu/ioport.h b/src/emu/ioport.h
--- a/src/emu/ioport.h	2021-08-26 08:44:17.000000000 +0200
+++ b/src/emu/ioport.h	2021-08-27 05:18:52.000000000 +0200
@@ -371,6 +371,7 @@
 		IPT_UI_EXPORT,
 		IPT_UI_AUDIT_FAST,
 		IPT_UI_AUDIT_ALL,
+		IPT_UI_SHOW_TIME,
 
 		// additional OSD-specified UI port types (up to 16)
 		IPT_OSD_1,
diff -u -r a/src/emu/machine.cpp b/src/emu/machine.cpp
--- a/src/emu/machine.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/emu/machine.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -187,23 +187,23 @@
 void running_machine::start()
 {
 	// initialize basic can't-fail systems here
-	m_configuration = std::make_unique<configuration_manager>(*this);
-	m_input = std::make_unique<input_manager>(*this);
-	m_output = std::make_unique<output_manager>(*this);
-	m_render = std::make_unique<render_manager>(*this);
-	m_bookkeeping = std::make_unique<bookkeeping_manager>(*this);
+	m_configuration = make_unique_clear<configuration_manager>(*this);
+	m_input = make_unique_clear<input_manager>(*this);
+	m_output = make_unique_clear<output_manager>(*this);
+	m_render = make_unique_clear<render_manager>(*this);
+	m_bookkeeping = make_unique_clear<bookkeeping_manager>(*this);
 
 	// allocate a soft_reset timer
 	m_soft_reset_timer = m_scheduler.timer_alloc(timer_expired_delegate(FUNC(running_machine::soft_reset), this));
 
 	// initialize UI input
-	m_ui_input = std::make_unique<ui_input_manager>(*this);
+	m_ui_input = make_unique_clear<ui_input_manager>(*this);
 
 	// init the osd layer
 	m_manager.osd().init(*this);
 
 	// create the video manager
-	m_video = std::make_unique<video_manager>(*this);
+	m_video = make_unique_clear<video_manager>(*this);
 	m_ui = manager().create_ui(*this);
 
 	// initialize the base time (needed for doing record/playback)
@@ -217,10 +217,10 @@
 		m_base_time = newbase;
 
 	// initialize natural keyboard support after ports have been initialized
-	m_natkeyboard = std::make_unique<natural_keyboard>(*this);
+	m_natkeyboard = make_unique_clear<natural_keyboard>(*this);
 
 	// initialize the streams engine before the sound devices start
-	m_sound = std::make_unique<sound_manager>(*this);
+	m_sound = make_unique_clear<sound_manager>(*this);
 
 	// resolve objects that can be used by memory maps
 	for (device_t &device : device_enumerator(root_device()))
@@ -231,23 +231,23 @@
 	// needs rom bases), and finally initialize CPUs (which needs
 	// complete address spaces).  These operations must proceed in this
 	// order
-	m_rom_load = std::make_unique<rom_load_manager>(*this);
+	m_rom_load = make_unique_clear<rom_load_manager>(*this);
 	m_memory.initialize();
 
 	// save the random seed or save states might be broken in drivers that use the rand() method
 	save().save_item(NAME(m_rand_seed));
 
 	// initialize image devices
-	m_image = std::make_unique<image_manager>(*this);
-	m_tilemap = std::make_unique<tilemap_manager>(*this);
-	m_crosshair = std::make_unique<crosshair_manager>(*this);
-	m_network = std::make_unique<network_manager>(*this);
+	m_image = make_unique_clear<image_manager>(*this);
+	m_tilemap = make_unique_clear<tilemap_manager>(*this);
+	m_crosshair = make_unique_clear<crosshair_manager>(*this);
+	m_network = make_unique_clear<network_manager>(*this);
 
 	// initialize the debugger
 	if ((debug_flags & DEBUG_FLAG_ENABLED) != 0)
 	{
-		m_debug_view = std::make_unique<debug_view_manager>(*this);
-		m_debugger = std::make_unique<debugger_manager>(*this);
+		m_debug_view = make_unique_clear<debug_view_manager>(*this);
+		m_debugger = make_unique_clear<debugger_manager>(*this);
 	}
 
 	manager().create_custom(*this);
@@ -312,7 +312,7 @@
 		// if we have a logfile, set up the callback
 		if (options().log() && !quiet)
 		{
-			m_logfile = std::make_unique<emu_file>(OPEN_FLAG_WRITE | OPEN_FLAG_CREATE | OPEN_FLAG_CREATE_PATHS);
+			m_logfile = make_unique_clear<emu_file>(OPEN_FLAG_WRITE | OPEN_FLAG_CREATE | OPEN_FLAG_CREATE_PATHS);
 			osd_file::error filerr = m_logfile->open("error.log");
 			if (filerr != osd_file::error::NONE)
 				throw emu_fatalerror("running_machine::run: unable to open error.log file");
@@ -323,7 +323,7 @@
 
 		if (options().debug() && options().debuglog())
 		{
-			m_debuglogfile = std::make_unique<emu_file>(OPEN_FLAG_WRITE | OPEN_FLAG_CREATE | OPEN_FLAG_CREATE_PATHS);
+			m_debuglogfile = make_unique_clear<emu_file>(OPEN_FLAG_WRITE | OPEN_FLAG_CREATE | OPEN_FLAG_CREATE_PATHS);
 			osd_file::error filerr = m_debuglogfile->open("debug.log");
 			if (filerr != osd_file::error::NONE)
 				throw emu_fatalerror("running_machine::run: unable to open debug.log file");
@@ -788,15 +788,15 @@
 		throw emu_fatalerror("Can only call running_machine::add_notifier at init time!");
 
 	if (first)
-		m_notifier_list[event].push_front(std::make_unique<notifier_callback_item>(callback));
+		m_notifier_list[event].push_front(make_unique_clear<notifier_callback_item>(callback));
 
 	// exit notifiers are added to the head, and executed in reverse order
 	else if (event == MACHINE_NOTIFY_EXIT)
-		m_notifier_list[event].push_front(std::make_unique<notifier_callback_item>(callback));
+		m_notifier_list[event].push_front(make_unique_clear<notifier_callback_item>(callback));
 
 	// all other notifiers are added to the tail, and executed in the order registered
 	else
-		m_notifier_list[event].push_back(std::make_unique<notifier_callback_item>(callback));
+		m_notifier_list[event].push_back(make_unique_clear<notifier_callback_item>(callback));
 }
 
 
@@ -810,7 +810,7 @@
 	if (m_current_phase != machine_phase::INIT)
 		throw emu_fatalerror("Can only call running_machine::add_logerror_callback at init time!");
 	m_string_buffer.reserve(1024);
-	m_logerror_list.push_back(std::make_unique<logerror_callback_item>(callback));
+	m_logerror_list.push_back(make_unique_clear<logerror_callback_item>(callback));
 }
 
 
diff -u -r a/src/emu/romload.h b/src/emu/romload.h
--- a/src/emu/romload.h	2021-08-26 08:44:17.000000000 +0200
+++ b/src/emu/romload.h	2021-08-27 05:18:52.000000000 +0200
@@ -411,7 +411,7 @@
 	std::string& software_load_warnings_message() { return m_softwarningstring; }
 
 	/* return the number of BAD_DUMP/NO_DUMP warnings we generated */
-	int knownbad() const { return m_knownbad; }
+	int knownbad() const { return 0; /*m_knownbad;*/ }   // MESSUI
 
 	/* ----- disk handling ----- */
 
diff -u -r a/src/emu/video.cpp b/src/emu/video.cpp
--- a/src/emu/video.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/emu/video.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -87,6 +87,7 @@
 	, m_overall_valid_counter(0)
 	, m_throttled(true)
 	, m_throttle_rate(1.0f)
+	, m_syncrefresh(machine.options().sync_refresh()) // MAMEFX
 	, m_fastforward(false)
 	, m_seconds_to_run(machine.options().seconds_to_run())
 	, m_auto_frameskip(machine.options().auto_frameskip())
@@ -427,8 +428,8 @@
 	// create the emu_file
 	bool is_absolute_path = !filename.empty() && osd_is_absolute_path(filename);
 	std::unique_ptr<emu_file> movie_file = std::make_unique<emu_file>(
-			is_absolute_path ? "" : machine().options().snapshot_directory(),
-			OPEN_FLAG_WRITE | OPEN_FLAG_CREATE | OPEN_FLAG_CREATE_PATHS);
+		is_absolute_path ? "" : machine().options().video_directory(), // MAMEFX
+		OPEN_FLAG_WRITE | OPEN_FLAG_CREATE | OPEN_FLAG_CREATE_PATHS);
 
 	// and open the actual file
 	osd_file::error filerr = filename.empty()
@@ -712,6 +713,12 @@
 
 */
 
+	// MAMEFX start
+	// if we're only syncing to the refresh, bail now
+	if (m_syncrefresh)
+		return;
+	// MAMEFX end
+
 	// outer scope so we can break out in case of a resync
 	while (1)
 	{
@@ -979,6 +986,11 @@
 		osd_ticks_t tps = osd_ticks_per_second();
 		m_speed_percent = delta_emutime.as_double() * (double)tps / (double)delta_realtime;
 
+		// MAMEFX start
+		if (m_syncrefresh && m_throttled)
+			m_speed = m_speed_percent * 1000;
+		// MAMEFX end
+
 		// remember the last times
 		m_speed_last_realtime = realtime;
 		m_speed_last_emutime = emutime;
@@ -1003,7 +1015,7 @@
 	}
 
 	// if we're past the "time-to-execute" requested, signal an exit
-	if (m_seconds_to_run != 0 && emutime.seconds() >= m_seconds_to_run)
+	if (m_seconds_to_run > 1 && emutime.seconds() >= m_seconds_to_run) // MAMEFX
 	{
 		// create a final screenshot
 		emu_file file(machine().options().snapshot_directory(), OPEN_FLAG_WRITE | OPEN_FLAG_CREATE | OPEN_FLAG_CREATE_PATHS);
diff -u -r a/src/emu/video.h b/src/emu/video.h
--- a/src/emu/video.h	2021-08-26 08:44:17.000000000 +0200
+++ b/src/emu/video.h	2021-08-27 05:18:52.000000000 +0200
@@ -49,6 +49,7 @@
 	int speed_factor() const { return m_speed; }
 	int frameskip() const { return m_auto_frameskip ? -1 : m_frameskip_level; }
 	bool throttled() const { return m_throttled; }
+	bool sync_refresh() const { return m_syncrefresh; }
 	float throttle_rate() const { return m_throttle_rate; }
 	bool fastforward() const { return m_fastforward; }
 
@@ -149,6 +150,7 @@
 	// configuration
 	bool                m_throttled;                // flag: true if we're currently throttled
 	float               m_throttle_rate;            // target rate for throttling
+	bool                m_syncrefresh;              // flag: true if we're currently refresh-synced
 	bool                m_fastforward;              // flag: true if we're currently fast-forwarding
 	u32                 m_seconds_to_run;           // number of seconds to run before quitting
 	bool                m_auto_frameskip;           // flag: true if we're automatically frameskipping
diff -u -r a/src/frontend/mame/audit.cpp b/src/frontend/mame/audit.cpp
--- a/src/frontend/mame/audit.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/frontend/mame/audit.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -475,9 +475,25 @@
 		if (output)
 		{
 			if (name)
+			{
+				if (record.type() == media_type::DISK)
+					util::stream_format(*output, "%-12s: %s%s", name, record.name(), ".chd"); // MESSUI: include .chd for disks
+				else
+				if (record.type() == media_type::SAMPLE)
+					util::stream_format(*output, "%-12s: %s%s", name, record.name(), ".wav"); // MESSUI: include .wav for samples
+				else
 				util::stream_format(*output, "%-12s: %s", name, record.name());
+			}
 			else
-				util::stream_format(*output, "%s", record.name());
+			{
+				if (record.type() == media_type::DISK)
+					util::stream_format(*output, "%s%s", record.name(), ".chd"); // MESSUI: include .chd for disks
+				else
+				if (record.type() == media_type::SAMPLE)
+					util::stream_format(*output, "%s%s", record.name(), ".wav"); // MESSUI: include .wav for samples
+				else
+					util::stream_format(*output, "%s", record.name());
+			}
 			if (record.expected_length() > 0)
 				util::stream_format(*output, " (%d bytes)", record.expected_length());
 			*output << " - ";
@@ -541,6 +557,91 @@
 	return overall_status;
 }
 
+media_auditor::summary media_auditor::winui_summarize(const char *name, std::ostream *output) const
+{
+	if (m_record_list.empty())
+		return NONE_NEEDED;
+
+	// loop over records
+	summary overall_status = CORRECT;
+	for (audit_record const &record : m_record_list)
+	{
+		// skip anything that's fine
+		if ((record.substatus() == audit_substatus::GOOD)
+			|| (record.substatus() == audit_substatus::GOOD_NEEDS_REDUMP)
+			|| (record.substatus() == audit_substatus::NOT_FOUND_NODUMP)
+			|| (record.substatus() == audit_substatus::FOUND_NODUMP))
+			continue;
+
+		// output the game name, file name, and length (if applicable)
+		if (output)
+		{
+			if (record.type() == media_type::DISK)
+				util::stream_format(*output, "%-12s: %s%s", name, record.name(), ".chd");
+			else
+				util::stream_format(*output, "%-12s: %s", name, record.name());
+			if (record.expected_length() > 0)
+				util::stream_format(*output, " (%d bytes)", record.expected_length());
+			*output << " - ";
+		}
+
+		// use the substatus for finer details
+		summary best_new_status = INCORRECT;
+		switch (record.substatus())
+		{
+		case audit_substatus::GOOD_NEEDS_REDUMP:
+			if (output) *output << "NEEDS REDUMP\n";
+			best_new_status = BEST_AVAILABLE;
+			break;
+
+		case audit_substatus::FOUND_NODUMP:
+			if (output) *output << "NO GOOD DUMP KNOWN\n";
+			best_new_status = BEST_AVAILABLE;
+			break;
+
+		case audit_substatus::FOUND_BAD_CHECKSUM:
+			if (output)
+			{
+				util::stream_format(*output, "INCORRECT CHECKSUM:\n");
+				util::stream_format(*output, "EXPECTED: %s\n", record.expected_hashes().macro_string());
+				util::stream_format(*output, "   FOUND: %s\n", record.actual_hashes().macro_string());
+			}
+			break;
+
+		case audit_substatus::FOUND_WRONG_LENGTH:
+			if (output) util::stream_format(*output, "INCORRECT LENGTH: %d bytes\n", record.actual_length());
+			break;
+
+		case audit_substatus::NOT_FOUND:
+			if (output)
+			{
+				std::add_pointer_t<device_type> const shared_device = record.shared_device();
+				if (shared_device)
+					util::stream_format(*output, "NOT FOUND (%s)\n", shared_device->shortname());
+				else
+					util::stream_format(*output, "NOT FOUND\n");
+			}
+			break;
+
+		case audit_substatus::NOT_FOUND_NODUMP:
+			if (output) *output << "NOT FOUND - NO GOOD DUMP KNOWN\n";
+			best_new_status = BEST_AVAILABLE;
+			break;
+
+		case audit_substatus::NOT_FOUND_OPTIONAL:
+			if (output) *output << "NOT FOUND BUT OPTIONAL\n";
+			best_new_status = BEST_AVAILABLE;
+			break;
+
+		default:
+			assert(false);
+		}
+
+		// downgrade the overall status if necessary
+		overall_status = (std::max)(overall_status, best_new_status);
+	}
+	return overall_status;
+}
 
 //-------------------------------------------------
 //  audit_regions - validate/count for regions
diff -u -r a/src/frontend/mame/audit.h b/src/frontend/mame/audit.h
--- a/src/frontend/mame/audit.h	2021-08-26 08:44:17.000000000 +0200
+++ b/src/frontend/mame/audit.h	2021-08-27 05:18:52.000000000 +0200
@@ -159,6 +159,7 @@
 	summary audit_software(software_list_device &swlist, const software_info &swinfo, const char *validation = AUDIT_VALIDATE_FULL);
 	summary audit_samples();
 	summary summarize(const char *name, std::ostream *output = nullptr) const;
+	summary winui_summarize(const char *name, std::ostream *output = nullptr) const;
 
 private:
 	// internal helpers
diff -u -r a/src/frontend/mame/language.cpp b/src/frontend/mame/language.cpp
--- a/src/frontend/mame/language.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/frontend/mame/language.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -69,11 +69,18 @@
 	strreplace(name, " ", "_");
 	strreplace(name, "(", "");
 	strreplace(name, ")", "");
+
+	// MESSUI: See if language file exists. If not, try English, see if that exists. If not, use inbuilt default.
 	emu_file file(m_options.language_path(), OPEN_FLAG_READ);
 	if (file.open(name + PATH_SEPARATOR "strings.mo") != osd_file::error::NONE)
 	{
-		osd_printf_error("Error opening translation file %s\n", name);
-		return;
+		osd_printf_verbose("Error opening translation file %s\n", name);
+		name = "English";
+		if (file.open(name + PATH_SEPARATOR "strings.mo") != osd_file::error::NONE)
+		{
+			osd_printf_verbose("Error opening translation file %s\n", name);
+			return;
+		}
 	}
 
 	u64 const size = file.size();
diff -u -r a/src/frontend/mame/ui/datmenu.cpp b/src/frontend/mame/ui/datmenu.cpp
--- a/src/frontend/mame/ui/datmenu.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/frontend/mame/ui/datmenu.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -310,7 +310,7 @@
 	float y2 = origy1 - 2.0f * ui().box_tb_border() - ui().get_line_height();
 
 	// draw a box
-	ui().draw_outlined_box(container(), x1, y1, x2, y2, UI_GREEN_COLOR);
+	ui().draw_outlined_box(container(), x1, y1, x2, y2, ui().colors().background_color());
 
 	// take off the borders
 	x1 += lr_border;
@@ -374,7 +374,7 @@
 	y2 = origy2 + bottom;
 
 	// draw a box
-	ui().draw_outlined_box(container(), x1, y1, x2, y2, UI_GREEN_COLOR);
+	ui().draw_outlined_box(container(), x1, y1, x2, y2, ui().colors().background_color());
 
 	// take off the borders
 	x1 += lr_border;
diff -u -r a/src/frontend/mame/ui/info.cpp b/src/frontend/mame/ui/info.cpp
--- a/src/frontend/mame/ui/info.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/frontend/mame/ui/info.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -85,7 +85,7 @@
 	for (device_t &device : device_enumerator(config.root_device()))
 	{
 		// the "no sound hardware" warning doesn't make sense when you plug in a sound card
-		if (dynamic_cast<device_sound_interface *>(&device))
+//		if (dynamic_cast<device_sound_interface *>(&device))  // MESSUI
 			m_flags &= ~::machine_flags::NO_SOUND_HW;
 
 		// build overall emulation status
diff -u -r a/src/frontend/mame/ui/mainmenu.cpp b/src/frontend/mame/ui/mainmenu.cpp
--- a/src/frontend/mame/ui/mainmenu.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/frontend/mame/ui/mainmenu.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -128,22 +128,26 @@
 	if (mame_machine_manager::instance()->lua()->call_plugin_check<const char *>("data_list", "", true))
 		item_append(_("External DAT View"), 0, (void *)EXTERNAL_DATS);
 
-	item_append(menu_item_type::SEPARATOR);
+// MAMEFX items commented out
+//	item_append(menu_item_type::SEPARATOR);
 
-	if (!mame_machine_manager::instance()->favorite().is_favorite(machine()))
-		item_append(_("Add To Favorites"), 0, (void *)ADD_FAVORITE);
-	else
-		item_append(_("Remove From Favorites"), 0, (void *)REMOVE_FAVORITE);
+	/* add favorite menu */
+//	if (!mame_machine_manager::instance()->favorite().isgame_favorite())
+//		item_append(_("Add To Favorites"), "", 0, (void *)ADD_FAVORITE);
+//	else
+//		item_append(_("Remove From Favorites"), "", 0, (void *)REMOVE_FAVORITE);
 
 	item_append(menu_item_type::SEPARATOR);
 
+	item_append(_("Quit from Machine"), "", 0, (void *)QUIT_GAME);
 	item_append(string_format(_("About %s"), emulator_info::get_appname()), 0, (void *)ABOUT);
 
-	item_append(menu_item_type::SEPARATOR);
+//	item_append(menu_item_type::SEPARATOR);
 
 //  item_append(_("Quit from Machine"), 0, (void *)QUIT_GAME);
 
-	item_append(_("Select New Machine"), 0, (void *)SELECT_GAME);
+	/* add reset and exit menus */
+//	item_append(_("Select New Machine"), "", 0, (void *)SELECT_GAME);
 }
 
 menu_main::~menu_main()
diff -u -r a/src/frontend/mame/ui/moptions.cpp b/src/frontend/mame/ui/moptions.cpp
--- a/src/frontend/mame/ui/moptions.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/frontend/mame/ui/moptions.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -63,22 +63,22 @@
 	{ OPTION_INFOS_SIZE "(0.05-1.00)",      "0.75",         OPTION_FLOAT,       "UI right panel infos text size (0.05 - 1.00)" },
 	{ OPTION_FONT_ROWS "(25-40)",           "30",           OPTION_INTEGER,     "UI font lines per screen (25 - 40)" },
 	{ OPTION_HIDE_PANELS "(0-3)",           "0",            OPTION_INTEGER,     "UI hide left/right panel in main view (0 = Show all, 1 = hide left, 2 = hide right, 3 = hide both" },
-	{ OPTION_UI_BORDER_COLOR,               "ffffffff",     OPTION_STRING,      "UI border color (ARGB)" },
-	{ OPTION_UI_BACKGROUND_COLOR,           "ef101030",     OPTION_STRING,      "UI background color (ARGB)" },
-	{ OPTION_UI_CLONE_COLOR,                "ff808080",     OPTION_STRING,      "UI clone color (ARGB)" },
-	{ OPTION_UI_DIPSW_COLOR,                "ffffff00",     OPTION_STRING,      "UI dipswitch color (ARGB)" },
-	{ OPTION_UI_GFXVIEWER_BG_COLOR,         "ef101030",     OPTION_STRING,      "UI gfx viewer color (ARGB)" },
-	{ OPTION_UI_MOUSEDOWN_BG_COLOR,         "b0606000",     OPTION_STRING,      "UI mouse down bg color (ARGB)" },
-	{ OPTION_UI_MOUSEDOWN_COLOR,            "ffffff80",     OPTION_STRING,      "UI mouse down color (ARGB)" },
-	{ OPTION_UI_MOUSEOVER_BG_COLOR,         "70404000",     OPTION_STRING,      "UI mouse over bg color (ARGB)" },
-	{ OPTION_UI_MOUSEOVER_COLOR,            "ffffff80",     OPTION_STRING,      "UI mouse over color (ARGB)" },
-	{ OPTION_UI_SELECTED_BG_COLOR,          "ef808000",     OPTION_STRING,      "UI selected bg color (ARGB)" },
-	{ OPTION_UI_SELECTED_COLOR,             "ffffff00",     OPTION_STRING,      "UI selected color (ARGB)" },
-	{ OPTION_UI_SLIDER_COLOR,               "ffffffff",     OPTION_STRING,      "UI slider color (ARGB)" },
-	{ OPTION_UI_SUBITEM_COLOR,              "ffffffff",     OPTION_STRING,      "UI subitem color (ARGB)" },
-	{ OPTION_UI_TEXT_BG_COLOR,              "ef000000",     OPTION_STRING,      "UI text bg color (ARGB)" },
-	{ OPTION_UI_TEXT_COLOR,                 "ffffffff",     OPTION_STRING,      "UI text color (ARGB)" },
-	{ OPTION_UI_UNAVAILABLE_COLOR,          "ff404040",     OPTION_STRING,      "UI unavailable color (ARGB)" },
+	{ OPTION_UI_BORDER_COLOR,               "ff000000",     OPTION_STRING,      "UI border color (ARGB)" },
+	{ OPTION_UI_BACKGROUND_COLOR,           "efefefef",     OPTION_STRING,      "UI background color (ARGB)" },
+	{ OPTION_UI_CLONE_COLOR,                "ff7f7f7f",     OPTION_STRING,      "UI clone color (ARGB)" },
+	{ OPTION_UI_DIPSW_COLOR,                "ff7f7f7f",     OPTION_STRING,      "UI dipswitch color (ARGB)" },
+	{ OPTION_UI_GFXVIEWER_BG_COLOR,         "ef000000",     OPTION_STRING,      "UI gfx viewer color (ARGB)" },
+	{ OPTION_UI_MOUSEDOWN_BG_COLOR,         "ef00a2e8",     OPTION_STRING,      "UI mouse down bg color (ARGB)" },
+	{ OPTION_UI_MOUSEDOWN_COLOR,            "fffff200",     OPTION_STRING,      "UI mouse down color (ARGB)" },
+	{ OPTION_UI_MOUSEOVER_BG_COLOR,         "ef00a2e8",     OPTION_STRING,      "UI mouse over bg color (ARGB)" },
+	{ OPTION_UI_MOUSEOVER_COLOR,            "fffff200",     OPTION_STRING,      "UI mouse over color (ARGB)" },
+	{ OPTION_UI_SELECTED_BG_COLOR,          "ef3f48cc",     OPTION_STRING,      "UI selected bg color (ARGB)" },
+	{ OPTION_UI_SELECTED_COLOR,             "fffff200",     OPTION_STRING,      "UI selected color (ARGB)" },
+	{ OPTION_UI_SLIDER_COLOR,               "ef22b14c",     OPTION_STRING,      "UI slider color (ARGB)" },
+	{ OPTION_UI_SUBITEM_COLOR,              "ef3f48cc",     OPTION_STRING,      "UI subitem color (ARGB)" },
+	{ OPTION_UI_TEXT_BG_COLOR,              "efefefef",     OPTION_STRING,      "UI text bg color (ARGB)" },
+	{ OPTION_UI_TEXT_COLOR,                 "ff000000",     OPTION_STRING,      "UI text color (ARGB)" },
+	{ OPTION_UI_UNAVAILABLE_COLOR,          "ff7f7f7f",     OPTION_STRING,      "UI unavailable color (ARGB)" },
 	{ nullptr }
 };
 
diff -u -r a/src/frontend/mame/ui/submenu.cpp b/src/frontend/mame/ui/submenu.cpp
--- a/src/frontend/mame/ui/submenu.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/frontend/mame/ui/submenu.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -124,7 +124,7 @@
 			{ option_type::OSD,  __("Window Mode"),                             OSDOPTION_WINDOW },
 			{ option_type::EMU,  __("Enforce Aspect Ratio"),                    OPTION_KEEPASPECT },
 			{ option_type::OSD,  __("Start Out Maximized"),                     OSDOPTION_MAXIMIZE },
-			{ option_type::OSD,  __("Synchronized Refresh"),                    OSDOPTION_SYNCREFRESH },
+			{ option_type::OSD,  __("Synchronized Refresh"),                    OPTION_SYNCREFRESH },
 			{ option_type::OSD,  __("Wait Vertical Sync"),                      OSDOPTION_WAITVSYNC } };
 }
 
diff -u -r a/src/frontend/mame/ui/text.h b/src/frontend/mame/ui/text.h
--- a/src/frontend/mame/ui/text.h	2021-08-26 08:44:17.000000000 +0200
+++ b/src/frontend/mame/ui/text.h	2021-08-27 05:18:52.000000000 +0200
@@ -64,7 +64,8 @@
 	void restyle(size_t start, size_t span, rgb_t *fgcolor, rgb_t *bgcolor);
 	int get_wrap_info(std::vector<int> &xstart, std::vector<int> &xend) const;
 	void emit(render_container &container, float x, float y);
-	void add_text(std::string_view text, rgb_t fgcolor = rgb_t::white(), rgb_t bgcolor = rgb_t::transparent(), float size = 1.0)
+	void add_text(std::string_view text, rgb_t fgcolor = rgb_t::black(), rgb_t bgcolor = rgb_t::transparent(), float size = 1.0) // MAMEFX
+	//void add_text(std::string_view text, rgb_t fgcolor = rgb_t::white(), rgb_t bgcolor = rgb_t::transparent(), float size = 1.0)
 	{
 		// create the style
 		char_style style = { 0, };
diff -u -r a/src/frontend/mame/ui/ui.cpp b/src/frontend/mame/ui/ui.cpp
--- a/src/frontend/mame/ui/ui.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/frontend/mame/ui/ui.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -176,6 +176,7 @@
 	, m_mouse_bitmap(32, 32)
 	, m_mouse_arrow_texture(nullptr)
 	, m_mouse_show(false)
+	, m_show_time(false)	// MAMEFX
 	, m_target_font_height(0)
 	, m_has_warnings(false)
 	, m_unthrottle_mute(false)
@@ -669,7 +670,7 @@
 			if (mouse_target->map_point_container(mouse_target_x, mouse_target_y, container, mouse_x, mouse_y))
 			{
 				const float cursor_size = 0.6 * get_line_height();
-				container.add_quad(mouse_x, mouse_y, mouse_x + cursor_size * container.manager().ui_aspect(&container), mouse_y + cursor_size, colors().text_color(), m_mouse_arrow_texture, PRIMFLAG_ANTIALIAS(1) | PRIMFLAG_BLENDMODE(BLENDMODE_ALPHA));
+				container.add_quad(mouse_x, mouse_y, mouse_x + cursor_size * container.manager().ui_aspect(&container), mouse_y + cursor_size, rgb_t::white(), m_mouse_arrow_texture, PRIMFLAG_ANTIALIAS(1) | PRIMFLAG_BLENDMODE(BLENDMODE_ALPHA));
 			}
 		}
 	}
@@ -1221,6 +1222,22 @@
 	if (show_profiler())
 		draw_profiler(container);
 
+	// MAMEFX start
+	if (show_time())
+	{
+		char buf[20];
+		time_t ltime;
+		struct tm *today;
+		float line_height = get_line_height();
+
+		time(&ltime);
+		today = localtime(&ltime);
+
+		snprintf(buf, std::size(buf), "%02d:%02d:%02d", today->tm_hour, today->tm_min, today->tm_sec);
+		draw_text_full(container, buf, 0.0f, 1.0f - line_height, 1.0f, ui::text_layout::RIGHT, ui::text_layout::WORD, OPAQUE_, rgb_t::white(), rgb_t::black(), nullptr, nullptr);
+	}
+	// MAMEFX end
+
 	// if we're single-stepping, pause now
 	if (single_step())
 	{
@@ -1396,6 +1413,11 @@
 			machine().sound().ui_mute(!new_throttle_state);
 	}
 
+	// MAMEFX start
+	if (machine().ui_input().pressed(IPT_UI_SHOW_TIME))
+		set_show_time(!show_time());
+	// MAMEFX end
+
 	// check for fast forward
 	if (machine().ioport().type_pressed(IPT_UI_FAST_FORWARD))
 	{
@@ -1445,7 +1467,8 @@
 			ui_select_text,
 			ui_cancel_text);
 
-	draw_text_box(container, quit_message, ui::text_layout::CENTER, 0.5f, 0.5f, UI_RED_COLOR);
+	draw_text_box(container, quit_message, ui::text_layout::CENTER, 0.5f, 0.5f, colors().background_color());
+	//draw_text_box(container, quit_message, ui::text_layout::CENTER, 0.5f, 0.5f, UI_RED_COLOR);
 	machine().pause();
 
 	// if the user press ENTER, quit the game
@@ -1516,12 +1539,12 @@
 	}
 
 	// add CPU overclocking (cheat only)
-	if (machine.options().cheat())
+	//if (machine.options().cheat())
 	{
 		for (device_execute_interface &exec : execute_interface_enumerator(machine.root_device()))
 		{
 			std::string str = string_format(_("Overclock CPU %1$s"), exec.device().tag());
-			slider_alloc(std::move(str), 100, 1000, 4000, 10, std::bind(&mame_ui_manager::slider_overclock, this, std::ref(exec.device()), _1, _2));
+			slider_alloc(std::move(str), 10, 1000, 4000, 10, std::bind(&mame_ui_manager::slider_overclock, this, std::ref(exec.device()), _1, _2)); // MAMEFX
 		}
 		for (device_sound_interface &snd : sound_interface_enumerator(machine.root_device()))
 		{
@@ -1545,7 +1568,7 @@
 		std::string screen_desc = machine_info().get_screen_desc(screen);
 
 		// add refresh rate tweaker
-		if (machine.options().cheat())
+//		if (machine.options().cheat())
 		{
 			std::string str = string_format(_("%1$s Refresh Rate"), screen_desc);
 			slider_alloc(std::move(str), -10000, 0, 10000, 1000, std::bind(&mame_ui_manager::slider_refresh, this, std::ref(screen), _1, _2));
@@ -2253,3 +2276,4 @@
 	m_dipsw_color = options.dipsw_color();
 	m_slider_color = options.slider_color();
 }
+
diff -u -r a/src/frontend/mame/ui/ui.h b/src/frontend/mame/ui/ui.h
--- a/src/frontend/mame/ui/ui.h	2021-08-26 08:44:17.000000000 +0200
+++ b/src/frontend/mame/ui/ui.h	2021-08-27 05:18:52.000000000 +0200
@@ -49,9 +49,9 @@
 #define UI_LINE_WIDTH           (1.0f / 500.0f)
 
 /* handy colors */
-#define UI_GREEN_COLOR          rgb_t(0xef,0x10,0x60,0x10)
-#define UI_YELLOW_COLOR         rgb_t(0xef,0x60,0x60,0x10)
-#define UI_RED_COLOR            rgb_t(0xf0,0x60,0x10,0x10)
+#define UI_GREEN_COLOR          rgb_t(239,34,177,76)
+#define UI_YELLOW_COLOR         rgb_t(239,198,188,0)
+#define UI_RED_COLOR            rgb_t(239,237,28,36)
 
 /* cancel return value for a UI handler */
 #define UI_HANDLER_CANCEL       ((uint32_t)~0)
@@ -175,6 +175,8 @@
 	bool show_fps_counter();
 	void set_show_profiler(bool show);
 	bool show_profiler() const;
+	void set_show_time(bool show) { m_show_time = show; }
+	bool show_time() const { return m_show_time; } 
 	void show_menu();
 	void show_mouse(bool status);
 	virtual bool is_menu_active() override;
@@ -191,6 +193,11 @@
 	void start_save_state();
 	void start_load_state();
 
+	// config callbacks
+	void config_load_s(config_type cfg_type, util::xml::data_node const *parentnode);
+	void config_save_s(config_type cfg_type, util::xml::data_node *parentnode);
+	void config_apply(void);
+
 	// slider controls
 	std::vector<ui::menu_item>&  get_slider_list(void);
 
@@ -231,6 +238,7 @@
 	bitmap_argb32           m_mouse_bitmap;
 	render_texture *        m_mouse_arrow_texture;
 	bool                    m_mouse_show;
+	bool                    m_show_time; // MAMEFX
 	ui_options              m_ui_options;
 	ui_colors               m_ui_colors;
 	float                   m_target_font_height;
@@ -290,6 +298,7 @@
 	#endif
 
 	std::vector<std::unique_ptr<slider_state>> m_sliders;
+	std::vector<std::unique_ptr<slider_state>> m_sliders_saved;
 };
 
 
diff -u -r a/src/mame/arcade.flt b/src/mame/arcade.flt
--- a/src/mame/arcade.flt	2021-08-26 08:44:17.000000000 +0200
+++ b/src/mame/arcade.flt	2021-08-27 05:18:52.000000000 +0200
@@ -1,65 +1,65 @@
-1942.cpp
-1943.cpp
-1945kiii.cpp
-20pacgal.cpp
-24cdjuke.cpp
-2mindril.cpp
-30test.cpp
-39in1.cpp
-3do.cpp
-3x3puzzl.cpp
-40love.cpp
-4enlinea.cpp
-4enraya.cpp
-4roses.cpp
-5clown.cpp
-8080bw.cpp
-88games.cpp
-a1supply.cpp
-ace.cpp
-acefruit.cpp
-aces1.cpp
-acesp.cpp
-acommand.cpp
-actfancr.cpp
-adp.cpp
-aeroboto.cpp
-aerofgt.cpp
-age_candy.cpp
+1942.cpp                   //
+1943.cpp                   //
+1945kiii.cpp               //
+20pacgal.cpp               //
+//24cdjuke.cpp             // mechanical
+2mindril.cpp               //
+30test.cpp                 //
+39in1.cpp                  //
+//3do.cpp                  // chd
+3x3puzzl.cpp               //
+40love.cpp                 //
+//4enlinea.cpp             // check
+4enraya.cpp                //
+//4roses.cpp               // check
+//5clown.cpp               // poker
+8080bw.cpp                 //
+88games.cpp                //
+//a1supply.cpp             // check
+ace.cpp                    //
+//acefruit.cpp             // fruit
+//aces1.cpp                // fruit
+//acesp.cpp                // fruit
+acommand.cpp               //
+actfancr.cpp               //
+//adp.cpp                  //
+aeroboto.cpp               //
+aerofgt.cpp                //
+//age_candy.cpp            // mechanical
 airbustr.cpp
-airraid.cpp
+//airraid.cpp
 ajax.cpp
 akkaarrh.cpp
 albazc.cpp
-albazg.cpp
+//albazg.cpp
 aleck64.cpp
-aleisttl.cpp
-alg.cpp
-alien.cpp
+//aleisttl.cpp     // ttl
+//alg.cpp
+//alien.cpp
 aliens.cpp
 alinvade.cpp
-allied.cpp
+//allied.cpp       // pinball
 alpha68k.cpp
 alpha68k_i.cpp
 alpha68k_n.cpp
-alvg.cpp
-amaticmg.cpp
-ambush.cpp
-amerihok.cpp
-ampoker2.cpp
+//alvg.cpp         // pinball
+//amaticmg.cpp
+ambush.cpp         //
+//amerihok.cpp     // check
+//ampoker2.cpp     // poker
 amspdwy.cpp
-amusco.cpp
-anes.cpp
+//amusco.cpp       // poker
+//anes.cpp         // check
 angelkds.cpp
 appoooh.cpp
 aquarium.cpp
 arabian.cpp
-arachnid.cpp
+//arachnid.cpp
 arcadecl.cpp
 argus.cpp
-aristmk4.cpp
-aristmk5.cpp
-aristmk6.cpp
+//aristmk4.cpp     // fruit
+//aristmk5.cpp     // fruit
+//aristmk6.cpp     // fruit
 arkanoid.cpp
 armedf.cpp
 arsystems.cpp
@@ -68,11 +68,11 @@
 asterix.cpp
 asteroid.cpp
 astinvad.cpp
-astrafr.cpp
-astrcorp.cpp
+//astrafr.cpp      // fruit
+//astrcorp.cpp
 astrocde.cpp
 astrof.cpp
-astropc.cpp
+//astropc.cpp      // check
 asuka.cpp
 atarifb.cpp
 atarig1.cpp
@@ -82,28 +82,28 @@
 atarisy1.cpp
 atarisy2.cpp
 atarisy4.cpp
-atarittl.cpp
-atari_s1.cpp
-atari_s2.cpp
+//atarittl.cpp     // ttl
+//atari_s1.cpp     // pinball
+//atari_s2.cpp     // pinball
 atetris.cpp
-atlantis.cpp
-atronic.cpp
+//atlantis.cpp     // chd
+//atronic.cpp      // check
 attckufo.cpp
-atvtrack.cpp
+//atvtrack.cpp     // check
 avalnche.cpp
-avt.cpp
+//avt.cpp
 aztarac.cpp
 backfire.cpp
 badlands.cpp
 badlandsbl.cpp
 bagman.cpp
-bailey.cpp
+//bailey.cpp       // check
 balsente.cpp
 bankp.cpp
-banprestoms.cpp
+//banprestoms.cpp                      // medal game
 baraduke.cpp
 barata.cpp
-barni.cpp
+//barni.cpp        // pinball
 bartop52.cpp
 batman.cpp
 battlane.cpp
@@ -114,34 +114,34 @@
 beaminv.cpp
 beathead.cpp
 beezer.cpp
-belatra.cpp
+//belatra.cpp      // check
 berzerk.cpp
 bestleag.cpp
 bfcobra.cpp
-bfmsys83.cpp
-bfmsys85.cpp
-bfm_ad5sw.cpp
-bfm_sc1.cpp
-bfm_sc2.cpp
-bfm_sc4.cpp
-bfm_sc5sw.cpp
-bfm_swp.cpp
-bgt.cpp
+//bfmsys83.cpp     // fruit
+//bfmsys85.cpp     // fruit
+//bfm_ad5sw.cpp      // fruit
+//bfm_sc1.cpp      // fruit
+//bfm_sc2.cpp      // fruit
+//bfm_sc4.cpp      // fruit
+//bfm_sc5sw.cpp      // fruit
+//bfm_swp.cpp      // fruit
+//bgt.cpp          // fruit, skeleton
 big10.cpp
 bigevglf.cpp
 bigkarnk_ms.cpp
 bigstrkb.cpp
-bingo.cpp
-bingoc.cpp
-bingoman.cpp
-bingor.cpp
-bingowav.cpp
+//bingo.cpp        // check
+//bingoc.cpp       // check
+//bingoman.cpp     // check
+//bingor.cpp       // check
+//bingowav.cpp     // check
 bionicc.cpp
 bishi.cpp
 bking.cpp
 blackt96.cpp
 bladestl.cpp
-blitz68k.cpp
+//blitz68k.cpp     // fruit&poker
 blktiger.cpp
 blktiger_ms.cpp
 blmbycar.cpp
@@ -162,7 +162,7 @@
 bombjack.cpp
 boogwing.cpp
 bottom9.cpp
-bowltry.cpp
+//bowltry.cpp      // check
 boxer.cpp
 brkthru.cpp
 bsktball.cpp
@@ -170,40 +170,40 @@
 btoads.cpp
 bublbobl.cpp
 buggychl.cpp
-buster.cpp
+//buster.cpp       // fruit
 bwidow.cpp
 bwing.cpp
-by17.cpp
-by35.cpp
-by6803.cpp
-by68701.cpp
-byvid.cpp
 bzone.cpp
+//by17.cpp         // pinball
+//by35.cpp         // pinball
+//by6803.cpp       // pinball
+//by68701.cpp      // pinball
+//byvid.cpp          // pinball-video
 cabal.cpp
-cabaret.cpp
+//cabaret.cpp      // poker
 calchase.cpp
-calcune.cpp
-calomega.cpp
+calcune.cpp             //
+//calomega.cpp     // poker
 calorie.cpp
 canyon.cpp
 capbowl.cpp
-capcom.cpp
-capr1.cpp
-caprcyc.cpp
+//capcom.cpp       // check
+//capr1.cpp        // check
+//caprcyc.cpp      // check
 cardline.cpp
 carjmbre.cpp
 carpolo.cpp
 carrera.cpp
-castle.cpp
+//castle.cpp       // check
 caswin.cpp
 cave.cpp
 cavepc.cpp
-cb2001.cpp
+//cb2001.cpp       // fruit
 cball.cpp
 cbasebal.cpp
 cbuster.cpp
 ccastles.cpp
-cchance.cpp
+//cchance.cpp      // fruit
 cchasm.cpp
 cclimber.cpp
 cdi.cpp
@@ -219,29 +219,29 @@
 chanbara.cpp
 chance32.cpp
 changela.cpp
-changyu.cpp
+//changyu.cpp      // skeleton gambling
 cheekyms.cpp
-chexx.cpp
-chicago.cpp
-chihiro.cpp
+//chexx.cpp        // mechanical
+//chicago.cpp      // ttl
+//chihiro.cpp      // chd
 chinagat.cpp
 chinsan.cpp
 chqflag.cpp
-chsuper.cpp
+//chsuper.cpp      // poker
 cidelsa.cpp
 cinemat.cpp
 circus.cpp
 circusc.cpp
-cirsa820xxx.cpp
-cirsa910510.cpp
+//cirsa820xxx.cpp      // skel-mech
+//cirsa910510.cpp
 cischeat.cpp
 citycon.cpp
 clayshoo.cpp
 cliffhgr.cpp
 cloak.cpp
 cloud9.cpp
-clowndwn.cpp
-clpoker.cpp
+//clowndwn.cpp     // mechanical
+//clpoker.cpp      // poker
 clshroad.cpp
 cmmb.cpp
 cninja.cpp
@@ -249,8 +249,8 @@
 cobra.cpp
 cocoloco.cpp
 coinmstr.cpp
-coinmvga.cpp
-cointek.cpp
+//coinmvga.cpp     // check
+//cointek.cpp        // skeleton
 combatsc.cpp
 comebaby.cpp
 commando.cpp
@@ -259,33 +259,33 @@
 coolpool.cpp
 coolridr.cpp
 cop01.cpp
-cops.cpp
+//cops.cpp         // check
 copsnrob.cpp
 corona.cpp
 cosmic.cpp
-cosmicg.cpp
-cowtipping.cpp
+cosmicg.cpp                  // ok
+//cowtipping.cpp     // skeleton
 cps1.cpp
 cps1bl_5205.cpp
 cps1bl_pic.cpp
 cps2.cpp
 cps3.cpp
 cpzodiac.cpp
-crazybal.cpp
+//crazybal.cpp     // TTL
 crbaloon.cpp
 crgolf.cpp
 crimfght.cpp
-cromptons.cpp
+//cromptons.cpp    // mechanical
 crospang.cpp
 crospuzl.cpp
 crshrace.cpp
 crystal.cpp
-csplayh5.cpp
+//csplayh5.cpp     // chd
 cswat.cpp
 cubeqst.cpp
 cubo.cpp
 cultures.cpp
-cupidon.cpp
+//cupidon.cpp      // check
 cv1k.cpp
 cvs.cpp
 cwheel.cpp
@@ -315,21 +315,23 @@
 ddragon.cpp
 ddragon3.cpp
 ddribble.cpp
-ddz.cpp
+//ddz.cpp          // skeleton
 deadang.cpp
 dec0.cpp
 dec8.cpp
+deco_ld.cpp        // needed by combram3
+deco_mlc.cpp
 deco156.cpp
 deco32.cpp
 decocass.cpp
 deco_ld.cpp
 deco_mlc.cpp
 deniam.cpp
-deshoros.cpp
+//deshoros.cpp     // check
 destroyr.cpp
-de_2.cpp
-de_3.cpp
-de_3b.cpp
+//de_2.cpp         // pinball
+//de_3.cpp         // pinball
+//de_3b.cpp        // pinball
 dfruit.cpp
 dgpix.cpp
 diamondking.cpp
@@ -342,8 +344,8 @@
 djmain.cpp
 dkmb.cpp
 dkong.cpp
-dlair.cpp
-dlair2.cpp
+//dlair.cpp        // laser-disk
+//dlair2.cpp       // laser-disk
 dmndrby.cpp
 docastle.cpp
 dogfgt.cpp
@@ -359,20 +361,20 @@
 dribling.cpp
 drmicro.cpp
 drtomy.cpp
-drw80pkr.cpp
+//drw80pkr.cpp     // poker
 dunhuang.cpp
-dwarfd.cpp
+//dwarfd.cpp       // poker
 dynadice.cpp
 dynamoah.cpp
 dynax.cpp
 dynduke.cpp
-ecoinf1.cpp
-ecoinf2.cpp
-ecoinf3.cpp
-ecoinfr.cpp
-efdt.cpp
+//ecoinf1.cpp      // fruit
+//ecoinf2.cpp      // fruit
+//ecoinf3.cpp      // fruit
+//ecoinfr.cpp      // fruit
+efdt.cpp           //
 egghunt.cpp
-electra.cpp
+//electra.cpp      // ttl
 embargo.cpp
 enigma2.cpp
 eolith.cpp
@@ -382,7 +384,7 @@
 equites.cpp
 ertictac.cpp
 esd16.cpp
-esh.cpp
+//esh.cpp          // chd
 espial.cpp
 esripsys.cpp
 ettrivia.cpp
@@ -390,11 +392,11 @@
 exerion.cpp
 exidy.cpp
 exidy440.cpp
-exidyttl.cpp
+//exidyttl.cpp     // ttl
 expro02.cpp
 exprraid.cpp
 exterm.cpp
-extrema.cpp
+//extrema.cpp      // check
 exzisus.cpp
 ez2d.cpp
 f-32.cpp
@@ -406,18 +408,18 @@
 fastlane.cpp
 fcombat.cpp
 fcrash.cpp
-feversoc.cpp
-ffantasy_ms.cpp
+//feversoc.cpp     // fruit
+//ffantasy_ms.cpp    // skeleton
 fgoal.cpp
 finalizr.cpp
-fireball.cpp
+//fireball.cpp     // mechanical
 firebeat.cpp
 firefox.cpp
 firetrap.cpp
 firetrk.cpp
 fitfight.cpp
-flashbeats.cpp
-flicker.cpp
+//flicker.cpp      // pinball
+//flashbeats.cpp     // not working
 flipjack.cpp
 flkatck.cpp
 flower.cpp
@@ -425,31 +427,31 @@
 flyball.cpp
 foodf.cpp
 forte2.cpp
-fortecar.cpp
+//fortecar.cpp     // poker
 freekick.cpp
-freeway.cpp
-fresh.cpp
+//fresh.cpp        // fruit
+//freeway.cpp      // black screen; driver has no info about this system
 fromanc2.cpp
 fromance.cpp
 fruitpc.cpp
-fungames.cpp
+//fungames.cpp     // ttl
 funkball.cpp
 funkybee.cpp
 funkyjet.cpp
-funtech.cpp
-funworld.cpp
+//funtech.cpp      // poker
+//funworld.cpp     // poker
 funybubl.cpp
 fuukifg2.cpp
 fuukifg3.cpp
-fwheel.cpp
-g627.cpp
+//fwheel.cpp                     // skel
+//g627.cpp         // pinball
 gaelco.cpp
 gaelco2.cpp
 gaelco3d.cpp
 gaelcof3.cpp
 gaelcopc.cpp
 gaiden.cpp
-gal3.cpp
+//gal3.cpp         // check
 galaga.cpp
 galastrm.cpp
 galaxi.cpp
@@ -465,12 +467,12 @@
 galpanic.cpp
 galpanic_ms.cpp
 galspnbl.cpp
-gambl186.cpp
-gamecstl.cpp
-gamemasters.cpp
+//gambl186.cpp     // check
+//gamecstl.cpp     // chd
+//gamemasters.cpp  // mechanical
 gameplan.cpp
-gammagic.cpp
-gamtor.cpp
+//gammagic.cpp    // check
+//gamtor.cpp      // check
 gaplus.cpp
 gatron.cpp
 gauntlet.cpp
@@ -478,27 +480,27 @@
 gcpinbal.cpp
 gei.cpp
 getaway.cpp
-gfamily.cpp
+//gfamily.cpp                   // skeleton, check later
 ggconnie.cpp
 ghosteo.cpp
 giclassic.cpp
 gijoe.cpp
 ginganin.cpp
-gkigt.cpp
+//gkigt.cpp        // check
 gladiatr.cpp
 glass.cpp
-globalfr.cpp
-globalvr.cpp
+//globalfr.cpp     // mechanical
+//globalvr.cpp     // chd
 gluck2.cpp
 gng.cpp
 go2000.cpp
 goal92.cpp
 goindol.cpp
-gokidetor.cpp
-goldart.cpp
-goldngam.cpp
-goldnpkr.cpp
-goldstar.cpp
+//gokidetor.cpp     // check
+//goldart.cpp       // mechanical
+//goldngam.cpp      // poker
+//goldnpkr.cpp      // poker
+//goldstar.cpp      // fruit
 gomoku.cpp
 good.cpp
 goodejan.cpp
@@ -507,8 +509,8 @@
 gottlieb.cpp
 gotya.cpp
 gpworld.cpp
-gp_1.cpp
-gp_2.cpp
+//gp_1.cpp          // pinball
+//gp_2.cpp          // pinball
 gradius3.cpp
 grchamp.cpp
 gridlee.cpp
@@ -518,12 +520,12 @@
 gstriker.cpp
 gsword.cpp
 gticlub.cpp
-gts1.cpp
-gts3.cpp
-gts3a.cpp
-gts80.cpp
-gts80a.cpp
-gts80b.cpp
+//gts1.cpp          // pinball
+//gts3.cpp          // pinball
+//gts3a.cpp         // pinball
+//gts80.cpp         // pinball
+//gts80a.cpp        // pinball
+//gts80b.cpp        // pinball
 guab.cpp
 gumbo.cpp
 gunbustr.cpp
@@ -533,74 +535,74 @@
 gyruss.cpp
 halleys.cpp
 hanaawas.cpp
-hankin.cpp
-hapyfish.cpp
+//hankin.cpp        // pinball
+//hapyfish.cpp      // too big to fit in memory
 harddriv.cpp
-hazelgr.cpp
+//hazelgr.cpp       // fruit
 hcastle.cpp
 headonb.cpp
 heromem.cpp
 hexion.cpp
-hideseek.cpp
+//hideseek.cpp     // check
 higemaru.cpp
-highvdeo.cpp
-hikaru.cpp
+//highvdeo.cpp     // poker
+//hikaru.cpp       // check
 himesiki.cpp
 hitme.cpp
-hitpoker.cpp
+//hitpoker.cpp     // check
 hnayayoi.cpp
 hng64.cpp
-hobbyplay.cpp
+//hobbyplay.cpp         // fruit
 holeland.cpp
 homedata.cpp
 homerun.cpp
-hornet.cpp
+hornet.cpp                  // ok
 hotblock.cpp
-hotstuff.cpp
-hshavoc.cpp
+//hotstuff.cpp     // poker
+//hshavoc.cpp      // check
 hvyunit.cpp
 hyhoo.cpp
 hyperspt.cpp
 hyprduel.cpp
-icecold.cpp
-ice_bozopail.cpp
-ice_hhhippos.cpp
-ice_tbd.cpp
-ichiban.cpp
-idsa.cpp
+//icecold.cpp      // mechanical
+//ice_bozopail.cpp // mechanical
+//ice_hhhippos.cpp              // mnw
+//ice_tbd.cpp      // mechanical
+//ichiban.cpp      // check
+//idsa.cpp         // pinball
 igs009.cpp
 igs011.cpp
 igs017.cpp
-igspc.cpp
-igspoker.cpp
-igs_fear.cpp
-igs_m027.cpp
-igs_m036.cpp
+//igspc.cpp        // chd
+//igspoker.cpp     // poker
+//igs_fear.cpp     // check
+//igs_m027.cpp     // check
+//igs_m036.cpp     // check
 ikki.cpp
 imolagp.cpp
-inder.cpp
-inderp.cpp
-instantm.cpp
-intrscti.cpp
+//inder.cpp        // pinball
+//inderp.cpp       // pinball
+//instantm.cpp     // mechanical
+//intrscti.cpp     // check
 inufuku.cpp
 invqix.cpp
 iqblock.cpp
 irobot.cpp
 ironhors.cpp
-island.cpp
-istellar.cpp
+//island.cpp       // mechanical
+//istellar.cpp     // check, mnw
 istrebiteli.cpp
 iteagle.cpp
 itech32.cpp
 itech8.cpp
-itgambl2.cpp
-itgambl3.cpp
-itgamble.cpp
+//itgambl2.cpp     // fruit
+//itgambl3.cpp     // fruit
+//itgamble.cpp     // fruit
 jack.cpp
 jackal.cpp
 jackie.cpp
-jackpool.cpp
-jackpot.cpp
+//jackpool.cpp     // poker
+//jackpot.cpp      // mnw, not stated, probably junk
 jaguar.cpp
 jailbrek.cpp
 jalmah.cpp
@@ -610,26 +612,26 @@
 jchan.cpp
 jclub2.cpp
 jedi.cpp
-jeutel.cpp
-joctronic.cpp
-jokrwild.cpp
+//jeutel.cpp       // pinball
+//joctronic.cpp    // mechanical
+//jokrwild.cpp     // poker
 jollyjgr.cpp
 jongkyo.cpp
 joystand.cpp
-jp.cpp
-jpmimpct.cpp
-jpmimpctsw.cpp
-jpmmps.cpp
-jpms80.cpp
-jpmsru.cpp
-jpmsys5.cpp
-jpmsys5sw.cpp
-jpmsys7.cpp
+//jp.cpp           // pinball
+//jpmimpct.cpp     // check
+//jpmimpctsw.cpp   // fruit
+//jpmmps.cpp       // fruit
+//jpms80.cpp       // fruit
+//jpmsru.cpp       // fruit
+//jpmsys5.cpp      // fruit
+//jpmsys5sw.cpp    // fruit
+//jpmsys7.cpp      // fruit
 jrpacman.cpp
 jubilee.cpp
-jungleyo.cpp
+//jungleyo.cpp     // check
 junofrst.cpp
-jvh.cpp
+//jvh.cpp          // pinball
 kaneko16.cpp
 kangaroo.cpp
 karnov.cpp
@@ -642,7 +644,7 @@
 kingobox.cpp
 kingpin.cpp
 kinst.cpp
-kissproto.cpp
+//kissproto.cpp    // pinball
 klax.cpp
 kncljoe.cpp
 koftball.cpp
@@ -652,14 +654,14 @@
 konamigv.cpp
 konamigx.cpp
 konamim2.cpp
-konblands.cpp
-konendev.cpp
-kongs470.cpp
-konmedal.cpp
-konmedal68k.cpp
+//konblands.cpp    // not working; check back later
+//konendev.cpp     // fruit
+//kongs470.cpp                   // skel
+//konmedal.cpp     // check
+//konmedal68k.cpp  // check
 kontest.cpp
 kopunch.cpp
-kpontoon.cpp
+//kpontoon.cpp            // card game
 kpython.cpp
 ksayakyu.cpp
 ksys573.cpp
@@ -676,33 +678,33 @@
 lastduel.cpp
 lastfght.cpp
 lazercmd.cpp
-laz_aftrshok.cpp
-laz_ribrac.cpp
+//laz_aftrshok.cpp // mechanical
+//laz_ribrac.cpp   // mechanical
 lbeach.cpp
-lckydraw.cpp
+//lckydraw.cpp     // pinball
 legionna.cpp
 leland.cpp
 lemmings.cpp
 lethal.cpp
 lethalj.cpp
-lgp.cpp
+//lgp.cpp          // check
 liberate.cpp
 liberatr.cpp
 limenko.cpp
-lindbergh.cpp
+//lindbergh.cpp    // fatal memory handler error at start
 littlerb.cpp
 lkage.cpp
 lockon.cpp
 looping.cpp
 lordgun.cpp
 lsasquad.cpp
-ltcasino.cpp
-ltd.cpp
-luckgrln.cpp
-lucky37.cpp
-lucky74.cpp
-luckybal.cpp
-lvcards.cpp
+//ltcasino.cpp     // gambling
+//ltd.cpp          // pinball
+//luckgrln.cpp     // gambling
+//lucky37.cpp      // poker
+//lucky74.cpp      // poker
+//luckybal.cpp     // gambling
+//lvcards.cpp      // poker
 lwings.cpp
 m10.cpp
 m107.cpp
@@ -716,15 +718,15 @@
 m79amb.cpp
 m90.cpp
 m92.cpp
-macp.cpp
+//macp.cpp         // pinball
 macrossp.cpp
 macs.cpp
 madalien.cpp
 madmotor.cpp
-magic10.cpp
-magicard.cpp
-magicfly.cpp
-magictg.cpp
+//magic10.cpp      // poker
+//magicard.cpp     // poker
+//magicfly.cpp     // poker
+//magictg.cpp      // check
 magmax.cpp
 magreel.cpp
 magtouch.cpp
@@ -732,30 +734,30 @@
 mainsnk.cpp
 majorpkr.cpp
 malzak.cpp
-manohman.cpp
+//manohman.cpp     // check
 mappy.cpp
 marineb.cpp
 marinedt.cpp
 mario.cpp
 markham.cpp
-marywu.cpp
+//marywu.cpp       // check
 mastboy.cpp
 mastboyo.cpp
 matmania.cpp
-matrix.cpp
+//matrix.cpp         // fruit
 maxaflex.cpp
-maygay1bsw.cpp
-maygayep.cpp
-maygayew.cpp
-maygayv1.cpp
+//maygay1bsw.cpp     // fruit
+//maygayep.cpp     // fruit
+//maygaysw.cpp     // fruit
+//maygayv1.cpp     // fruit
 mazerbla.cpp
 mcatadv.cpp
 mcr.cpp
 mcr3.cpp
 mcr68.cpp
 meadows.cpp
-meadwttl.cpp
-mechatt.cpp
+//meadwttl.cpp     // ttl
+mechatt.cpp           // ok
 mediagx.cpp
 megadriv_acbl.cpp
 megaphx.cpp
@@ -764,27 +766,27 @@
 megatech.cpp
 megazone.cpp
 meijinsn.cpp
-menghong.cpp
-mephistp.cpp
+//menghong.cpp     // gambling
+//mephistp.cpp     // pinball
 merit.cpp
 merit3xx.cpp
 meritm.cpp
 merits.cpp
 meritsdx.cpp
 mermaid.cpp
-metalmx.cpp
+//metalmx.cpp      // check
 metlclsh.cpp
 metlfrzr.cpp
 metro.cpp
-meyc8080.cpp
-meyc8088.cpp
-mgames.cpp
-mgavegas.cpp
+//meyc8080.cpp     // poker
+//meyc8088.cpp     // fruit
+//mgames.cpp       // poker
+//mgavegas.cpp     // check
 mgolf.cpp
 mhavoc.cpp
 micro3d.cpp
-microdar.cpp
-micropin.cpp
+//microdar.cpp     // mechanical
+//micropin.cpp     // pinball
 midas.cpp
 midqslvr.cpp
 midtunit.cpp
@@ -794,14 +796,14 @@
 midyunit.cpp
 midzeus.cpp
 mikie.cpp
-mil4000.cpp
+//mil4000.cpp      // poker
 miniboy7.cpp
 miniguay.cpp
 minivadr.cpp
 minivideo.cpp
 mirage.cpp
 mirax.cpp
-missamer.cpp
+//missamer.cpp            // Not working
 missb2.cpp
 missbamby.cpp
 missile.cpp
@@ -811,57 +813,57 @@
 mjsister.cpp
 mlanding.cpp
 mmagic.cpp
-mmm.cpp
+//mmm.cpp          // mechanical
 model1.cpp
 model2.cpp
 model3.cpp
 mogura.cpp
 mole.cpp
 momoko.cpp
-monacogp.cpp
+//monacogp.cpp     // ttl
 monzagp.cpp
 moo.cpp
 mosaic.cpp
 mouser.cpp
-mpu12wbk.cpp
-mpu2.cpp
-mpu3.cpp
-mpu4.cpp
-mpu4avan.cpp
-mpu4bwb.cpp
-mpu4concept.cpp
-mpu4crystal.cpp
-mpu4dealem.cpp
-mpu4empire.cpp
-mpu4mdm.cpp
-mpu4misc.cpp
-mpu4mod2sw.cpp
-mpu4mod4yam.cpp
-mpu4plasma.cpp
-mpu4sw.cpp
-mpu4union.cpp
-mpu4vid.cpp
-mpu5sw.cpp
-mquake.cpp
+//mpu12wbk.cpp     // fruit
+//mpu2.cpp         // fruit
+//mpu3.cpp         // fruit
+//mpu4.cpp         // fruit
+//mpu4avan.cpp     // fruit
+//mpu4bwb.cpp      // fruit
+//mpu4concept.cpp  // fruit
+//mpu4crystal.cpp  // fruit
+//mpu4dealem.cpp   // fruit
+//mpu4empire.cpp   // fruit
+//mpu4mdm.cpp      // fruit
+//mpu4misc.cpp     // fruit
+//mpu4mod2sw.cpp   // fruit
+//mpu4mod4yam.cpp  // fruit
+//mpu4plasma.cpp   // fruit
+//mpu4sw.cpp       // fruit
+//mpu4union.cpp    // fruit
+//mpu4vid.cpp      // fruit
+//mpu5sw.cpp         // fruit
+//mquake.cpp       // test rom
 mrdo.cpp
 mrflea.cpp
-mrgame.cpp
+//mrgame.cpp       // pinball
 mrjong.cpp
 ms32.cpp
 msisaac.cpp
-mtouchxl.cpp
+//mtouchxl.cpp     // chd
 mugsmash.cpp
-multfish.cpp
-multfish_boot.cpp
+//multfish.cpp     // fruit
+//multfish_boot.cpp // fruit
 multigam.cpp
 munchmo.cpp
-murogem.cpp
-murogmbl.cpp
+//murogem.cpp      // poker
+//murogmbl.cpp     // poker
 mustache.cpp
 mw18w.cpp
 mw8080bw.cpp
 mwarr.cpp
-mwsub.cpp
+//mwsub.cpp        // mechanical
 mystston.cpp
 mystwarr.cpp
 n8080.cpp
@@ -869,9 +871,9 @@
 namcona1.cpp
 namconb1.cpp
 namcond1.cpp
-namcops2.cpp
+//namcops2.cpp     // check
 namcos1.cpp
-namcos10.cpp
+//namcos10.cpp     // check
 namcos11.cpp
 namcos12.cpp
 namcos1b.cpp
@@ -880,7 +882,7 @@
 namcos21_c67.cpp
 namcos21_de.cpp
 namcos22.cpp
-namcos23.cpp
+//namcos23.cpp     // check
 namcos86.cpp
 naomi.cpp
 naughtyb.cpp
@@ -893,11 +895,11 @@
 neogeo.cpp
 neopcb.cpp
 neoprint.cpp
-neptunp2.cpp
+//neptunp2.cpp    // check
 news.cpp
-nexus3d.cpp
-nibble.cpp
-nichild.cpp
+//nexus3d.cpp     // check
+//nibble.cpp      // check
+//nichild.cpp     // check (black screen)
 nightgal.cpp
 nightmare.cpp
 ninjakd2.cpp
@@ -906,13 +908,13 @@
 niyanpai.cpp
 nmg5.cpp
 nmk16.cpp
-nmkmedal.cpp
-norautp.cpp
-notechan.cpp
+//nmkmedal.cpp     // mechanical
+//norautp.cpp      // poker
+//notechan.cpp     // check
 nova2001.cpp
-nsg6809.cpp
-nsm.cpp
-nsmpoker.cpp
+//nsg6809.cpp      // mechanical
+//nsm.cpp          // pinball
+//nsmpoker.cpp     // check
 nss.cpp
 nwk-tr.cpp
 nycaptor.cpp
@@ -936,7 +938,7 @@
 pacland.cpp
 pacman.cpp
 pandoras.cpp
-pangofun.cpp
+//pangofun.cpp     // check
 panicr.cpp
 paradise.cpp
 paranoia.cpp
@@ -952,19 +954,19 @@
 pcxt.cpp
 pengadvb.cpp
 pengo.cpp
-peplus.cpp
-peyper.cpp
+//peplus.cpp       // fruit
+//peyper.cpp       // pinball
 pgm.cpp
 pgm2.cpp
-pgm3.cpp
+//pgm3.cpp         // chd
 phoenix.cpp
 photon.cpp
 photon2.cpp
-photoply.cpp
-photoplys.cpp
-photoplysx.cpp
-piggypas.cpp
-pinball2k.cpp
+//photoply.cpp     // chd
+//photoplys.cpp                // unknown skeleton
+//photoplysx.cpp           // skeleton
+//piggypas.cpp     // mechanical
+//pinball2k.cpp    // pinball
 pingpong.cpp
 pinkiri8.cpp
 pipedrm.cpp
@@ -976,16 +978,16 @@
 pktgaldx.cpp
 playch10.cpp
 playmark.cpp
-play_1.cpp
-play_2.cpp
-play_3.cpp
-playcenter.cpp
-plsonic4.cpp
-pluto5.cpp
-plygonet.cpp
+//play_1.cpp                       // pinball
+//play_2.cpp                       // pinball
+//play_3.cpp                       // pinball
+//playcenter.cpp                   // skel
+//plsonic4.cpp                     // skel
+//pluto5.cpp                       // fruit
+//plygonet.cpp                     // fatal error
 pntnpuzl.cpp
 pokechmp.cpp
-poker72.cpp
+//poker72.cpp      // poker
 pokerout.cpp
 polepos.cpp
 policetr.cpp
@@ -997,15 +999,15 @@
 popobear.cpp
 popper.cpp
 portrait.cpp
-potgoldu.cpp
+//potgoldu.cpp     // check
 powerbal.cpp
 powerins.cpp
 ppmast93.cpp
 prehisle.cpp
-proconn.cpp
+//proconn.cpp      // fruit
 progolf.cpp
-psattack.cpp
-pse.cpp
+//psattack.cpp     // skeleton
+//pse.cpp          // ttl
 psikyo.cpp
 psikyo4.cpp
 psikyosh.cpp
@@ -1026,23 +1028,23 @@
 quizdna.cpp
 quizo.cpp
 quizpani.cpp
-quizpun2.cpp
+//quizpun2.cpp     // check
 quizshow.cpp
 r2dtank.cpp
 r2dx_v33.cpp
 rabbit.cpp
-radikaldarts.cpp
+//radikaldarts.cpp                     // skel
 raiden.cpp
 raiden2.cpp
 raiden_ms.cpp
 rallyx.cpp
 rampart.cpp
-ramtek.cpp
+//ramtek.cpp       // ttl
 rastan.cpp
 rastersp.cpp
 rbisland.cpp
 rbmk.cpp
-rcorsair.cpp
+//rcorsair.cpp     // check
 re900.cpp
 realbrk.cpp
 redalert.cpp
@@ -1050,46 +1052,46 @@
 relief.cpp
 renegade.cpp
 retofinv.cpp
-rf51w14cg.cpp
-rfslots8085.cpp
-rfslotsmcs48.cpp
-rfslotspcpent.cpp
-rgum.cpp
+//rf51w14cg.cpp               // skeleton gambling
+//rfslots8085.cpp             // skel mech
+//rfslotsmcs48.cpp            // skel mech
+//rfslotspcpent.cpp           // mechanical
+//rgum.cpp                    // check
 rltennis.cpp
 rmhaihai.cpp
 rockrage.cpp
 rocnrope.cpp
 rohga.cpp
 rollerg.cpp
-rollext.cpp
+//rollext.cpp      // check
 rollrace.cpp
 ron.cpp
 rotaryf.cpp
 roul.cpp
 route16.cpp
-rowamet.cpp
+//rowamet.cpp      // pinball
 royalmah.cpp
 rpunch.cpp
 rulechan.cpp
 runaway.cpp
 rungun.cpp
-s11.cpp
-s11a.cpp
-s11b.cpp
-s11c.cpp
-s3.cpp
-s4.cpp
-s6.cpp
-s6a.cpp
-s7.cpp
-s8.cpp
-s8a.cpp
-s9.cpp
+//s11.cpp          // pinball
+//s11a.cpp         // pinball
+//s11b.cpp         // pinball
+//s11c.cpp         // pinball
+//s3.cpp           // pinball
+//s4.cpp           // pinball
+//s6.cpp           // pinball
+//s6a.cpp          // pinball
+//s7.cpp           // pinball
+//s8.cpp           // pinball
+//s8a.cpp          // pinball
+//s9.cpp           // pinball
 safarir.cpp
-sam.cpp
+//sam.cpp          // pinball
 sandscrp.cpp
 sangho.cpp
-sanremmg.cpp
+//sanremmg.cpp     // check
 sanremo.cpp
 saturn.cpp
 sauro.cpp
@@ -1099,30 +1101,30 @@
 sbowling.cpp
 sbrkout.cpp
 sbugger.cpp
-schexx4gen.cpp
-schick.cpp
-scm_500.cpp
+//schexx4gen.cpp                        // mechanical
+schick.cpp                            // playable, just
+//scm_500.cpp                           // mechanical
 scobra.cpp
 scotrsht.cpp
 scramble.cpp
 scregg.cpp
 scyclone.cpp
 sderby.cpp
-sderby2.cpp
+//sderby2.cpp      // check
 seabattl.cpp
 sealy.cpp
-sealy_fr.cpp
+//sealy_fr.cpp     // skeleton
 seattle.cpp
 segaatom.cpp
 segac2.cpp
-segacoin.cpp
+//segacoin.cpp     // check
 segae.cpp
 segag80r.cpp
 segag80v.cpp
 segahang.cpp
 segajw.cpp
-segald.cpp
-segam1.cpp
+//segald.cpp       // check
+//segam1.cpp       // check
 segaorun.cpp
 segas16a.cpp
 segas16b.cpp
@@ -1130,9 +1132,9 @@
 segas18_astormbl.cpp
 segas24.cpp
 segas32.cpp
-segasp.cpp
-segattl.cpp
-segaufo.cpp
+//segasp.cpp       // check
+//segattl.cpp      // ttl
+//segaufo.cpp      // mechanical
 segaxbd.cpp
 segaybd.cpp
 seibucats.cpp
@@ -1144,8 +1146,8 @@
 seta.cpp
 seta2.cpp
 sf.cpp
-sfbonus.cpp
-sfcbox.cpp
+//sfbonus.cpp      // fruit
+//sfcbox.cpp       // check
 sfkick.cpp
 sg1000a.cpp
 shadfrce.cpp
@@ -1154,24 +1156,24 @@
 shangkid.cpp
 shaolins.cpp
 shisen.cpp
-shootaway2.cpp
+//shootaway2.cpp   // check
 shootout.cpp
 shougi.cpp
 shtzone.cpp
 shuuz.cpp
 sidearms.cpp
 sidepckt.cpp
-sigma21.cpp
-sigmab31.cpp
-sigmab52.cpp
+//sigma21.cpp      // skeleton, probably gambling
+//sigmab31.cpp     // gambling
+//sigmab52.cpp     // poker
 sigmab98.cpp
 silkroad.cpp
-silverball.cpp
+//silverball.cpp                   // unknown skeleton
 silvmil.cpp
 simpl156.cpp
 simple_st0016.cpp
 simpsons.cpp
-skeetsht.cpp
+//skeetsht.cpp     // check
 skimaxx.cpp
 skopro.cpp
 skullxbo.cpp
@@ -1183,10 +1185,10 @@
 skyraid.cpp
 slapfght.cpp
 slapshot.cpp
-sleic.cpp
+//sleic.cpp        // pinball
 sliver.cpp
-slotcarn.cpp
-smotor.cpp
+//slotcarn.cpp     // fruit-poker
+smotor.cpp           //
 smsmcorp.cpp
 sms_bootleg.cpp
 snesb.cpp
@@ -1206,19 +1208,19 @@
 spcforce.cpp
 spdheat.cpp
 spdodgeb.cpp
-special_gambl.cpp
-spectra.cpp
+//special_gambl.cpp  // gambling
+//spectra.cpp      // pinball
 speedatk.cpp
 speedbal.cpp
 speedspn.cpp
 speglsht.cpp
 spiders.cpp
-spinb.cpp
-spirit76.cpp
+//spinb.cpp        // pinball
+//spirit76.cpp     // pinball
 splash.cpp
-splash_ms.cpp
-splus.cpp
-spoker.cpp
+splash_ms.cpp      // adult
+//splus.cpp        // fruit
+//spoker.cpp       // poker
 spool99.cpp
 sprcros2.cpp
 sprint2.cpp
@@ -1244,36 +1246,36 @@
 stadhero.cpp
 starcrus.cpp
 starfire.cpp
-stargame.cpp
-starrider.cpp
+//stargame.cpp     // pinball
+//starrider.cpp    // skeleton
 starshp1.cpp
 startouch.cpp
 starwars.cpp
 statriv2.cpp
-stellafr.cpp
+//stellafr.cpp     // fruit
 stfight.cpp
 stlforce.cpp
 strkzn.cpp
 stuntair.cpp
 stv.cpp
-st_mp100.cpp
-st_mp200.cpp
+//st_mp100.cpp     // pinball
+//st_mp200.cpp     // pinball
 su2000.cpp
 sub.cpp
-subhuntr.cpp
+//subhuntr.cpp     // check
 subs.cpp
-subsino.cpp
+//subsino.cpp      // fruit/poker
 subsino2.cpp
-summit.cpp
-sumt8035.cpp
+//summit.cpp       // fruit
+//sumt8035.cpp     // mechanical
 suna16.cpp
 suna8.cpp
 supbtime.cpp
 supdrapo.cpp
 supduck.cpp
 superchs.cpp
-supercrd.cpp
-superdq.cpp
+//supercrd.cpp     // fruit
+//superdq.cpp      // check
 superqix.cpp
 supertnk.cpp
 superwng.cpp
@@ -1282,29 +1284,29 @@
 suprnova.cpp
 suprridr.cpp
 suprslam.cpp
-supstarf.cpp
+//supstarf.cpp     // mechanical
 surpratk.cpp
 sweetland.cpp
 system1.cpp
 system16.cpp
 tagteam.cpp
 tail2nos.cpp
-taito.cpp
+//taito.cpp        // pinball
 taitoair.cpp
 taitogn.cpp
 taitojc.cpp
 taitopjc.cpp
 taitosj.cpp
-taitottl.cpp
+//taitottl.cpp     // ttl
 taitotx.cpp
 taitotz.cpp
-taitowlf.cpp
+//taitowlf.cpp     // check
 taito_b.cpp
 taito_f2.cpp
 taito_f3.cpp
 taito_h.cpp
 taito_l.cpp
-taito_o.cpp
+taito_o.cpp      // poker
 taito_x.cpp
 taito_z.cpp
 tank8.cpp
@@ -1313,24 +1315,24 @@
 taotaido.cpp
 tapatune.cpp
 targeth.cpp
-tasman.cpp
+//tasman.cpp       // check
 tatsumi.cpp
 tattack.cpp
 taxidriv.cpp
 tbowl.cpp
 tceptor.cpp
-teamjocs.cpp
-techno.cpp
+//teamjocs.cpp     // unknown skeleton
+//techno.cpp       // pinball
 tecmo.cpp
 tecmo16.cpp
 tecmosys.cpp
-tecnodar.cpp
+//tecnodar.cpp     // mechanical
 tehkanwc.cpp
 tempest.cpp
 terracre.cpp
 tetrisp2.cpp
 tgtpanic.cpp
-thayers.cpp
+//thayers.cpp      // laserdisk
 thedealr.cpp
 thedeep.cpp
 thepit.cpp
@@ -1343,11 +1345,11 @@
 tigeroad.cpp
 timelimt.cpp
 timeplt.cpp
-timetrv.cpp
+//timetrv.cpp      // check
 tmaster.cpp
 tmmjprd.cpp
 tmnt.cpp
-tmspoker.cpp
+//tmspoker.cpp     // check
 tnzs.cpp
 toaplan1.cpp
 toaplan2.cpp
@@ -1366,7 +1368,7 @@
 travrusa.cpp
 triforce.cpp
 triplhnt.cpp
-triviaquiz.cpp
+//triviaquiz.cpp    // skeleton
 trivrus.cpp
 truco.cpp
 trucocl.cpp
@@ -1382,10 +1384,10 @@
 turbo.cpp
 turrett.cpp
 tutankhm.cpp
-tvcapcom.cpp
+//tvcapcom.cpp     // skeleton
 tvg01.cpp
 twin16.cpp
-twinbskt.cpp
+//twinbskt.cpp       // skeleton
 twincobr.cpp
 twinkle.cpp
 twins.cpp
@@ -1396,12 +1398,12 @@
 ultrsprt.cpp
 umipoker.cpp
 undrfire.cpp
-unianapc.cpp
+//unianapc.cpp     // chd
 unico.cpp
 unkhorse.cpp
-unkpoker.cpp
+//unkpoker.cpp     // not working poker
 upscope.cpp
-usbilliards.cpp
+//usbilliards.cpp  // ttl
 usgames.cpp
 v0bowl.cpp
 vamphalf.cpp
@@ -1409,7 +1411,7 @@
 vastar.cpp
 vball.cpp
 vcombat.cpp
-vd.cpp
+//vd.cpp           // pinball
 vectrex.cpp
 vega.cpp
 vegaeo.cpp
@@ -1418,19 +1420,19 @@
 vertigo.cpp
 vicdual.cpp
 victory.cpp
-video21.cpp
+//video21.cpp      // gambling
 videopin.cpp
-videopkr.cpp
-videosaa.cpp
+//videopkr.cpp     // poker
+//videosaa.cpp     // gambling skeletons
 vigilant.cpp
 vindictr.cpp
 viper.cpp
-vlc.cpp
-vlc34010.cpp
+//vlc.cpp          // check
+//vlc34010.cpp            // skel
 volfied.cpp
 voyager.cpp
 vp101.cpp
-vpoker.cpp
+//vpoker.cpp       // poker
 vroulet.cpp
 vsmjtria.cpp
 vsnes.cpp
@@ -1447,26 +1449,26 @@
 welltris.cpp
 wgp.cpp
 wheelfir.cpp
-whitestar.cpp
-white_mod.cpp
-wico.cpp
-wildpkr.cpp
+//whitestar.cpp    // pinball
+//white_mod.cpp    // pinball
+//wico.cpp         // pinball
+//wildpkr.cpp      // poker
 williams.cpp
-winbingo.cpp
+//winbingo.cpp       // skeleton
 wink.cpp
 wiping.cpp
 witch.cpp
 wiz.cpp
 wmg.cpp
-wms.cpp
+//wms.cpp          // fruit
 wolfpack.cpp
-wpc_95.cpp
-wpc_an.cpp
-wpc_dcs.cpp
-wpc_dot.cpp
-wpc_flip1.cpp
-wpc_flip2.cpp
-wpc_s.cpp
+//wpc_95.cpp       // pinball
+//wpc_an.cpp       // pinball
+//wpc_dcs.cpp      // pinball
+//wpc_dot.cpp      // pinball
+//wpc_flip1.cpp    // pinball
+//wpc_flip2.cpp    // pinball
+//wpc_s.cpp        // pinball
 wrally.cpp
 wwfsstar.cpp
 wyvernf0.cpp
@@ -1475,7 +1477,7 @@
 xmen.cpp
 xorworld.cpp
 xtheball.cpp
-xtom3d.cpp
+//xtom3d.cpp       // check
 xxmissio.cpp
 xybots.cpp
 xyonix.cpp
@@ -1483,17 +1485,17 @@
 yiear.cpp
 yunsun16.cpp
 yunsung8.cpp
-yuvomz80.cpp
+//yuvomz80.cpp          // mechanical
 zac2650.cpp
 zaccaria.cpp
-zac_1.cpp
-zac_2.cpp
-zac_proto.cpp
+//zac_1.cpp             // pinball
+//zac_2.cpp             // pinball
+//zac_proto.cpp         // pinball
 zaxxon.cpp
 zerozone.cpp
 zn.cpp
 zodiack.cpp
-zpinball.cpp
+//zpinball.cpp          // pinball, skeleton
 zr107.cpp
 zwackery.cpp
 //exceptions + to add - to remove from imported list
@@ -1507,10 +1509,10 @@
 -cdimono1
 -cdimono2
 //cps1.cpp
--sfach
--sfzbch
--sfzch
--wofch
+//-sfach
+//-sfzbch
+//-sfzch
+//-wofch
 //jaguar.cpp
 -jaguar
 -jaguarcd
diff -u -r a/src/mame/drivers/aliens.cpp b/src/mame/drivers/aliens.cpp
--- a/src/mame/drivers/aliens.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/mame/drivers/aliens.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -201,7 +201,7 @@
 	m_maincpu->set_addrmap(AS_PROGRAM, &aliens_state::aliens_map);
 	m_maincpu->line().set(FUNC(aliens_state::banking_callback));
 
-	Z80(config, m_audiocpu, XTAL(3'579'545)); /* verified on pcb */
+	Z80(config, m_audiocpu, XTAL(3'579'545)*2); /* verified on pcb */ //MAMEFX
 	m_audiocpu->set_addrmap(AS_PROGRAM, &aliens_state::aliens_sound_map);
 
 	ADDRESS_MAP_BANK(config, "bank0000").set_map(&aliens_state::bank0000_map).set_options(ENDIANNESS_BIG, 8, 11, 0x400);
diff -u -r a/src/mame/drivers/astrocde.cpp b/src/mame/drivers/astrocde.cpp
--- a/src/mame/drivers/astrocde.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/mame/drivers/astrocde.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -1192,7 +1192,7 @@
 
 	SCREEN(config, m_screen, SCREEN_TYPE_RASTER);
 	m_screen->set_raw(ASTROCADE_CLOCK, 455, 0, 352, 262, 0, 240);
-	m_screen->set_default_position(1.1, 0.0, 1.18, -0.018);    /* clip out borders */
+	//m_screen->set_default_position(1.1, 0.0, 1.18, -0.018);    /* clip out borders */ // MAMEFX
 	m_screen->set_screen_update(FUNC(astrocde_state::screen_update_astrocde));
 	m_screen->set_palette(m_palette);
 }
diff -u -r a/src/mame/drivers/btime.cpp b/src/mame/drivers/btime.cpp
--- a/src/mame/drivers/btime.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/mame/drivers/btime.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -1373,7 +1373,7 @@
 
 	/* video hardware */
 	SCREEN(config, m_screen, SCREEN_TYPE_RASTER);
-	m_screen->set_raw(HCLK, 384, 8, 248, 272, 8, 248);
+	m_screen->set_raw(HCLK, 384, 0, 256, 272, 8, 248);   // MAMEFX
 	m_screen->set_screen_update(FUNC(btime_state::screen_update_btime));
 	m_screen->set_palette(m_palette);
 
diff -u -r a/src/mame/drivers/crimfght.cpp b/src/mame/drivers/crimfght.cpp
--- a/src/mame/drivers/crimfght.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/mame/drivers/crimfght.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -306,7 +306,7 @@
 	m_maincpu->set_addrmap(AS_PROGRAM, &crimfght_state::crimfght_map);
 	m_maincpu->line().set(FUNC(crimfght_state::banking_callback));
 
-	Z80(config, m_audiocpu, XTAL(3'579'545)); /* verified on pcb */
+	Z80(config, m_audiocpu, XTAL(3'579'545)*2); /* verified on pcb */ //MAMEFX
 	m_audiocpu->set_addrmap(AS_PROGRAM, &crimfght_state::crimfght_sound_map);
 	m_audiocpu->set_irq_acknowledge_callback(FUNC(crimfght_state::audiocpu_irq_ack));
 
diff -u -r a/src/mame/drivers/deniam.cpp b/src/mame/drivers/deniam.cpp
--- a/src/mame/drivers/deniam.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/mame/drivers/deniam.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -263,8 +263,8 @@
 	screen.set_refresh_hz(60);
 	screen.set_vblank_time(ATTOSECONDS_IN_USEC(0));
 	screen.set_size(512, 256);
-	//screen.set_visarea(24*8, 64*8-1, 0*8, 28*8-1); // looks better but doesn't match hardware
-	screen.set_visarea(24*8-4, 64*8-5, 0*8, 28*8-1);
+	screen.set_visarea(24*8, 64*8-1, 0*8, 28*8-1); // looks better but doesn't match hardware     //MAMEFX
+	//screen.set_visarea(24*8-4, 64*8-5, 0*8, 28*8-1);          // MAMEFX
 	screen.set_screen_update(FUNC(deniam_state::screen_update));
 	screen.set_palette(m_palette);
 
@@ -297,8 +297,8 @@
 	screen.set_refresh_hz(60);
 	screen.set_vblank_time(ATTOSECONDS_IN_USEC(0));
 	screen.set_size(512, 256);
-	//screen.set_visarea(24*8, 64*8-1, 0*8, 28*8-1); // looks better but doesn't match hardware
-	screen.set_visarea(24*8-4, 64*8-5, 0*8, 28*8-1);
+	screen.set_visarea(24*8, 64*8-1, 0*8, 28*8-1); // looks better but doesn't match hardware     //MAMEFX
+	//screen.set_visarea(24*8-4, 64*8-5, 0*8, 28*8-1);                        // MAMEFX
 	screen.set_screen_update(FUNC(deniam_state::screen_update));
 	screen.set_palette(m_palette);
 
diff -u -r a/src/mame/drivers/fcrash.cpp b/src/mame/drivers/fcrash.cpp
--- a/src/mame/drivers/fcrash.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/mame/drivers/fcrash.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -1831,7 +1831,7 @@
 	ROM_LOAD16_BYTE( "3.bin", 0x80001, 0x20000, CRC(aba2aebe) SHA1(294109b5929ed63859a55bef16643e3ade7da16f) )
 	ROM_LOAD16_BYTE( "6.bin", 0xc0000, 0x20000, CRC(d4bf37f6) SHA1(f47e1cc9aa3b3019ee57f59715e3a611acf9fe3e) )
 	ROM_LOAD16_BYTE( "2.bin", 0xc0001, 0x20000, CRC(07ac8f43) SHA1(7a41b003c76adaabd3f94929cc163461b70e0ed9) )
-	//ROM_FILL(0x2610, 1, 7)  // temporary patch to fix transitions
+	ROM_FILL(0x2610, 1, 7)  // fix transitions HBMAME
 
 	ROM_REGION( 0x30000, "audiocpu", 0 ) /* Audio CPU + Sample Data */
 	ROM_LOAD( "1.bin", 0x00000, 0x20000, CRC(5b276c14) SHA1(73e53c077d4e3c1b919eee28b29e34176ee204f8) )
@@ -1863,6 +1863,7 @@
 	ROM_REGION( 0x400000, "maincpu", 0 )      /* 68000 code */
 	ROM_LOAD16_BYTE( "fg-e.bin", 0x00000, 0x80000, CRC(f8ccf27e) SHA1(08ff445d946da81e7dc0cc021f686b5968fa34ab) )
 	ROM_LOAD16_BYTE( "fg-f.bin", 0x00001, 0x80000, CRC(d96c76b2) SHA1(3f9ca4625491cab07cf4a1bf001f1325dc3652a3) )
+	ROM_FILL(0x2610, 1, 7)  // fix transitions HBMAME
 
 	ROM_REGION( 0x30000, "audiocpu", 0 ) /* Audio CPU + Sample Data */
 	ROM_LOAD( "ff1.bin", 0x00000, 0x20000, CRC(5b276c14) SHA1(73e53c077d4e3c1b919eee28b29e34176ee204f8) )
@@ -1893,7 +1894,7 @@
 	ROM_LOAD16_BYTE( "3.bin", 0x80001, 0x20000, CRC(aba2aebe) SHA1(294109b5929ed63859a55bef16643e3ade7da16f) )
 	ROM_LOAD16_BYTE( "6.bin", 0xc0000, 0x20000, CRC(d4bf37f6) SHA1(f47e1cc9aa3b3019ee57f59715e3a611acf9fe3e) )
 	ROM_LOAD16_BYTE( "2.bin", 0xc0001, 0x20000, CRC(07ac8f43) SHA1(7a41b003c76adaabd3f94929cc163461b70e0ed9) )
-	//ROM_FILL(0x2610, 1, 7)  // temporary patch to fix transitions
+	ROM_FILL(0x2610, 1, 7)  // fix transitions HBMAME
 
 	ROM_REGION( 0x30000, "audiocpu", 0 ) /* Audio CPU + Sample Data */
 	ROM_LOAD( "1.bin", 0x00000, 0x20000, CRC(5b276c14) SHA1(73e53c077d4e3c1b919eee28b29e34176ee204f8) )
diff -u -r a/src/mame/drivers/gng.cpp b/src/mame/drivers/gng.cpp
--- a/src/mame/drivers/gng.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/mame/drivers/gng.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -367,23 +367,6 @@
 	m_scrolly[0] = 0;
 	m_scrolly[1] = 0;
 
-	{
-		int i;
-
-		/* TODO: PCB reference clearly shows that the POST has random/filled data on the paletteram.
-		         For now let's fill everything with white colors until we have better info about it */
-		for(i=0;i<0x100;i+=4)
-		{
-			m_palette->basemem().write8(i, 0x00); m_palette->extmem().write8(i, 0x00);
-			m_palette->basemem().write8(i+1, 0x55); m_palette->extmem().write8(i+1, 0x55);
-			m_palette->basemem().write8(i+2, 0xaa); m_palette->extmem().write8(i+2, 0xaa);
-			m_palette->basemem().write8(i+3, 0xff); m_palette->extmem().write8(i+3, 0xff);
-			m_palette->set_pen_color(i+0,0x00,0x00,0x00);
-			m_palette->set_pen_color(i+1,0x55,0x55,0x55);
-			m_palette->set_pen_color(i+2,0xaa,0xaa,0xaa);
-			m_palette->set_pen_color(i+3,0xff,0xff,0xff);
-		}
-	}
 }
 
 void gng_state::gng(machine_config &config)
diff -u -r a/src/mame/drivers/jailbrek.cpp b/src/mame/drivers/jailbrek.cpp
--- a/src/mame/drivers/jailbrek.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/mame/drivers/jailbrek.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -266,7 +266,7 @@
 	/* basic machine hardware */
 	KONAMI1(config, m_maincpu, MASTER_CLOCK/12);
 	m_maincpu->set_addrmap(AS_PROGRAM, &jailbrek_state::jailbrek_map);
-	m_maincpu->set_periodic_int(FUNC(jailbrek_state::interrupt_nmi), attotime::from_hz(500)); /* ? */
+	m_maincpu->set_periodic_int(FUNC(jailbrek_state::interrupt_nmi), attotime::from_hz(480)); /* ? */   //MAMEFX
 
 	WATCHDOG_TIMER(config, "watchdog");
 
diff -u -r a/src/mame/drivers/m72.cpp b/src/mame/drivers/m72.cpp
--- a/src/mame/drivers/m72.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/mame/drivers/m72.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -1975,7 +1975,7 @@
 
 void m72_state::m81_dbreed(machine_config &config)
 {
-	m81_xmultipl(config);
+	m81_hharry(config);     // MAMEFX
 	m_maincpu->set_addrmap(AS_PROGRAM, &m72_state::dbreed_map);
 }
 
@@ -4445,5 +4445,79 @@
 GAME( 1990, poundforu,   poundfor, poundfor,     poundfor,     m72_state, empty_init,      ROT270, "Irem America", "Pound for Pound (US)", MACHINE_NO_COCKTAIL | MACHINE_SUPPORTS_SAVE ) // ^
 
 /* bootlegs, unique hw */
-GAME( 1989, lohtb,       loht,     lohtb,        loht,         m72_state, empty_init,      ROT0,   "bootleg", "Legend of Hero Tonma (unprotected bootleg)", MACHINE_NOT_WORKING | MACHINE_NO_COCKTAIL | MACHINE_SUPPORTS_SAVE )
 GAME( 1989, loht_ms,     loht,     lohtb,        loht,         m72_state, empty_init,      ROT0,   "bootleg (Gaelco / Ervisa)", "Legend of Hero Tonma (Gaelco bootleg, Modular System)", MACHINE_NOT_WORKING | MACHINE_NO_COCKTAIL | MACHINE_SUPPORTS_SAVE )
+// MAMEFX start
+//GAME( 1989, lohtb,       loht,     lohtb,        loht,         m72_state, empty_init,      ROT0,   "bootleg", "Legend of Hero Tonma (unprotected bootleg)", MACHINE_NOT_WORKING| MACHINE_NO_COCKTAIL | MACHINE_SUPPORTS_SAVE )
+
+static const u8 lohtb_code[CODE_LEN] =
+{
+	0x68,0x00,0xa0,					// push 0a000h
+	0x1f,							// pop ds
+	0xc6,0x06,0x3c,0x38,0x47,		// mov [383ch], byte 047h
+	0xc6,0x06,0x3d,0x38,0x47,		// mov [383dh], byte 047h
+	0xc6,0x06,0x42,0x38,0x44,		// mov [3842h], byte 044h
+	0xc6,0x06,0x43,0x38,0x44,		// mov [3843h], byte 044h
+	0x68,0x00,0xb0,					// push 0b000h
+	0x1f,							// pop ds
+	0xc6,0x06,0x00,0x09,0x49^0xff,	// mov [0900h], byte 049h
+	0xc6,0x06,0x00,0x0a,0x49^0xff,	// mov [0a00h], byte 049h
+	0xc6,0x06,0x00,0x0b,0x49^0xff,	// mov [0b00h], byte 049h
+	0x68,0x00,0xd0,					// push 0d000h // Japan set only
+	0x1f,							// pop ds // Japan set only
+	0xc6,0x06,0x70,0x16,0x57,		// mov [1670h], byte 057h // Japan set only - checks this (W) of WARNING
+	0xea,0x5d,0x01,0x40,0x00		// jmp  0040:$015d
+};
+
+static const u8 loht_crc[CRC_LEN] = { 0x39, 0, 0x82, 0xae, 0x2c, 0x9d, 0x4b, 0x73, 0xfb, 0xac, 0xd4, 0x6d, 0x6d, 0x5b, 0x77, 0xc0, 0, 0 };
+
+void m72_state::init_lohtb()
+{
+	install_protection_handler(lohtb_code, loht_crc);
+
+	m_maincpu->space(AS_IO).install_write_handler(0xc0, 0xc1, write16s_delegate(*this, FUNC(m72_state::loht_sample_trigger_w)));
+
+	/* since we skip the startup tests, clear video RAM to prevent garbage on title screen */
+	memset(m_videoram[1], 0, 0x4000);
+
+	u8 *rom = (u8 *)memregion("maincpu")->base();
+
+	// Hack the program rom to work for now
+	const u8 patch[216] = {
+		0xFA, 0xB9, 0xFF, 0xFF, 0xE2, 0xFE, 0xB8, 0x17, 0x00, 0xE7, 0x40, 0xB8, 0x20, 0x00, 0xE7, 0x42,
+		0xB8, 0x0F, 0x00, 0xE7, 0x42, 0xB8, 0x00, 0xA0, 0x8E, 0xD0, 0x8E, 0xD8, 0xBE, 0x00, 0x3F, 0xB0,
+		0x00, 0x88, 0x04, 0x3A, 0x04, 0x75, 0x08, 0x46, 0xFE, 0xC0, 0x75, 0xF5, 0xE9, 0x18, 0x00, 0x33,
+		0xF6, 0xE9, 0x03, 0x00, 0xBE, 0x40, 0x00, 0xB8, 0x00, 0xB0, 0x8E, 0xD8, 0xC7, 0x06, 0xFE, 0x0F,
+		0x00, 0x00, 0xEA, 0x62, 0x11, 0x00, 0x00, 0xE5, 0x04, 0x0F, 0x19, 0xC0, 0x0F, 0x74, 0xE0, 0xBC,
+		0x00, 0x40, 0x33, 0xDB, 0xB9, 0x00, 0x10, 0xB8, 0x00, 0xB0, 0x8E, 0xD8, 0x8A, 0xC3, 0x02, 0xC7,
+		0x88, 0x07, 0x43, 0xE2, 0xF7, 0x33, 0xC9, 0xFE, 0xC9, 0x75, 0xFC, 0xFE, 0xCD, 0x75, 0xF8, 0x33,
+		0xDB, 0xB9, 0x00, 0x10, 0x8A, 0xC3, 0x02, 0xC7, 0x34, 0xFF, 0x3A, 0x07, 0x75, 0xB6, 0x43, 0xE2,
+		0xF3, 0x33, 0xDB, 0xB9, 0xFC, 0x0F, 0xFE, 0x07, 0x43, 0xE2, 0xFB, 0x90, 0x90, 0x90, 0x9A, 0x00,
+		0x00, 0x00, 0xB0, 0x73, 0xF6, 0x90, 0x90, 0x90, 0xB8, 0x00, 0xB0, 0x8E, 0xC0, 0x33, 0xD2, 0x42,
+		0x81, 0xE2, 0x01, 0x00, 0xBF, 0xB2, 0x04, 0xE8, 0x7B, 0x00, 0xE8, 0x3E, 0x00, 0xEB, 0xF0, 0x90,
+		0x90, 0x90, 0x0B, 0x38, 0x29, 0x43, 0x4F, 0x50, 0x59, 0x52, 0x49, 0x47, 0x48, 0x54, 0x20, 0x31,
+		0x39, 0x38, 0x39, 0x20, 0x49, 0x52, 0x45, 0x4D, 0x20, 0x43, 0x4F, 0x52, 0x50, 0x4F, 0x52, 0x41,
+		0x54, 0x49, 0x4F, 0x4E, 0x0B, 0x50, 0x2B, 0x41
+	};
+	memcpy(rom + 0x000400, patch, 216);
+
+	const int patch2[62][2] = {
+		{ 0x0003FC, 0x88 }, { 0x0003FD, 0x05 }, { 0x000B42, 0x1E }, { 0x000B43, 0x06 }, { 0x000B44, 0xB8 },
+		{ 0x00405B, 0x05 }, { 0x004066, 0x05 }, { 0x0103DA, 0xB0 }, { 0x0103DD, 0xFE }, { 0x0103DE, 0x06 },
+		{ 0x0103DF, 0xFE }, { 0x0103E0, 0x0F }, { 0x0103E1, 0xE5 }, { 0x0103E2, 0x02 }, { 0x0103E3, 0xA9 },
+		{ 0x0103E4, 0x20 }, { 0x0103E5, 0x00 }, { 0x0103E6, 0x75 }, { 0x0103E7, 0x05 }, { 0x0103E8, 0xEA },
+		{ 0x0103E9, 0x2F }, { 0x0103EA, 0x04 }, { 0x0103EB, 0x00 }, { 0x0103EC, 0x00 }, { 0x0103ED, 0xB8 },
+		{ 0x010459, 0xE7 }, { 0x01045A, 0x04 }, { 0x01045B, 0xE5 }, { 0x01045C, 0x02 }, { 0x01045D, 0x25 },
+		{ 0x01045E, 0x80 }, { 0x01045F, 0x00 }, { 0x010460, 0x74 }, { 0x010461, 0xF9 }, { 0x010462, 0x36 },
+		{ 0x010463, 0xA1 }, { 0x010464, 0xB2 }, { 0x010465, 0x23 }, { 0x010466, 0xE7 }, { 0x010467, 0x82 },
+		{ 0x010468, 0x36 }, { 0x010469, 0xA1 }, { 0x01046A, 0xB6 }, { 0x01046B, 0x23 }, { 0x01046C, 0xE7 },
+		{ 0x0104B4, 0x32 }, { 0x0104B5, 0xE4 }, { 0x0104B6, 0x3C }, { 0x0104B7, 0x7F }, { 0x0104B8, 0x72 },
+		{ 0x010577, 0x47 }, { 0x010578, 0xDC }, { 0x010585, 0x61 }, { 0x010586, 0x07 }, { 0x010587, 0x1F },
+		{ 0x010599, 0x00 }, { 0x010793, 0xE7 }, { 0x010794, 0x02 }, { 0x01E1C0, 0xBA }, { 0x01EA29, 0xE7 },
+		{ 0x01EA2A, 0x02 }, { -1, -1 }
+	};
+	for (int i = 0; patch2[i][0] >= 0; i++)
+		rom[patch2[i][0]] = patch2[i][1];
+}
+
+GAME( 1989, lohtb,       loht,     m72,          loht,         m72_state, init_lohtb,      ROT0,   "bootleg", "Legend of Hero Tonma (unprotected bootleg)", MACHINE_NO_COCKTAIL | MACHINE_SUPPORTS_SAVE )
+// MAMEFX end
diff -u -r a/src/mame/drivers/megasys1.cpp b/src/mame/drivers/megasys1.cpp
--- a/src/mame/drivers/megasys1.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/mame/drivers/megasys1.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -184,11 +184,11 @@
 	// edfp: irq 1?, 2 sets vregs etc, 3 RTE
 
 	if(scanline == 240) // vblank-out irq
-		m_maincpu->set_input_line(2, HOLD_LINE);
-
-	if(scanline == 16)
 		m_maincpu->set_input_line(1, HOLD_LINE);
 
+	if(scanline == 0)
+		m_maincpu->set_input_line(2, HOLD_LINE);
+
 	if(scanline == 128)
 		m_maincpu->set_input_line(3, HOLD_LINE);
 }
diff -u -r a/src/mame/drivers/midas.cpp b/src/mame/drivers/midas.cpp
--- a/src/mame/drivers/midas.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/mame/drivers/midas.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -131,9 +131,12 @@
 	// fill with background color first
 	bitmap.fill(0x0, cliprect);
 
-	m_sprgen->draw_sprites(bitmap, cliprect.min_y);
-
-	m_sprgen->draw_fixed_layer(bitmap, cliprect.min_y);
+	for (int line = cliprect.min_y; line <= cliprect.max_y ; line++)
+	{
+		m_sprgen->parse_sprites(line);
+		m_sprgen->draw_sprites(bitmap, line);
+		m_sprgen->draw_fixed_layer(bitmap, line);
+	}
 
 	return 0;
 }
diff -u -r a/src/mame/drivers/mystwarr.cpp b/src/mame/drivers/mystwarr.cpp
--- a/src/mame/drivers/mystwarr.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/mame/drivers/mystwarr.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -1026,7 +1026,7 @@
 	m_maincpu->set_addrmap(AS_PROGRAM, &mystwarr_state::metamrph_map);
 	subdevice<timer_device>("scantimer")->set_callback(FUNC(mystwarr_state::metamrph_interrupt));
 
-	m_k053252->set_offsets(24, 15);
+	m_k053252->set_offsets(24, 16+1);  // MAMEFX
 
 	K053250(config, m_k053250_1, 0, m_palette, m_screen, -7, 0);
 
@@ -1083,6 +1083,8 @@
 	m_maincpu->set_vblank_int("screen", FUNC(mystwarr_state::ddd_interrupt));
 	config.device_remove("scantimer");
 
+	config.device_remove("k053252");        // MAMEFX
+	K053252(config, m_k053252, 16000000/2); // MAMEFX
 	m_k053252->set_offsets(40, 16);
 
 	K054000(config, "k054000", 0);
diff -u -r a/src/mame/drivers/namconb1.cpp b/src/mame/drivers/namconb1.cpp
--- a/src/mame/drivers/namconb1.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/mame/drivers/namconb1.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -311,7 +311,8 @@
 
 	if (scanline == posirq_scanline)
 	{
-		m_screen->update_partial(m_update_to_line_before_posirq ? posirq_scanline-1 : posirq_scanline);
+		//m_screen->update_partial(posirq_scanline - 1); // MAMEFX
+		m_screen->update_partial(m_update_to_line_before_posirq ? posirq_scanline-1 : posirq_scanline);  // new code from Haze, is it better?
 
 		if (m_pos_irq_level != 0)
 			m_maincpu->set_input_line(m_pos_irq_level, ASSERT_LINE);
diff -u -r a/src/mame/drivers/nemesis.cpp b/src/mame/drivers/nemesis.cpp
--- a/src/mame/drivers/nemesis.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/mame/drivers/nemesis.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -1771,16 +1771,14 @@
 	GENERIC_LATCH_8(config, "soundlatch");
 
 	ay8910_device &ay1(AY8910(config, "ay1", 14318180/8));
-	ay1.set_flags(AY8910_LEGACY_OUTPUT | AY8910_SINGLE_OUTPUT);
+	ay1.set_flags(AY8910_LEGACY_OUTPUT);      // MAMEFX
 	ay1.port_a_read_callback().set(FUNC(nemesis_state::nemesis_portA_r));
-	ay1.add_route(ALL_OUTPUTS, "filter1", 0.20);
+	ay1.add_route(ALL_OUTPUTS, "mono", 0.20);      // MAMEFX
 
 	ay8910_device &ay2(AY8910(config, "ay2", 14318180/8));
 	ay2.port_a_write_callback().set(m_k005289, FUNC(k005289_device::control_A_w));
 	ay2.port_b_write_callback().set(m_k005289, FUNC(k005289_device::control_B_w));
-	ay2.add_route(0, "filter2", 1.00);
-	ay2.add_route(1, "filter3", 1.00);
-	ay2.add_route(2, "filter4", 1.00);
+	ay2.add_route(ALL_OUTPUTS, "mono", 1.00);      // MAMEFX
 
 	FILTER_RC(config, m_filter1);
 	m_filter1->add_route(ALL_OUTPUTS, "mono", 1.0);
@@ -1835,16 +1833,14 @@
 	GENERIC_LATCH_8(config, "soundlatch");
 
 	ay8910_device &ay1(AY8910(config, "ay1", 14318180/8));
-	ay1.set_flags(AY8910_LEGACY_OUTPUT | AY8910_SINGLE_OUTPUT);
+	ay1.set_flags(AY8910_LEGACY_OUTPUT);      // MAMEFX
 	ay1.port_a_read_callback().set(FUNC(nemesis_state::nemesis_portA_r));
-	ay1.add_route(ALL_OUTPUTS, "filter1", 0.20);
+	ay1.add_route(ALL_OUTPUTS, "mono", 0.20);      // MAMEFX
 
 	ay8910_device &ay2(AY8910(config, "ay2", 14318180/8));
 	ay2.port_a_write_callback().set(m_k005289, FUNC(k005289_device::control_A_w));
 	ay2.port_b_write_callback().set(m_k005289, FUNC(k005289_device::control_B_w));
-	ay2.add_route(0, "filter2", 1.00);
-	ay2.add_route(1, "filter3", 1.00);
-	ay2.add_route(2, "filter4", 1.00);
+	ay2.add_route(ALL_OUTPUTS, "mono", 1.00);      // MAMEFX
 
 	FILTER_RC(config, m_filter1);
 	m_filter1->add_route(ALL_OUTPUTS, "mono", 1.0);
diff -u -r a/src/mame/drivers/neogeo.cpp b/src/mame/drivers/neogeo.cpp
--- a/src/mame/drivers/neogeo.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/mame/drivers/neogeo.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -676,6 +676,9 @@
 	void jockeygp(machine_config &config);
 	void vliner(machine_config &config);
 	void sbp(machine_config &config);
+	void neo304h(machine_config &config); //MAMEFX
+	void neo288h(machine_config &config); //MAMEFX
+	void cyberlip(machine_config &config); //MAMEFX
 
 protected:
 	virtual void machine_start() override;
@@ -2448,6 +2451,28 @@
 	cartslot_fixed(config, "rom");
 }
 
+// MAMEFX start
+void mvs_led_state::neo304h(machine_config &config)
+{
+	mv1_fixed(config);
+	cartslot_fixed(config, "rom");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
+}
+
+void mvs_led_state::neo288h(machine_config &config)
+{
+	mv1_fixed(config);
+	cartslot_fixed(config, "rom");
+	m_screen->set_visarea(46, 334-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
+}
+
+void mvs_led_state::cyberlip(machine_config &config)
+{
+	mv1_fixed(config);
+	cartslot_fixed(config, "rom");
+	m_screen->set_visarea(30, 334-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
+}
+// MAMEFX end
 // used by fatfury2 & ssideki
 void mvs_led_state::fatfur2(machine_config &config)
 {
@@ -2469,6 +2494,7 @@
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "boot_kof97oro");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::kog(machine_config &config)
@@ -2487,30 +2513,35 @@
 	config.set_default_layout(layout_irrmaze);
 
 	cartslot_fixed(config, "rom");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::kof98(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "rom_kof98");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::mslugx(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "rom_mslugx");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::kof99(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "sma_kof99");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::kof99k(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "cmc42_kof99k");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::garou(machine_config &config)
@@ -2535,6 +2566,7 @@
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "sma_mslug3");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::mslug3a(machine_config &config)
@@ -2547,30 +2579,36 @@
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "cmc42_mslug3h");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::mslug3b6(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "boot_mslug3b6");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::kof2000(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "sma_kof2k");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::kof2000n(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "cmc50_kof2000n");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::zupapa(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "cmc42_zupapa");
+	//m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
+	m_screen->set_visarea(46, 334-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::sengoku3(machine_config &config)
@@ -2583,90 +2621,105 @@
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "cmc50_kof2001");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::cthd2k3(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "boot_cthd2k3");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::ct2k3sp(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "boot_ct2k3sp");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::ct2k3sa(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "boot_ct2k3sa");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::kof2002(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "k2k2_kof2k2");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::kof2002b(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "boot_kf2k2b");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::kf2k2pls(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "k2k2_kf2k2p");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::kf2k2mp(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "boot_kf2k2mp");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::kf2k2mp2(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "boot_kf2k2mp2");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::kof10th(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "boot_kf10th");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::kf10thep(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "boot_kf10thep");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::kf2k5uni(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "boot_kf2k5uni");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::kof2k4se(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "boot_kf2k4se");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::mslug5(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "pvc_mslug5");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::ms5plus(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "boot_ms5plus");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::mslug5b(machine_config &config)
@@ -2679,78 +2732,91 @@
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "pvc_svc");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::svcboot(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "boot_svcboot");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::svcplus(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "boot_svcplus");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::svcplusa(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "boot_svcplusa");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::svcsplus(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "boot_svcsplus");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::samsho5(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "k2k2_samsh5");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::samsho5b(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "boot_samsho5b");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::kof2003(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "pvc_kf2k3");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::kof2003h(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "pvc_kf2k3h");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::kf2k3bl(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "boot_kf2k3bl");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::kf2k3pl(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "boot_kf2k3pl");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::kf2k3upl(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "boot_kf2k3upl");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::samsh5sp(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "k2k2_sams5s");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::neogeo_mj(machine_config &config)
@@ -2773,12 +2839,14 @@
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "cmc42_preisle2");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::nitd(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "cmc42_nitd");
+	//m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::s1945p(machine_config &config)
@@ -2791,46 +2859,53 @@
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "boot_lans2004");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::pnyaa(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "pcm2_pnyaa");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::popbounc(machine_config &config)
 {
-	neogeo_arcade(config);
-	neogeo_mono(config);
-
-	NEOGEO_CTRL_EDGE_CONNECTOR(config, m_edge, neogeo_arc_edge_fixed, "dial", true);
-
+	mv1_fixed(config);
+	NEOGEO_CTRL_EDGE_CONNECTOR(config.replace(), m_edge, neogeo_arc_edge_fixed, "dial", true);
+//	neogeo_arcade(config);
+//	neogeo_mono(config);
+//	NEOGEO_CTRL_EDGE_CONNECTOR(config, m_edge, neogeo_arc_edge_fixed, "dial", true);
 	cartslot_fixed(config, "rom");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::ganryu(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "cmc42_ganryu");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::bangbead(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "cmc42_bangbead");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::mslug4(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "pcm2_mslug4");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::ms4plus(machine_config &config)
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "pcm2_ms4p");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::rotd(machine_config &config)
@@ -2855,6 +2930,7 @@
 {
 	mv1_fixed(config);
 	cartslot_fixed(config, "cmc50_jockeygp");
+	m_screen->set_visarea(38, 342-1, NEOGEO_VBEND, NEOGEO_VBSTART-1);
 }
 
 void mvs_led_state::vliner(machine_config &config)
@@ -11846,117 +11922,116 @@
                                                                                                 NEOGEO ROM-cart:2004/07/15
 ****************************************************************************/
 
-//    YEAR  NAME        PARENT    MACHINE    INPUT     STATE           INIT  MONITOR
-// SNK
-
+/*    YEAR  NAME        PARENT    MACHINE          INPUT   INIT            MONITOR */
+/* SNK */
 GAME( 1990, nam1975,    neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "NAM-1975 (NGM-001 ~ NGH-001)", MACHINE_SUPPORTS_SAVE )
 GAME( 1990, bstars,     neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Baseball Stars Professional (NGM-002)", MACHINE_SUPPORTS_SAVE )
-GAME( 1990, bstarsh,    bstars,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Baseball Stars Professional (NGH-002)", MACHINE_SUPPORTS_SAVE )
-GAME( 1990, tpgolf,     neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Top Player's Golf (NGM-003 ~ NGH-003)", MACHINE_SUPPORTS_SAVE )
-GAME( 1990, mahretsu,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Mahjong Kyo Retsuden (NGM-004 ~ NGH-004)", MACHINE_SUPPORTS_SAVE ) // does not support mahjong panel in MVS mode <- it actually works fine???
-GAME( 1990, ridhero,    neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Riding Hero (NGM-006 ~ NGH-006)", MACHINE_NODEVICE_LAN | MACHINE_SUPPORTS_SAVE )
-GAME( 1990, ridheroh,   ridhero,  neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Riding Hero (set 2)", MACHINE_NODEVICE_LAN | MACHINE_SUPPORTS_SAVE )
-GAME( 1991, alpham2,    neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Alpha Mission II / ASO II - Last Guardian (NGM-007 ~ NGH-007)", MACHINE_SUPPORTS_SAVE )
-GAME( 1991, alpham2p,   alpham2,  neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Alpha Mission II / ASO II - Last Guardian (prototype)", MACHINE_SUPPORTS_SAVE )
-GAME( 1990, cyberlip,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Cyber-Lip (NGM-010)", MACHINE_SUPPORTS_SAVE )
+GAME( 1990, bstarsh,    bstars,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Baseball Stars Professional (NGH-002)", MACHINE_SUPPORTS_SAVE )
+GAME( 1990, tpgolf,     neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Top Player's Golf (NGM-003 ~ NGH-003)", MACHINE_SUPPORTS_SAVE )
+GAME( 1990, mahretsu,   neogeo,   neogeo_mj, neogeo_mj, mvs_led_state, empty_init, ROT0, "SNK", "Mahjong Kyo Retsuden (NGM-004 ~ NGH-004)", MACHINE_SUPPORTS_SAVE ) // does not support mahjong panel in MVS mode <- it actually works fine???
+GAME( 1990, ridhero,    neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Riding Hero (NGM-006 ~ NGH-006)", MACHINE_SUPPORTS_SAVE )
+GAME( 1990, ridheroh,   ridhero,  neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Riding Hero (set 2)", MACHINE_SUPPORTS_SAVE )
+GAME( 1991, alpham2,    neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Alpha Mission II / ASO II - Last Guardian (NGM-007 ~ NGH-007)", MACHINE_SUPPORTS_SAVE )
+GAME( 1991, alpham2p,   alpham2,  neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Alpha Mission II / ASO II - Last Guardian (prototype)", MACHINE_SUPPORTS_SAVE )
+GAME( 1990, cyberlip,   neogeo,   cyberlip,  neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Cyber-Lip (NGM-010)", MACHINE_SUPPORTS_SAVE )
 GAME( 1990, superspy,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "The Super Spy (NGM-011 ~ NGH-011)", MACHINE_SUPPORTS_SAVE )
-GAME( 1992, mutnat,     neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Mutation Nation (NGM-014 ~ NGH-014)", MACHINE_SUPPORTS_SAVE )
-GAME( 1991, kotm,       neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "King of the Monsters (set 1)", MACHINE_SUPPORTS_SAVE )
-GAME( 1991, kotmh,      kotm,     neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "King of the Monsters (set 2)", MACHINE_SUPPORTS_SAVE )
+GAME( 1992, mutnat,     neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Mutation Nation (NGM-014 ~ NGH-014)", MACHINE_SUPPORTS_SAVE )
+GAME( 1991, kotm,       neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "King of the Monsters (set 1)", MACHINE_SUPPORTS_SAVE )
+GAME( 1991, kotmh,      kotm,     neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "King of the Monsters (set 2)", MACHINE_SUPPORTS_SAVE )
 GAME( 1991, sengoku,    neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Sengoku / Sengoku Denshou (NGM-017 ~ NGH-017)", MACHINE_SUPPORTS_SAVE )
 GAME( 1991, sengokuh,   sengoku,  neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Sengoku / Sengoku Denshou (NGH-017, US)", MACHINE_SUPPORTS_SAVE )
-GAME( 1991, burningf,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Burning Fight (NGM-018 ~ NGH-018)", MACHINE_SUPPORTS_SAVE )
-GAME( 1991, burningfh,  burningf, neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Burning Fight (NGH-018, US)", MACHINE_SUPPORTS_SAVE )
-GAME( 1991, burningfpa, burningf, neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Burning Fight (prototype, near final, ver 23.3, 910326)", MACHINE_SUPPORTS_SAVE )
-GAME( 1991, burningfpb, burningf, neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Burning Fight (prototype, newer, V07)", MACHINE_SUPPORTS_SAVE )
-GAME( 1991, burningfp,  burningf, neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Burning Fight (prototype, older)", MACHINE_SUPPORTS_SAVE )
-GAME( 1990, lbowling,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "League Bowling (NGM-019 ~ NGH-019)", MACHINE_NODEVICE_LAN | MACHINE_SUPPORTS_SAVE )
-GAME( 1991, gpilots,    neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Ghost Pilots (NGM-020 ~ NGH-020)", MACHINE_SUPPORTS_SAVE )
-GAME( 1991, gpilotsh,   gpilots,  neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Ghost Pilots (NGH-020, US)", MACHINE_SUPPORTS_SAVE )
-GAME( 1991, gpilotsp,   gpilots,  neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Ghost Pilots (prototype)", MACHINE_SUPPORTS_SAVE )
-GAME( 1990, joyjoy,     neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Puzzled / Joy Joy Kid (NGM-021 ~ NGH-021)", MACHINE_SUPPORTS_SAVE )
-GAME( 1991, quizdais,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Quiz Daisousa Sen - The Last Count Down (NGM-023 ~ NGH-023)", MACHINE_SUPPORTS_SAVE )
-GAME( 1995, quizdaisk,  quizdais, neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK / Viccom", "Quiz Salibtamjeong - The Last Count Down (Korean localized Quiz Daisousa Sen)", MACHINE_SUPPORTS_SAVE )
-GAME( 1992, lresort,    neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Last Resort", MACHINE_SUPPORTS_SAVE )
-GAME( 1992, lresortp,   lresort,  neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Last Resort (prototype)", MACHINE_SUPPORTS_SAVE )
+GAME( 1991, burningf,   neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Burning Fight (NGM-018 ~ NGH-018)", MACHINE_SUPPORTS_SAVE )
+GAME( 1991, burningfh,  burningf, neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Burning Fight (NGH-018, US)", MACHINE_SUPPORTS_SAVE )
+GAME( 1991, burningfpa, burningf, neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Burning Fight (prototype, ver 23.3, 910326)", MACHINE_SUPPORTS_SAVE )
+GAME( 1991, burningfpb, burningf, neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Burning Fight (prototype, newer, V07)", MACHINE_SUPPORTS_SAVE )
+GAME( 1991, burningfp,  burningf, neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Burning Fight (prototype, older)", MACHINE_SUPPORTS_SAVE )
+GAME( 1990, lbowling,   neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "League Bowling (NGM-019 ~ NGH-019)", MACHINE_SUPPORTS_SAVE )
+GAME( 1991, gpilots,    neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Ghost Pilots (NGM-020 ~ NGH-020)", MACHINE_SUPPORTS_SAVE )
+GAME( 1991, gpilotsh,   gpilots,  neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Ghost Pilots (NGH-020, US)", MACHINE_SUPPORTS_SAVE )
+GAME( 1991, gpilotsp,   gpilots,  neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Ghost Pilots (prototype)", MACHINE_SUPPORTS_SAVE )
+GAME( 1990, joyjoy,     neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Puzzled / Joy Joy Kid (NGM-021 ~ NGH-021)", MACHINE_SUPPORTS_SAVE )
+GAME( 1991, quizdais,   neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Quiz Daisousa Sen - The Last Count Down (NGM-023 ~ NGH-023)", MACHINE_SUPPORTS_SAVE )
+GAME( 1995, quizdaisk,  quizdais, neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Quiz Daisousa Sen - The Last Count Down (Korean release)", MACHINE_SUPPORTS_SAVE )
+GAME( 1992, lresort,    neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Last Resort", MACHINE_SUPPORTS_SAVE )
+GAME( 1992, lresortp,   lresort,  neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Last Resort (prototype)", MACHINE_SUPPORTS_SAVE )
 GAME( 1991, eightman,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK / Pallas", "Eight Man (NGM-025 ~ NGH-025)", MACHINE_SUPPORTS_SAVE )
-GAME( 1991, legendos,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Legend of Success Joe / Ashita no Joe Densetsu", MACHINE_SUPPORTS_SAVE )
-GAME( 1991, 2020bb,     neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK / Pallas", "2020 Super Baseball (set 1)", MACHINE_SUPPORTS_SAVE )
-GAME( 1991, 2020bba,    2020bb,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK / Pallas", "2020 Super Baseball (set 2)", MACHINE_SUPPORTS_SAVE )
-GAME( 1991, 2020bbh,    2020bb,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK / Pallas", "2020 Super Baseball (set 3)", MACHINE_SUPPORTS_SAVE )
-GAME( 1991, socbrawl,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Soccer Brawl (NGM-031)", MACHINE_SUPPORTS_SAVE )
-GAME( 1991, socbrawlh,  socbrawl, neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Soccer Brawl (NGH-031)", MACHINE_SUPPORTS_SAVE )
+GAME( 1991, legendos,   neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Legend of Success Joe / Ashita no Joe Densetsu", MACHINE_SUPPORTS_SAVE )
+GAME( 1991, 2020bb,     neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK / Pallas", "2020 Super Baseball (set 1)", MACHINE_SUPPORTS_SAVE )
+GAME( 1991, 2020bba,    2020bb,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK / Pallas", "2020 Super Baseball (set 2)", MACHINE_SUPPORTS_SAVE )
+GAME( 1991, 2020bbh,    2020bb,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK / Pallas", "2020 Super Baseball (set 3)", MACHINE_SUPPORTS_SAVE )
+GAME( 1991, socbrawl,   neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Soccer Brawl (NGM-031)", MACHINE_SUPPORTS_SAVE )
+GAME( 1991, socbrawlh,  socbrawl, neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Soccer Brawl (NGH-031)", MACHINE_SUPPORTS_SAVE )
 GAME( 1991, fatfury1,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Fatal Fury - King of Fighters / Garou Densetsu - Shukumei no Tatakai (NGM-033 ~ NGH-033)", MACHINE_SUPPORTS_SAVE )
-GAME( 1991, roboarmy,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Robo Army", MACHINE_SUPPORTS_SAVE )
-GAME( 1991, roboarmya,  roboarmy, neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Robo Army (NGM-032 ~ NGH-032)", MACHINE_SUPPORTS_SAVE )
-GAME( 1992, fbfrenzy,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Football Frenzy (NGM-034 ~ NGH-034)", MACHINE_SUPPORTS_SAVE )
-GAME( 1992, kotm2,      neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "King of the Monsters 2 - The Next Thing (NGM-039 ~ NGH-039)", MACHINE_SUPPORTS_SAVE )
-GAME( 1992, kotm2a,     kotm2,    neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "King of the Monsters 2 - The Next Thing (older)", MACHINE_SUPPORTS_SAVE )
-GAME( 1992, kotm2p,     kotm2,    neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "King of the Monsters 2 - The Next Thing (prototype)", MACHINE_SUPPORTS_SAVE )
+GAME( 1991, roboarmy,   neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Robo Army", MACHINE_SUPPORTS_SAVE )
+GAME( 1991, roboarmya,  roboarmy, neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Robo Army (NGM-032 ~ NGH-032)", MACHINE_SUPPORTS_SAVE )
+GAME( 1992, fbfrenzy,   neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Football Frenzy (NGM-034 ~ NGH-034)", MACHINE_SUPPORTS_SAVE )
+GAME( 1992, kotm2,      neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "King of the Monsters 2 - The Next Thing (NGM-039 ~ NGH-039)", MACHINE_SUPPORTS_SAVE )
+GAME( 1992, kotm2a,     kotm2,    neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "King of the Monsters 2 - The Next Thing (older)", MACHINE_SUPPORTS_SAVE )
+GAME( 1992, kotm2p,     kotm2,    neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "King of the Monsters 2 - The Next Thing (prototype)", MACHINE_SUPPORTS_SAVE )
 GAME( 1993, sengoku2,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Sengoku 2 / Sengoku Denshou 2", MACHINE_SUPPORTS_SAVE )
-GAME( 1992, bstars2,    neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Baseball Stars 2", MACHINE_SUPPORTS_SAVE )
+GAME( 1992, bstars2,    neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Baseball Stars 2", MACHINE_SUPPORTS_SAVE )
 GAME( 1992, quizdai2,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Quiz Meitantei Neo & Geo - Quiz Daisousa Sen part 2 (NGM-042 ~ NGH-042)", MACHINE_SUPPORTS_SAVE )
 GAME( 1993, 3countb,    neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "3 Count Bout / Fire Suplex (NGM-043 ~ NGH-043)", MACHINE_SUPPORTS_SAVE )
-GAME( 1992, aof,        neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Art of Fighting / Ryuuko no Ken (NGM-044 ~ NGH-044)", MACHINE_SUPPORTS_SAVE )
+GAME( 1992, aof,        neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Art of Fighting / Ryuuko no Ken (NGM-044 ~ NGH-044)", MACHINE_SUPPORTS_SAVE )
 GAME( 1993, samsho,     neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Samurai Shodown / Samurai Spirits (NGM-045)", MACHINE_SUPPORTS_SAVE )
 GAME( 1993, samshoh,    samsho,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Samurai Shodown / Samurai Spirits (NGH-045)", MACHINE_SUPPORTS_SAVE )
 GAME( 1994, tophuntr,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Top Hunter - Roddy & Cathy (NGM-046)", MACHINE_SUPPORTS_SAVE )
 GAME( 1994, tophuntrh,  tophuntr, neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Top Hunter - Roddy & Cathy (NGH-046)", MACHINE_SUPPORTS_SAVE )
 GAME( 1992, fatfury2,   neogeo,   fatfur2,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Fatal Fury 2 / Garou Densetsu 2 - Arata-naru Tatakai (NGM-047 ~ NGH-047)", MACHINE_SUPPORTS_SAVE )
 GAME( 1992, ssideki,    neogeo,   fatfur2,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Super Sidekicks / Tokuten Ou", MACHINE_SUPPORTS_SAVE )
-GAME( 1994, kof94,      neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "The King of Fighters '94 (NGM-055 ~ NGH-055)", MACHINE_SUPPORTS_SAVE )
-GAME( 1994, aof2,       neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Art of Fighting 2 / Ryuuko no Ken 2 (NGM-056)", MACHINE_SUPPORTS_SAVE )
-GAME( 1994, aof2a,      aof2,     neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Art of Fighting 2 / Ryuuko no Ken 2 (NGH-056)", MACHINE_SUPPORTS_SAVE )
+GAME( 1994, kof94,      neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "The King of Fighters '94 (NGM-055 ~ NGH-055)", MACHINE_SUPPORTS_SAVE )
+GAME( 1994, aof2,       neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Art of Fighting 2 / Ryuuko no Ken 2 (NGM-056)", MACHINE_SUPPORTS_SAVE )
+GAME( 1994, aof2a,      aof2,     neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Art of Fighting 2 / Ryuuko no Ken 2 (NGH-056)", MACHINE_SUPPORTS_SAVE )
 GAME( 1993, fatfursp,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Fatal Fury Special / Garou Densetsu Special (NGM-058 ~ NGH-058, set 1)", MACHINE_SUPPORTS_SAVE )
 GAME( 1993, fatfurspa,  fatfursp, neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Fatal Fury Special / Garou Densetsu Special (NGM-058 ~ NGH-058, set 2)", MACHINE_SUPPORTS_SAVE )
-GAME( 1995, savagere,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Savage Reign / Fu'un Mokushiroku - Kakutou Sousei", MACHINE_SUPPORTS_SAVE )
+GAME( 1995, savagere,   neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Savage Reign / Fu'un Mokushiroku - Kakutou Sousei", MACHINE_SUPPORTS_SAVE )
 GAME( 1994, ssideki2,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Super Sidekicks 2 - The World Championship / Tokuten Ou 2 - Real Fight Football (NGM-061 ~ NGH-061)", MACHINE_SUPPORTS_SAVE )
 GAME( 1994, samsho2,    neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Samurai Shodown II / Shin Samurai Spirits - Haohmaru Jigokuhen (NGM-063 ~ NGH-063)", MACHINE_SUPPORTS_SAVE )
 GAME( 1994, samsho2k,   samsho2,  neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Saulabi Spirits / Jin Saulabi Tu Hon (Korean release of Samurai Shodown II, set 1)", MACHINE_SUPPORTS_SAVE )
 GAME( 1994, samsho2ka,  samsho2,  neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Saulabi Spirits / Jin Saulabi Tu Hon (Korean release of Samurai Shodown II, set 2)", MACHINE_SUPPORTS_SAVE )
 GAME( 1995, fatfury3,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Fatal Fury 3 - Road to the Final Victory / Garou Densetsu 3 - Haruka-naru Tatakai (NGM-069 ~ NGH-069)", MACHINE_SUPPORTS_SAVE )
 GAME( 1995, ssideki3,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Super Sidekicks 3 - The Next Glory / Tokuten Ou 3 - Eikou e no Michi", MACHINE_SUPPORTS_SAVE )
-GAME( 1995, kof95,      neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "The King of Fighters '95 (NGM-084)", MACHINE_SUPPORTS_SAVE )
-GAME( 1995, kof95a,     kof95,    neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "The King of Fighters '95 (NGM-084, alt board)", MACHINE_SUPPORTS_SAVE )
-GAME( 1995, kof95h,     kof95,    neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "The King of Fighters '95 (NGH-084)", MACHINE_SUPPORTS_SAVE )
-GAME( 1995, samsho3,    neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Samurai Shodown III / Samurai Spirits - Zankurou Musouken (NGM-087)", MACHINE_SUPPORTS_SAVE )
-GAME( 1995, samsho3h,   samsho3,  neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Samurai Shodown III / Samurai Spirits - Zankurou Musouken (NGH-087)", MACHINE_SUPPORTS_SAVE )
+GAME( 1995, kof95,      neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "The King of Fighters '95 (NGM-084)", MACHINE_SUPPORTS_SAVE )
+GAME( 1995, kof95a,     kof95,    neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "The King of Fighters '95 (NGM-084, alt board)", MACHINE_SUPPORTS_SAVE )
+GAME( 1995, kof95h,     kof95,    neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "The King of Fighters '95 (NGH-084)", MACHINE_SUPPORTS_SAVE )
+GAME( 1995, samsho3,    neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Samurai Shodown III / Samurai Spirits - Zankurou Musouken (NGM-087)", MACHINE_SUPPORTS_SAVE )
+GAME( 1995, samsho3h,   samsho3,  neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Samurai Shodown III / Samurai Spirits - Zankurou Musouken (NGH-087)", MACHINE_SUPPORTS_SAVE )
 GAME( 1995, fswords,    samsho3,  neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Fighters Swords (Korean release of Samurai Shodown III)", MACHINE_SUPPORTS_SAVE )
 GAME( 1995, rbff1,      neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Real Bout Fatal Fury / Real Bout Garou Densetsu (NGM-095 ~ NGH-095)", MACHINE_SUPPORTS_SAVE )
 GAME( 1995, rbff1a,     rbff1,    neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Real Bout Fatal Fury / Real Bout Garou Densetsu (bug fix revision)", MACHINE_SUPPORTS_SAVE )
 GAME( 1995, rbff1k,     rbff1,    neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Real Bout Fatal Fury / Real Bout Garou Densetsu (Korean release)", MACHINE_SUPPORTS_SAVE )
 GAME( 1995, rbff1ka,    rbff1,    neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Real Bout Fatal Fury / Real Bout Garou Densetsu (Korean release, bug fix revision)", MACHINE_SUPPORTS_SAVE )
 GAME( 1996, aof3,       neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Art of Fighting 3 - The Path of the Warrior / Art of Fighting - Ryuuko no Ken Gaiden", MACHINE_SUPPORTS_SAVE )
-GAME( 1996, aof3k,      aof3,     neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Art of Fighting 3 - The Path of the Warrior (Korean release)", MACHINE_SUPPORTS_SAVE ) // no Japanese title / mode
-GAME( 1996, kof96,      neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "The King of Fighters '96 (NGM-214)", MACHINE_SUPPORTS_SAVE )
-GAME( 1996, kof96h,     kof96,    neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "The King of Fighters '96 (NGH-214)", MACHINE_SUPPORTS_SAVE )
+GAME( 1996, aof3k,      aof3,     neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Art of Fighting 3 - The Path of the Warrior (Korean release)", MACHINE_SUPPORTS_SAVE ) // no Japanese title / mode
+GAME( 1996, kof96,      neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "The King of Fighters '96 (NGM-214)", MACHINE_SUPPORTS_SAVE )
+GAME( 1996, kof96h,     kof96,    neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "The King of Fighters '96 (NGH-214)", MACHINE_SUPPORTS_SAVE )
 GAME( 1996, ssideki4,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "The Ultimate 11 - The SNK Football Championship / Tokuten Ou - Honoo no Libero", MACHINE_SUPPORTS_SAVE )
-GAME( 1996, kizuna,     neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Kizuna Encounter - Super Tag Battle / Fu'un Super Tag Battle", MACHINE_SUPPORTS_SAVE )
-GAME( 1996, kizuna4p,   kizuna,   kizuna4p,  kizuna4p,  mvs_state,     empty_init, ROT0, "SNK", "Kizuna Encounter - Super Tag Battle 4 Way Battle Version / Fu'un Super Tag Battle Special Version", MACHINE_SUPPORTS_SAVE )
+GAME( 1996, kizuna,     neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Kizuna Encounter - Super Tag Battle / Fu'un Super Tag Battle", MACHINE_SUPPORTS_SAVE )
+GAME( 1996, kizuna4p,   kizuna,   kizuna4p,  kizuna4p,  mvs_led_state, empty_init, ROT0, "SNK", "Kizuna Encounter - Super Tag Battle 4 Way Battle Version / Fu'un Super Tag Battle Special Version", MACHINE_SUPPORTS_SAVE )
 GAME( 1996, samsho4,    neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Samurai Shodown IV - Amakusa's Revenge / Samurai Spirits - Amakusa Kourin (NGM-222 ~ NGH-222)", MACHINE_SUPPORTS_SAVE )
 GAME( 1996, samsho4k,   samsho4,  neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Pae Wang Jeon Seol / Legend of a Warrior (Korean censored Samurai Shodown IV)", MACHINE_SUPPORTS_SAVE )
 GAME( 1996, rbffspec,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Real Bout Fatal Fury Special / Real Bout Garou Densetsu Special", MACHINE_SUPPORTS_SAVE )
 GAME( 1996, rbffspeck,  rbffspec, neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Real Bout Fatal Fury Special / Real Bout Garou Densetsu Special (Korean release)", MACHINE_SUPPORTS_SAVE )
-GAME( 1997, kof97,      neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "The King of Fighters '97 (NGM-2320)", MACHINE_SUPPORTS_SAVE )
-GAME( 1997, kof97h,     kof97,    neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "The King of Fighters '97 (NGH-2320)", MACHINE_SUPPORTS_SAVE )
-GAME( 1997, kof97k,     kof97,    neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "The King of Fighters '97 (Korean release)", MACHINE_SUPPORTS_SAVE )
-GAME( 1997, kof97pls,   kof97,    neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "bootleg", "The King of Fighters '97 Plus (bootleg)", MACHINE_SUPPORTS_SAVE )
+GAME( 1997, kof97,      neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "The King of Fighters '97 (NGM-2320)", MACHINE_SUPPORTS_SAVE )
+GAME( 1997, kof97h,     kof97,    neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "The King of Fighters '97 (NGH-2320)", MACHINE_SUPPORTS_SAVE )
+GAME( 1997, kof97k,     kof97,    neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "The King of Fighters '97 (Korean release)", MACHINE_SUPPORTS_SAVE )
+GAME( 1997, kof97pls,   kof97,    neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "bootleg", "The King of Fighters '97 Plus (bootleg)", MACHINE_SUPPORTS_SAVE )
 GAME( 1997, kof97oro,   kof97,    kof97oro,  neogeo,    mvs_led_state, empty_init, ROT0, "bootleg", "The King of Fighters '97 Chongchu Jianghu Plus 2003 (bootleg)", MACHINE_SUPPORTS_SAVE )
 GAME( 1997, kog,        kof97,    kog,       neogeo,    mvs_led_state, empty_init, ROT0, "bootleg", "King of Gladiator (The King of Fighters '97 bootleg)", MACHINE_NOT_WORKING | MACHINE_SUPPORTS_SAVE ) // protected bootleg
 GAME( 1997, lastblad,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "The Last Blade / Bakumatsu Roman - Gekka no Kenshi (NGM-2340)", MACHINE_SUPPORTS_SAVE )
 GAME( 1997, lastbladh,  lastblad, neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "The Last Blade / Bakumatsu Roman - Gekka no Kenshi (NGH-2340)", MACHINE_SUPPORTS_SAVE )
 GAME( 1997, lastsold,   lastblad, neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "The Last Soldier (Korean release of The Last Blade)", MACHINE_SUPPORTS_SAVE )
-GAME( 1997, irrmaze,    neogeo,   irrmaze,   neogeo,    mvs_state,     empty_init, ROT0, "SNK / Saurus", "The Irritating Maze / Ultra Denryu Iraira Bou", MACHINE_SUPPORTS_SAVE )
-GAME( 1998, rbff2,      neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Real Bout Fatal Fury 2 - The Newcomers / Real Bout Garou Densetsu 2 - The Newcomers (NGM-2400)", MACHINE_SUPPORTS_SAVE )
-GAME( 1998, rbff2h,     rbff2,    neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Real Bout Fatal Fury 2 - The Newcomers / Real Bout Garou Densetsu 2 - The Newcomers (NGH-2400)", MACHINE_SUPPORTS_SAVE )
-GAME( 1998, rbff2k,     rbff2,    neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Real Bout Fatal Fury 2 - The Newcomers (Korean release)", MACHINE_SUPPORTS_SAVE ) // no Japanese title / mode
-GAME( 1998, mslug2,     neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Metal Slug 2 - Super Vehicle-001/II (NGM-2410 ~ NGH-2410)", MACHINE_SUPPORTS_SAVE )
-GAME( 2015, mslug2t,    mslug2,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "hack (trap15)", "Metal Slug 2 Turbo (NGM-9410) (hack)", MACHINE_SUPPORTS_SAVE )
+GAME( 1997, irrmaze,    neogeo,   irrmaze,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK / Saurus", "The Irritating Maze / Ultra Denryu Iraira Bou", MACHINE_SUPPORTS_SAVE )
+GAME( 1998, rbff2,      neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Real Bout Fatal Fury 2 - The Newcomers / Real Bout Garou Densetsu 2 - The Newcomers (NGM-2400)", MACHINE_SUPPORTS_SAVE )
+GAME( 1998, rbff2h,     rbff2,    neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Real Bout Fatal Fury 2 - The Newcomers / Real Bout Garou Densetsu 2 - The Newcomers (NGH-2400)", MACHINE_SUPPORTS_SAVE )
+GAME( 1998, rbff2k,     rbff2,    neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Real Bout Fatal Fury 2 - The Newcomers (Korean release)", MACHINE_SUPPORTS_SAVE ) // no Japanese title / mode
+GAME( 1998, mslug2,     neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Metal Slug 2 - Super Vehicle-001/II (NGM-2410 ~ NGH-2410)", MACHINE_SUPPORTS_SAVE )
+GAME( 2015, mslug2t,    mslug2,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "hack (trap15)", "Metal Slug 2 Turbo (NGM-9410) (hack)", MACHINE_SUPPORTS_SAVE )
 GAME( 1998, kof98,      neogeo,   kof98,     neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "The King of Fighters '98 - The Slugfest / King of Fighters '98 - Dream Match Never Ends (NGM-2420)", MACHINE_SUPPORTS_SAVE )
 GAME( 1998, kof98a,     kof98,    kof98,     neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "The King of Fighters '98 - The Slugfest / King of Fighters '98 - Dream Match Never Ends (NGM-2420, alt board)", MACHINE_SUPPORTS_SAVE )
 GAME( 1998, kof98k,     kof98,    kof98,     neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "The King of Fighters '98 - The Slugfest / King of Fighters '98 - Dream Match Never Ends (Korean board, set 1)", MACHINE_SUPPORTS_SAVE )
 GAME( 1998, kof98ka,    kof98,    kof98,     neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "The King of Fighters '98 - The Slugfest / King of Fighters '98 - Dream Match Never Ends (Korean board, set 2)", MACHINE_SUPPORTS_SAVE )
-GAME( 1998, kof98h,     kof98,    neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "The King of Fighters '98 - The Slugfest / King of Fighters '98 - Dream Match Never Ends (NGH-2420)", MACHINE_SUPPORTS_SAVE )
+GAME( 1998, kof98h,     kof98,    neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "The King of Fighters '98 - The Slugfest / King of Fighters '98 - Dream Match Never Ends (NGH-2420)", MACHINE_SUPPORTS_SAVE )
 GAME( 1998, lastbld2,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "The Last Blade 2 / Bakumatsu Roman - Dai Ni Maku Gekka no Kenshi (NGM-2430 ~ NGH-2430)", MACHINE_SUPPORTS_SAVE )
 GAME( 1998, neocup98,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Neo-Geo Cup '98 - The Road to the Victory", MACHINE_SUPPORTS_SAVE )
 GAME( 1999, mslugx,     neogeo,   mslugx,    neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Metal Slug X - Super Vehicle-001 (NGM-2500 ~ NGH-2500)", MACHINE_SUPPORTS_SAVE )
@@ -11965,7 +12040,7 @@
 GAME( 1999, kof99e,     kof99,    kof99,     neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "The King of Fighters '99 - Millennium Battle (earlier)" , MACHINE_SUPPORTS_SAVE ) /* Encrypted Code & GFX */
 GAME( 1999, kof99k,     kof99,    kof99,     neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "The King of Fighters '99 - Millennium Battle (Korean release)" , MACHINE_SUPPORTS_SAVE ) /* Encrypted Code & GFX */
 GAME( 1999, kof99ka,    kof99,    kof99k,    neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "The King of Fighters '99 - Millennium Battle (Korean release, non-encrypted program)" , MACHINE_SUPPORTS_SAVE )   /* Encrypted GFX */
-GAME( 1999, kof99p,     kof99,    neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "The King of Fighters '99 - Millennium Battle (prototype)", MACHINE_SUPPORTS_SAVE )
+GAME( 1999, kof99p,     kof99,    neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "The King of Fighters '99 - Millennium Battle (prototype)", MACHINE_SUPPORTS_SAVE )
 GAME( 1999, garou,      neogeo,   garou,     neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Garou - Mark of the Wolves (NGM-2530)" , MACHINE_SUPPORTS_SAVE ) /* Encrypted Code & GFX */
 GAME( 1999, garouh,     garou,    garouh,    neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Garou - Mark of the Wolves (NGM-2530 ~ NGH-2530)" , MACHINE_SUPPORTS_SAVE ) /* Encrypted Code & GFX */
 GAME( 1999, garouha,    garou,    garou,     neogeo,    mvs_led_state, empty_init, ROT0, "SNK", "Garou - Mark of the Wolves (NGH-2530)" , MACHINE_SUPPORTS_SAVE ) /* Encrypted Code & GFX */
@@ -12018,151 +12093,151 @@
 GAME( 2004, samsh5sph,  samsh5sp, samsh5sp,  neogeo,    mvs_led_state, empty_init, ROT0, "Yuki Enterprise / SNK Playmore", "Samurai Shodown V Special / Samurai Spirits Zero Special (NGH-2720, 2nd release, less censored)", MACHINE_SUPPORTS_SAVE )
 GAME( 2004, samsh5spho, samsh5sp, samsh5sp,  neogeo,    mvs_led_state, empty_init, ROT0, "Yuki Enterprise / SNK Playmore", "Samurai Shodown V Special / Samurai Spirits Zero Special (NGH-2720, 1st release, censored)", MACHINE_SUPPORTS_SAVE )
 
-// Alpha Denshi Co. / ADK (changed name in 1993)
+/* Alpha Denshi Co. / ADK (changed name in 1993) */
 GAME( 1990, maglord,    neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Alpha Denshi Co.", "Magician Lord (NGM-005)", MACHINE_SUPPORTS_SAVE )
 GAME( 1990, maglordh,   maglord,  neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Alpha Denshi Co.", "Magician Lord (NGH-005)", MACHINE_SUPPORTS_SAVE )
-GAME( 1990, ncombat,    neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Alpha Denshi Co.", "Ninja Combat (NGM-009)", MACHINE_SUPPORTS_SAVE )
-GAME( 1990, ncombath,   ncombat,  neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Alpha Denshi Co.", "Ninja Combat (NGH-009)", MACHINE_SUPPORTS_SAVE )
+GAME( 1990, ncombat,    neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Alpha Denshi Co.", "Ninja Combat (NGM-009)", MACHINE_SUPPORTS_SAVE )
+GAME( 1990, ncombath,   ncombat,  neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Alpha Denshi Co.", "Ninja Combat (NGH-009)", MACHINE_SUPPORTS_SAVE )
 GAME( 1990, bjourney,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Alpha Denshi Co.", "Blue's Journey / Raguy (ALM-001 ~ ALH-001)", MACHINE_SUPPORTS_SAVE )
 GAME( 1990, bjourneyh,  bjourney, neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Alpha Denshi Co.", "Blue's Journey / Raguy (ALH-001)", MACHINE_SUPPORTS_SAVE )
-GAME( 1991, crsword,    neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Alpha Denshi Co.", "Crossed Swords (ALM-002 ~ ALH-002)", MACHINE_SUPPORTS_SAVE )
-GAME( 1991, trally,     neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Alpha Denshi Co.", "Thrash Rally (ALM-003 ~ ALH-003)", MACHINE_NODEVICE_LAN | MACHINE_SUPPORTS_SAVE )
-GAME( 1992, ncommand,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Alpha Denshi Co.", "Ninja Commando", MACHINE_SUPPORTS_SAVE )
+GAME( 1991, crsword,    neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Alpha Denshi Co.", "Crossed Swords (ALM-002 ~ ALH-002)", MACHINE_SUPPORTS_SAVE )
+GAME( 1991, trally,     neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Alpha Denshi Co.", "Thrash Rally (ALM-003 ~ ALH-003)", MACHINE_SUPPORTS_SAVE )
+GAME( 1992, ncommand,   neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Alpha Denshi Co.", "Ninja Commando", MACHINE_SUPPORTS_SAVE )
 GAME( 1992, wh1,        neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Alpha Denshi Co.", "World Heroes (ALM-005)", MACHINE_SUPPORTS_SAVE )
 GAME( 1992, wh1h,       wh1,      neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Alpha Denshi Co.", "World Heroes (ALH-005)", MACHINE_SUPPORTS_SAVE )
 GAME( 1992, wh1ha,      wh1,      neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Alpha Denshi Co.", "World Heroes (set 3)", MACHINE_SUPPORTS_SAVE )
-GAME( 1993, wh2,        neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "ADK",              "World Heroes 2 (ALM-006 ~ ALH-006)", MACHINE_SUPPORTS_SAVE )
-GAME( 1993, wh2h,       wh2,      neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "ADK",              "World Heroes 2 (ALH-006)", MACHINE_SUPPORTS_SAVE )
-GAME( 1994, wh2j,       neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "ADK / SNK",        "World Heroes 2 Jet (ADM-007 ~ ADH-007)", MACHINE_SUPPORTS_SAVE )
-GAME( 1994, aodk,       neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "ADK / SNK",        "Aggressors of Dark Kombat / Tsuukai GANGAN Koushinkyoku (ADM-008 ~ ADH-008)", MACHINE_SUPPORTS_SAVE )
+GAME( 1993, wh2,        neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "ADK",              "World Heroes 2 (ALM-006 ~ ALH-006)", MACHINE_SUPPORTS_SAVE )
+GAME( 1993, wh2h,       wh2,      neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "ADK",              "World Heroes 2 (ALH-006)", MACHINE_SUPPORTS_SAVE )
+GAME( 1994, wh2j,       neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "ADK / SNK",        "World Heroes 2 Jet (ADM-007 ~ ADH-007)", MACHINE_SUPPORTS_SAVE )
+GAME( 1994, aodk,       neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "ADK / SNK",        "Aggressors of Dark Kombat / Tsuukai GANGAN Koushinkyoku (ADM-008 ~ ADH-008)", MACHINE_SUPPORTS_SAVE )
 GAME( 1995, whp,        neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "ADK / SNK",        "World Heroes Perfect", MACHINE_SUPPORTS_SAVE )
-GAME( 1995, moshougi,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "ADK / SNK",        "Shougi no Tatsujin - Master of Shougi", MACHINE_SUPPORTS_SAVE )
-GAME( 1996, overtop,    neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "ADK",              "Over Top", MACHINE_SUPPORTS_SAVE )
+GAME( 1995, moshougi,   neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "ADK / SNK",        "Shougi no Tatsujin - Master of Shougi", MACHINE_SUPPORTS_SAVE )
+GAME( 1996, overtop,    neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "ADK",              "Over Top", MACHINE_SUPPORTS_SAVE )
 GAME( 1996, ninjamas,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "ADK / SNK",        "Ninja Master's - Haoh-ninpo-cho", MACHINE_SUPPORTS_SAVE )
-GAME( 1996, twinspri,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "ADK / SNK",        "Twinkle Star Sprites", MACHINE_SUPPORTS_SAVE )
-GAME( 1996, zintrckb,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "bootleg",          "Zintrick / Oshidashi Zentrix (bootleg of CD version)", MACHINE_SUPPORTS_SAVE )
-GAME( 1996, crswd2bl,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "bootleg (Razoola)","Crossed Swords 2 (bootleg of CD version)", MACHINE_SUPPORTS_SAVE )
+GAME( 1996, twinspri,   neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "ADK / SNK",        "Twinkle Star Sprites", MACHINE_SUPPORTS_SAVE )
+GAME( 1996, zintrckb,   neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "bootleg",          "Zintrick / Oshidashi Zentrix (bootleg of CD version)", MACHINE_SUPPORTS_SAVE )
+GAME( 1996, crswd2bl,   neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "bootleg (Razoola)","Crossed Swords 2 (bootleg of CD version)", MACHINE_SUPPORTS_SAVE )
 
 
-// Aicom (was a part of Sammy) / Yumekobo (changed name in 1996)
-GAME( 1992, viewpoin,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Sammy / Aicom", "Viewpoint", MACHINE_SUPPORTS_SAVE )
-GAME( 1992, viewpoinp,  viewpoin, neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Sammy / Aicom", "Viewpoint (prototype)", MACHINE_SUPPORTS_SAVE )
+/* Aicom (was a part of Sammy) / Yumekobo (changed name in 1996) */
+GAME( 1992, viewpoin,   neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Sammy / Aicom", "Viewpoint", MACHINE_SUPPORTS_SAVE )
+GAME( 1992, viewpoinp,  viewpoin, neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Sammy / Aicom", "Viewpoint (prototype)", MACHINE_SUPPORTS_SAVE )
 GAME( 1994, janshin,    neogeo,   neogeo_mj, neogeo_mj, mvs_led_state, empty_init, ROT0, "Aicom", "Janshin Densetsu - Quest of Jongmaster", MACHINE_SUPPORTS_SAVE )
-GAME( 1995, pulstar,    neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Aicom", "Pulstar", MACHINE_SUPPORTS_SAVE )
-GAME( 1998, blazstar,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Yumekobo", "Blazing Star", MACHINE_SUPPORTS_SAVE )
+GAME( 1995, pulstar,    neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Aicom", "Pulstar", MACHINE_SUPPORTS_SAVE )
+GAME( 1998, blazstar,   neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Yumekobo", "Blazing Star", MACHINE_SUPPORTS_SAVE )
 GAME( 1999, preisle2,   neogeo,   preisle2,  neogeo,    mvs_led_state, empty_init, ROT0, "Yumekobo / Saurus", "Prehistoric Isle 2" , MACHINE_SUPPORTS_SAVE ) /* Encrypted GFX */
 
-// Data East Corporation
-GAME( 1993, spinmast,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Data East Corporation", "Spin Master / Miracle Adventure", MACHINE_SUPPORTS_SAVE )
-GAME( 1994, wjammers,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Data East Corporation", "Windjammers / Flying Power Disc", MACHINE_SUPPORTS_SAVE )
-GAME( 1994, karnovr,    neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Data East Corporation", "Karnov's Revenge / Fighter's History Dynamite", MACHINE_SUPPORTS_SAVE )
-GAME( 1994, strhoop,    neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Data East Corporation", "Street Hoop / Street Slam / Dunk Dream (DEM-004 ~ DEH-004)", MACHINE_SUPPORTS_SAVE )
-GAME( 1996, ghostlop,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Data East Corporation", "Ghostlop (prototype)", MACHINE_SUPPORTS_SAVE )
-GAME( 1996, magdrop2,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Data East Corporation", "Magical Drop II", MACHINE_SUPPORTS_SAVE )
-GAME( 1997, magdrop3,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Data East Corporation", "Magical Drop III", MACHINE_SUPPORTS_SAVE )
+/* Data East Corporation */
+GAME( 1993, spinmast,   neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Data East Corporation", "Spin Master / Miracle Adventure", MACHINE_SUPPORTS_SAVE )
+GAME( 1994, wjammers,   neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Data East Corporation", "Windjammers / Flying Power Disc", MACHINE_SUPPORTS_SAVE )
+GAME( 1994, karnovr,    neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Data East Corporation", "Karnov's Revenge / Fighter's History Dynamite", MACHINE_SUPPORTS_SAVE )
+GAME( 1994, strhoop,    neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Data East Corporation", "Street Hoop / Street Slam / Dunk Dream (DEM-004 ~ DEH-004)", MACHINE_SUPPORTS_SAVE )
+GAME( 1996, ghostlop,   neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Data East Corporation", "Ghostlop (prototype)", MACHINE_SUPPORTS_SAVE )
+GAME( 1996, magdrop2,   neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Data East Corporation", "Magical Drop II", MACHINE_SUPPORTS_SAVE )
+GAME( 1997, magdrop3,   neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Data East Corporation", "Magical Drop III", MACHINE_SUPPORTS_SAVE )
 
-// Eleven
+/* Eleven */
 GAME( 2000, nitd,       neogeo,   nitd,      neogeo,    mvs_led_state, empty_init, ROT0, "Eleven / Gavaking", "Nightmare in the Dark" , MACHINE_SUPPORTS_SAVE ) /* Encrypted GFX */
-GAME( 2001, nitdbl,     nitd,     neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "bootleg", "Nightmare in the Dark (bootleg)" , MACHINE_SUPPORTS_SAVE )
+GAME( 2001, nitdbl,     nitd,     neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "bootleg", "Nightmare in the Dark (bootleg)" , MACHINE_SUPPORTS_SAVE )
 
-// Face
-GAME( 1994, gururin,    neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Face", "Gururin", MACHINE_SUPPORTS_SAVE )
-GAME( 1997, miexchng,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Face", "Money Puzzle Exchanger / Money Idol Exchanger", MACHINE_SUPPORTS_SAVE )
+/* Face */
+GAME( 1994, gururin,    neogeo,   neo288h,   neogeo,    mvs_led_state, empty_init, ROT0, "Face", "Gururin", MACHINE_SUPPORTS_SAVE )
+GAME( 1997, miexchng,   neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Face", "Money Puzzle Exchanger / Money Idol Exchanger", MACHINE_SUPPORTS_SAVE )
 GAME( 1997, dragonsh,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Face", "Dragon's Heaven (development board)", MACHINE_IS_INCOMPLETE | MACHINE_NO_SOUND | MACHINE_SUPPORTS_SAVE ) // same ID code as Voltage Fighter Gowkaizer, developed by ex-Technos staff
 
-// Hudson Soft
-GAME( 1994, panicbom,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Eighting / Hudson", "Panic Bomber", MACHINE_SUPPORTS_SAVE )
+/* Hudson Soft */
+GAME( 1994, panicbom,   neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Eighting / Hudson", "Panic Bomber", MACHINE_SUPPORTS_SAVE )
 GAME( 1995, kabukikl,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Hudson", "Far East of Eden - Kabuki Klash / Tengai Makyou - Shin Den", MACHINE_SUPPORTS_SAVE )
-GAME( 1997, neobombe,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Hudson", "Neo Bomberman", MACHINE_SUPPORTS_SAVE )
+GAME( 1997, neobombe,   neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Hudson", "Neo Bomberman", MACHINE_SUPPORTS_SAVE )
 
-// Monolith Corp.
+/* Monolith Corp. */
 GAME( 1990, minasan,    neogeo,   neogeo_mj, neogeo_mj, mvs_led_state, empty_init, ROT0, "Monolith Corp.", "Minasan no Okagesamadesu! Dai Sugoroku Taikai (MOM-001 ~ MOH-001)", MACHINE_SUPPORTS_SAVE )
 GAME( 1991, bakatono,   neogeo,   neogeo_mj, neogeo_mj, mvs_led_state, empty_init, ROT0, "Monolith Corp.", "Bakatonosama Mahjong Manyuuki (MOM-002 ~ MOH-002)", MACHINE_SUPPORTS_SAVE )
 
-// Nazca (later acquired by SNK)
-GAME( 1996, turfmast,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Nazca", "Neo Turf Masters / Big Tournament Golf", MACHINE_SUPPORTS_SAVE )
-GAME( 1996, mslug,      neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Nazca", "Metal Slug - Super Vehicle-001", MACHINE_SUPPORTS_SAVE )
+/* Nazca (later acquired by SNK) */
+GAME( 1996, turfmast,   neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Nazca", "Neo Turf Masters / Big Tournament Golf", MACHINE_SUPPORTS_SAVE )
+GAME( 1996, mslug,      neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Nazca", "Metal Slug - Super Vehicle-001", MACHINE_SUPPORTS_SAVE )
 GAME( 1995?,mvstemp,    neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Nazca", "MVS-TEMP 'SubSystem Ver1.4' (Nazca development board)", MACHINE_NOT_WORKING )
 
-// NMK
-GAME( 1994, zedblade,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "NMK", "Zed Blade / Operation Ragnarok", MACHINE_SUPPORTS_SAVE )
+/* NMK */
+GAME( 1994, zedblade,   neogeo,   neo288h,   neogeo,    mvs_led_state, empty_init, ROT0, "NMK", "Zed Blade / Operation Ragnarok", MACHINE_SUPPORTS_SAVE )
 
-// Psikyo
+/* Psikyo */
 GAME( 1999, s1945p,     neogeo,   s1945p,    neogeo,    mvs_led_state, empty_init, ROT0, "Psikyo", "Strikers 1945 Plus" , MACHINE_SUPPORTS_SAVE )   /* Encrypted GFX */
 
-// Saurus
-GAME( 1995, quizkof,    neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Saurus (SNK license)", "Quiz King of Fighters (SAM-080 ~ SAH-080)", MACHINE_SUPPORTS_SAVE )
-GAME( 1996, quizkofk,   quizkof,  neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Saurus / Viccom (SNK license)", "Quiz King of Fighters (Korea)", MACHINE_SUPPORTS_SAVE )
+/* Saurus */
+GAME( 1995, quizkof,    neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Saurus", "Quiz King of Fighters (SAM-080 ~ SAH-080)", MACHINE_SUPPORTS_SAVE )
+GAME( 1995, quizkofk,   quizkof,  neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Saurus", "Quiz King of Fighters (Korean release)", MACHINE_SUPPORTS_SAVE )
 GAME( 1995, stakwin,    neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Saurus", "Stakes Winner / Stakes Winner - GI Kinzen  Seiha e no Michi", MACHINE_SUPPORTS_SAVE )
 GAME( 1995, stakwindev, stakwin,  neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Saurus", "Stakes Winner / Stakes Winner - GI Kinzen  Seiha e no Michi (early development board)", MACHINE_SUPPORTS_SAVE | MACHINE_NOT_WORKING | MACHINE_IS_INCOMPLETE )
 GAME( 1996, ragnagrd,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Saurus", "Ragnagard / Shin-Oh-Ken", MACHINE_SUPPORTS_SAVE )
-GAME( 1996, pgoal,      neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Saurus", "Pleasure Goal / Futsal - 5 on 5 Mini Soccer (NGM-219)", MACHINE_SUPPORTS_SAVE )
-GAME( 1996, ironclad,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Saurus", "Choutetsu Brikin'ger / Iron Clad (prototype)", MACHINE_SUPPORTS_SAVE )
-GAME( 1996, ironclado,  ironclad, neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "bootleg", "Choutetsu Brikin'ger / Iron Clad (prototype, bootleg)", MACHINE_SUPPORTS_SAVE )
+GAME( 1996, pgoal,      neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Saurus", "Pleasure Goal / Futsal - 5 on 5 Mini Soccer (NGM-219)", MACHINE_SUPPORTS_SAVE )
+GAME( 1996, ironclad,   neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Saurus", "Choutetsu Brikin'ger - Iron Clad (prototype)", MACHINE_SUPPORTS_SAVE )
+GAME( 1996, ironclado,  ironclad, neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "bootleg", "Choutetsu Brikin'ger - Iron Clad (prototype, bootleg)", MACHINE_SUPPORTS_SAVE )
 GAME( 1996, stakwin2,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Saurus", "Stakes Winner 2", MACHINE_SUPPORTS_SAVE )
-GAME( 1997, shocktro,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Saurus", "Shock Troopers (set 1)", MACHINE_SUPPORTS_SAVE )
-GAME( 1997, shocktroa,  shocktro, neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Saurus", "Shock Troopers (set 2)", MACHINE_SUPPORTS_SAVE )
-GAME( 1998, shocktr2,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Saurus", "Shock Troopers - 2nd Squad", MACHINE_SUPPORTS_SAVE )
+GAME( 1997, shocktro,   neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Saurus", "Shock Troopers (set 1)", MACHINE_SUPPORTS_SAVE )
+GAME( 1997, shocktroa,  shocktro, neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Saurus", "Shock Troopers (set 2)", MACHINE_SUPPORTS_SAVE )
+GAME( 1998, shocktr2,   neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Saurus", "Shock Troopers - 2nd Squad", MACHINE_SUPPORTS_SAVE )
 GAME( 1998, lans2004,   shocktr2, lans2004,  neogeo,    mvs_led_state, empty_init, ROT0, "bootleg", "Lansquenet 2004 (Shock Troopers - 2nd Squad bootleg)", MACHINE_SUPPORTS_SAVE )
 
-// Sunsoft
-GAME( 1995, galaxyfg,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Sunsoft", "Galaxy Fight - Universal Warriors", MACHINE_SUPPORTS_SAVE )
-GAME( 1996, wakuwak7,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Sunsoft", "Waku Waku 7", MACHINE_SUPPORTS_SAVE )
+/* Sunsoft */
+GAME( 1995, galaxyfg,   neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Sunsoft", "Galaxy Fight - Universal Warriors", MACHINE_SUPPORTS_SAVE )
+GAME( 1996, wakuwak7,   neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Sunsoft", "Waku Waku 7", MACHINE_SUPPORTS_SAVE )
 
-// Taito
+/* Taito */
 GAME( 1994, pbobblen,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Taito", "Puzzle Bobble / Bust-A-Move (Neo-Geo, NGM-083)", MACHINE_SUPPORTS_SAVE )
 GAME( 1994, pbobblenb,  pbobblen, neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "bootleg", "Puzzle Bobble / Bust-A-Move (Neo-Geo, bootleg)", MACHINE_SUPPORTS_SAVE )
-GAME( 1999, pbobbl2n,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Taito (SNK license)", "Puzzle Bobble 2 / Bust-A-Move Again (Neo-Geo)", MACHINE_SUPPORTS_SAVE ) // ported to Neo-Geo by SNK, original version is on Taito F3
-GAME( 2003, pnyaa,      neogeo,   pnyaa,     neogeo,    mvs_led_state, empty_init, ROT0, "Aiky / Taito", "Pochi and Nyaa (Ver 2.02)", MACHINE_SUPPORTS_SAVE ) // this version does not show the web address on the title screen
+GAME( 1999, pbobbl2n,   neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Taito (SNK license)", "Puzzle Bobble 2 / Bust-A-Move Again (Neo-Geo)", MACHINE_SUPPORTS_SAVE )
+GAME( 2003, pnyaa,      neogeo,   pnyaa,     neogeo,    mvs_led_state, empty_init, ROT0, "Aiky / Taito", "Pochi and Nyaa (Ver 2.02)", MACHINE_SUPPORTS_SAVE )
 GAME( 2003, pnyaaa,     pnyaa,    pnyaa,     neogeo,    mvs_led_state, empty_init, ROT0, "Aiky / Taito", "Pochi and Nyaa (Ver 2.00)", MACHINE_SUPPORTS_SAVE )
 
 // Takara
-GAME( 1995, marukodq,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Takara", "Chibi Maruko-chan: Maruko Deluxe Quiz", MACHINE_SUPPORTS_SAVE )
+GAME( 1995, marukodq,   neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Takara", "Chibi Maruko-chan: Maruko Deluxe Quiz", MACHINE_SUPPORTS_SAVE )
 
-// Technos Japan
+/* Technos Japan */
 GAME( 1995, doubledr,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Technos Japan", "Double Dragon (Neo-Geo)", MACHINE_SUPPORTS_SAVE )
-GAME( 1995, gowcaizr,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Technos Japan", "Voltage Fighter - Gowcaizer / Choujin Gakuen Gowcaizer", MACHINE_SUPPORTS_SAVE )
-GAME( 1996, sdodgeb,    neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Technos Japan", "Super Dodge Ball / Kunio no Nekketsu Toukyuu Densetsu", MACHINE_SUPPORTS_SAVE )
+GAME( 1995, gowcaizr,   neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Technos Japan", "Voltage Fighter - Gowcaizer / Choujin Gakuen Gowcaizer", MACHINE_SUPPORTS_SAVE )
+GAME( 1996, sdodgeb,    neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Technos Japan", "Super Dodge Ball / Kunio no Nekketsu Toukyuu Densetsu", MACHINE_SUPPORTS_SAVE )
 
-// Tecmo
-GAME( 1996, twsoc96,    neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Tecmo", "Tecmo World Soccer '96", MACHINE_SUPPORTS_SAVE )
+/* Tecmo */
+GAME( 1996, twsoc96,    neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Tecmo", "Tecmo World Soccer '96", MACHINE_SUPPORTS_SAVE )
 
-// Viccom
-GAME( 1994, fightfev,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Viccom", "Fight Fever / Wang Jung Wang (set 1)", MACHINE_SUPPORTS_SAVE )
-GAME( 1994, fightfeva,  fightfev, neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Viccom", "Fight Fever / Wang Jung Wang (set 2)", MACHINE_SUPPORTS_SAVE )
+/* Viccom */
+GAME( 1994, fightfev,   neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Viccom", "Fight Fever (set 1)", MACHINE_SUPPORTS_SAVE )
+GAME( 1994, fightfeva,  fightfev, neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Viccom", "Fight Fever (set 2)", MACHINE_SUPPORTS_SAVE )
 
-// Video System Co.
+/* Video System Co. */
 GAME( 1994, pspikes2,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Video System Co.", "Power Spikes II (NGM-068)", MACHINE_SUPPORTS_SAVE )
 GAME( 1994, sonicwi2,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Video System Co.", "Aero Fighters 2 / Sonic Wings 2", MACHINE_SUPPORTS_SAVE )
 GAME( 1995, sonicwi3,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Video System Co.", "Aero Fighters 3 / Sonic Wings 3", MACHINE_SUPPORTS_SAVE )
 GAME( 1997, popbounc,   neogeo,   popbounc,  neogeo,    mvs_led_state, empty_init, ROT0, "Video System Co.", "Pop 'n Bounce / Gapporin", MACHINE_SUPPORTS_SAVE )
 GAME( 1995, froman2b,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "bootleg",          "Idol Mahjong Final Romance 2 (Neo-Geo, bootleg of CD version)", MACHINE_SUPPORTS_SAVE )
 
-// Visco
-GAME( 1992, androdun,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Visco", "Andro Dunos (NGM-049 ~ NGH-049)", MACHINE_SUPPORTS_SAVE )
-GAME( 1995, puzzledp,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Visco", "Puzzle De Pon!", MACHINE_SUPPORTS_SAVE ) // game concept licensed from Taito
-GAME( 1996, neomrdo,    neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Visco", "Neo Mr. Do!", MACHINE_SUPPORTS_SAVE ) // game concept licensed from Universal
-GAME( 1995, goalx3,     neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Visco", "Goal! Goal! Goal!", MACHINE_SUPPORTS_SAVE )
-GAME( 1996, neodrift,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Visco", "Neo Drift Out - New Technology", MACHINE_SUPPORTS_SAVE )
+/* Visco */
+GAME( 1992, androdun,   neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Visco", "Andro Dunos (NGM-049 ~ NGH-049)", MACHINE_SUPPORTS_SAVE )
+GAME( 1995, puzzledp,   neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Visco", "Puzzle De Pon!", MACHINE_SUPPORTS_SAVE ) // game concept licensed from Taito
+GAME( 1996, neomrdo,    neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Visco", "Neo Mr. Do!", MACHINE_SUPPORTS_SAVE ) // game concept licensed from Universal
+GAME( 1995, goalx3,     neogeo,   neo288h,   neogeo,    mvs_led_state, empty_init, ROT0, "Visco", "Goal! Goal! Goal!", MACHINE_SUPPORTS_SAVE )
+GAME( 1996, neodrift,   neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Visco", "Neo Drift Out - New Technology", MACHINE_SUPPORTS_SAVE )
 GAME( 1996, breakers,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Visco", "Breakers", MACHINE_SUPPORTS_SAVE )
-GAME( 1997, puzzldpr,   puzzledp, neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Visco", "Puzzle De Pon! R!", MACHINE_SUPPORTS_SAVE ) // game concept licensed from Taito
+GAME( 1997, puzzldpr,   puzzledp, neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Visco", "Puzzle De Pon! R!", MACHINE_SUPPORTS_SAVE ) // game concept licensed from Taito
 GAME( 1998, breakrev,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Visco", "Breakers Revenge", MACHINE_SUPPORTS_SAVE )
-GAME( 1998, flipshot,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Visco", "Battle Flip Shot", MACHINE_SUPPORTS_SAVE )
-GAME( 1999, ctomaday,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Visco", "Captain Tomaday", MACHINE_SUPPORTS_SAVE )
+GAME( 1998, flipshot,   neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Visco", "Battle Flip Shot", MACHINE_SUPPORTS_SAVE )
+GAME( 1999, ctomaday,   neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Visco", "Captain Tomaday", MACHINE_SUPPORTS_SAVE )
 GAME( 1999, ganryu,     neogeo,   ganryu,    neogeo,    mvs_led_state, empty_init, ROT0, "Visco", "Ganryu / Musashi Ganryuki" , MACHINE_SUPPORTS_SAVE ) /* Encrypted GFX */
 GAME( 2000, bangbead,   neogeo,   bangbead,  neogeo,    mvs_led_state, empty_init, ROT0, "Visco", "Bang Bead", MACHINE_SUPPORTS_SAVE )
-GAME( 2000, b2b,        neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "Visco", "Bang Bang Busters (2010 NCI release)" , MACHINE_SUPPORTS_SAVE )
+GAME( 2000, b2b,        neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "Visco", "Bang Bang Busters (2010 NCI release)" , MACHINE_SUPPORTS_SAVE )
 
-// Mega Enterprise
+/* Mega Enterprise */
 GAME( 2002, mslug4,     neogeo,   mslug4,    neogeo,    mvs_led_state, empty_init, ROT0, "Mega / Noise Factory / Playmore", "Metal Slug 4 (NGM-2630)", MACHINE_SUPPORTS_SAVE )
 GAME( 2002, mslug4h,    mslug4,   mslug4,    neogeo,    mvs_led_state, empty_init, ROT0, "Mega / Noise Factory / Playmore", "Metal Slug 4 (NGH-2630)", MACHINE_SUPPORTS_SAVE )
 GAME( 2002, ms4plus,    mslug4,   ms4plus,   neogeo,    mvs_led_state, empty_init, ROT0, "bootleg", "Metal Slug 4 Plus (bootleg)", MACHINE_SUPPORTS_SAVE )
 
-// Evoga
+/* Evoga */
 GAME( 2002, rotd,       neogeo,   rotd,      neogeo,    mvs_led_state, empty_init, ROT0, "Evoga / Playmore", "Rage of the Dragons (NGM-2640?)", MACHINE_SUPPORTS_SAVE )
 GAME( 2002, rotdh,      rotd,     rotd,      neogeo,    mvs_led_state, empty_init, ROT0, "Evoga / Playmore", "Rage of the Dragons (NGH-2640?)", MACHINE_SUPPORTS_SAVE )
 
-// Atlus
+/* Atlus */
 GAME( 2002, matrim,     neogeo,   matrim,    neogeo,    mvs_led_state, empty_init, ROT0, "Noise Factory / Atlus", "Matrimelee / Shin Gouketsuji Ichizoku Toukon (NGM-2660 ~ NGH-2660)", MACHINE_SUPPORTS_SAVE )
 GAME( 2002, matrimbl,   matrim,   matrimbl,  neogeo,    mvs_led_state, empty_init, ROT0, "bootleg", "Matrimelee / Shin Gouketsuji Ichizoku Toukon (bootleg)", MACHINE_SUPPORTS_SAVE )
 
@@ -12184,8 +12259,8 @@
 // Vektorlogic
 GAME( 2004, sbp,        neogeo,   sbp,       neogeo,    mvs_led_state, empty_init, ROT0, "Vektorlogic", "Super Bubble Pop", MACHINE_NOT_WORKING )
 
-// NG:DEV.TEAM
-GAME( 2005, lasthope,   neogeo,   neobase,   neogeo,    mvs_led_state, empty_init, ROT0, "NG:DEV.TEAM", "Last Hope (bootleg AES to MVS conversion, no coin support)", MACHINE_SUPPORTS_SAVE ) // wasn't actually released on MVS but bootleg carts have been sold, this doesn't accept coins, runs like a console game
+/* NG:DEV.TEAM */
+GAME( 2005, lasthope,   neogeo,   neo304h,   neogeo,    mvs_led_state, empty_init, ROT0, "NG:DEV.TEAM", "Last Hope (bootleg AES to MVS conversion, no coin support)", MACHINE_SUPPORTS_SAVE ) // wasn't actually released on MVS but bootleg carts have been sold, this doesn't accept coins, runs like a console game
 // Last Hope Pink Bullets (c)2008 - MVS/AES
 // Fast Striker (c)2010 - MVS/AES
 // Fast Striker 1.5 (c)2010 - MVS/AES
@@ -12199,3 +12274,32 @@
 
 // NEOBITZ
 // Knight's Chance (c)2014 - MVS/AES
+
+
+
+
+ROM_START( samsh5pf )
+	ROM_REGION( 0x800000, "cslot1:maincpu", ROMREGION_BE|ROMREGION_16BIT )
+	ROM_LOAD16_WORD_SWAP( "272pf.p1", 0x000000, 0x800000, CRC(e3d18d3a) SHA1(25beacc2354bb8eff5c08900b954de877d3c4776) )
+
+	NEO_SFIX_128K( "272pf.s1", CRC(abb3baf9) SHA1(dc8072e8757dc525d9285b77a56fdedaf4d9330d) )
+
+	NEO_BIOS_AUDIO_128K( "272pf.m1", CRC(654e9236) SHA1(e13a1b4b73d43008565ee419c9714a220927d0bc) )
+
+	ROM_REGION( 0x1000000, "cslot1:ymsnd:adpcma", 0 )
+	ROM_LOAD( "272sp01.v1", 0x000000, 0x800000, CRC(3bf61586) SHA1(270fd58781b2b897a7365ccdf878c7e57048da35) )
+	ROM_LOAD( "272sp01.v2", 0x800000, 0x800000, CRC(95fe7646) SHA1(eec1a3a4dc5b5a960735147c29b976581a660628) )
+
+	ROM_REGION( 0x4000000, "cslot1:sprites", 0 )
+	ROM_LOAD16_BYTE( "272fe.c1", 0x0000000, 0x800000, CRC(ec9fda8d) SHA1(acc307e864d0ba15beb78a42edfa62941394ab9f) )
+	ROM_LOAD16_BYTE( "272fe.c2", 0x0000001, 0x800000, CRC(d2fc888d) SHA1(cffa2aed9581ac42db0672a25ae737885f4c2044) )
+	ROM_LOAD16_BYTE( "272fe.c3", 0x1000000, 0x800000, CRC(b0ea781b) SHA1(6e336952df4ec2d203a335e024ca85b912f7fa38) )
+	ROM_LOAD16_BYTE( "272fe.c4", 0x1000001, 0x800000, CRC(d34ac591) SHA1(dc429100fc26baaca70f6dbf9d1c4d837b85935e) )
+	ROM_LOAD16_BYTE( "272fe.c5", 0x2000000, 0x800000, CRC(1b5c1ea2) SHA1(7741344a640945770b9c97ccb3e30155874de9e8) )
+	ROM_LOAD16_BYTE( "272fe.c6", 0x2000001, 0x800000, CRC(deeaad58) SHA1(e718fb195af55c2df8a101cbb6b5a050c4cb14e3) )
+	ROM_LOAD16_BYTE( "272pf.c7", 0x3000000, 0x800000, CRC(af90afc8) SHA1(96957010046ed4493e18fc45582ce7a494b8f2b2) )
+	ROM_LOAD16_BYTE( "272pf.c8", 0x3000001, 0x800000, CRC(b14872da) SHA1(b043094f29305cdc8669feaf096ef4451778a408) )
+ROM_END
+
+GAME( 2020, samsh5pf,   samsh5sp, neobase, neogeo, mvs_led_state, empty_init, ROT0, "Yuki Enterprise / SNK Playmore", "Samurai Shodown V Perfect", MACHINE_SUPPORTS_SAVE )
+
diff -u -r a/src/mame/drivers/pgm.cpp b/src/mame/drivers/pgm.cpp
--- a/src/mame/drivers/pgm.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/mame/drivers/pgm.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -5598,7 +5598,7 @@
 //西遊釋厄傳Super/Xīyóu shì è chuán Super (Taiwan; Traditional Chinese)
 GAME( 1998, olds,         pgm,       pgm_028_025_ol,         olds,      pgm_028_025_state,    init_olds,    ROT0,   "IGS", "Oriental Legend Super / Xiyou Shi E Chuan Super (ver. 101, Korean Board)", MACHINE_IMPERFECT_SOUND | MACHINE_UNEMULATED_PROTECTION | MACHINE_SUPPORTS_SAVE ) /* region provided by protection device */
 GAME( 1998, olds100,      olds,      pgm_028_025_ol,         olds,      pgm_028_025_state,    init_olds,    ROT0,   "IGS", "Oriental Legend Special / Xiyou Shi E Chuan Super (ver. 100, set 1)", MACHINE_IMPERFECT_SOUND | MACHINE_UNEMULATED_PROTECTION | MACHINE_SUPPORTS_SAVE ) /* region provided by protection device */
-GAME( 1998, olds100a,     olds,      pgm_028_025_ol,         olds,      pgm_028_025_state,    init_olds,    ROT0,   "IGS", "Oriental Legend Special / Xiyou Shi E Chuan Super (ver. 100, set 2)", MACHINE_IMPERFECT_SOUND | MACHINE_UNEMULATED_PROTECTION | MACHINE_NOT_WORKING | MACHINE_SUPPORTS_SAVE ) /* region provided by protection device; OPCODE 1111 error at startup */
+GAME( 1998, olds100a,     olds,      pgm_028_025_ol,         olds,      pgm_028_025_state,    init_olds,    ROT0,   "IGS", "Oriental Legend Special / Xiyou Shi E Chuan Super (ver. 100, set 2)", MACHINE_IMPERFECT_SOUND | MACHINE_SUPPORTS_SAVE ) /* region provided by protection device; OPCODE 1111 error at startup */ // MAMEFX
 // This version was specially made for a Chinese online gaming company. While it may not be entirely suitable for MAME, it can give some insight into how protection should work.
 GAME( 1998, olds103t,     olds,      pgm,                    pgm,       pgm_state,            init_pgm,     ROT0,   "bootleg", "Xiyou Shi E Chuan Super (ver. 103, China, Tencent) (unprotected)", MACHINE_IMPERFECT_SOUND | MACHINE_SUPPORTS_SAVE ) // without overseas region
 
diff -u -r a/src/mame/drivers/scregg.cpp b/src/mame/drivers/scregg.cpp
--- a/src/mame/drivers/scregg.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/mame/drivers/scregg.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -281,7 +281,8 @@
 
 	/* video hardware */
 	SCREEN(config, m_screen, SCREEN_TYPE_RASTER);
-	m_screen->set_raw(XTAL(12'000'000)/2, 384, 8, 248, 272, 8, 248);
+	//m_screen->set_raw(XTAL(12'000'000)/2, 384, 8, 248, 272, 8, 248);   // MAMEFX
+	m_screen->set_raw(XTAL(12'000'000)/2, 384, 0, 256, 272, 8, 248);     // MAMEFX
 	m_screen->set_screen_update(FUNC(scregg_state::screen_update_eggs));
 	m_screen->set_palette(m_palette);
 
@@ -309,7 +310,8 @@
 
 	/* video hardware */
 	SCREEN(config, m_screen, SCREEN_TYPE_RASTER);
-	m_screen->set_raw(XTAL(12'000'000)/2, 384, 8, 248, 272, 8, 248);
+	//m_screen->set_raw(XTAL(12'000'000)/2, 384, 8, 248, 272, 8, 248);   // MAMEFX
+	m_screen->set_raw(XTAL(12'000'000)/2, 384, 0, 256, 272, 8, 248);     // MAMEFX
 	m_screen->set_screen_update(FUNC(scregg_state::screen_update_eggs));
 	m_screen->set_palette(m_palette);
 
diff -u -r a/src/mame/drivers/segac2.cpp b/src/mame/drivers/segac2.cpp
--- a/src/mame/drivers/segac2.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/mame/drivers/segac2.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -2719,3 +2719,92 @@
 GAME( 1996, pclubjv4,  0,        segac2, pclubjv2,        segac2_pc_state, init_pclubjv4, ROT0, "Atlus", "Print Club (Japan Vol.4)", MACHINE_NOT_WORKING )
 
 GAME( 1996, pclubjv5,  0,        segac2, pclubjv2,        segac2_pc_state, init_pclubjv5, ROT0, "Atlus", "Print Club (Japan Vol.5)", MACHINE_NOT_WORKING )
+
+
+// From here MAMEFX
+
+static INPUT_PORTS_START( ssonicbr )
+	PORT_INCLUDE( systemc_generic )
+	PORT_MODIFY("P1")
+	PORT_BIT( 0x02, IP_ACTIVE_LOW, IPT_UNUSED )     /* Button 2 Unused */
+	PORT_BIT( 0x04, IP_ACTIVE_LOW, IPT_UNUSED )     /* Button 3 Unused */
+	PORT_MODIFY("P2")
+	PORT_BIT( 0x02, IP_ACTIVE_LOW, IPT_UNUSED )     /* Button 2 Unused */
+	PORT_BIT( 0x04, IP_ACTIVE_LOW, IPT_UNUSED )     /* Button 3 Unused */
+	PORT_MODIFY("DSW")
+	PORT_DIPNAME( 0x01, 0x01, DEF_STR( Demo_Sounds ) ) PORT_DIPLOCATION("SW2:1")
+	PORT_DIPSETTING(    0x01, DEF_STR( On ) )
+	PORT_DIPSETTING(    0x00, DEF_STR( Off ) )
+	PORT_DIPUNKNOWN_DIPLOC( 0x02, IP_ACTIVE_LOW, "SW2:2" )
+	PORT_DIPUNKNOWN_DIPLOC( 0x04, IP_ACTIVE_LOW, "SW2:3" )
+	PORT_DIPUNKNOWN_DIPLOC( 0x08, IP_ACTIVE_LOW, "SW2:4" )
+	PORT_DIPUNKNOWN_DIPLOC( 0x10, IP_ACTIVE_LOW, "SW2:5" )
+	PORT_DIPUNKNOWN_DIPLOC( 0x20, IP_ACTIVE_LOW, "SW2:6" )
+	PORT_DIPUNKNOWN_DIPLOC( 0x40, IP_ACTIVE_LOW, "SW2:7" )
+	PORT_DIPUNKNOWN_DIPLOC( 0x80, IP_ACTIVE_LOW, "SW2:8" )
+INPUT_PORTS_END
+
+static INPUT_PORTS_START( ooparts )
+	PORT_INCLUDE( systemc_generic )
+
+	PORT_MODIFY("P1")
+	PORT_BIT( 0x04, IP_ACTIVE_LOW, IPT_UNUSED )     /* Button 3 Unused */
+
+	PORT_MODIFY("P2")
+	PORT_BIT( 0x04, IP_ACTIVE_LOW, IPT_UNUSED )     /* Button 3 Unused */
+
+	PORT_MODIFY("DSW")
+	PORT_DIPNAME( 0x01, 0x00, DEF_STR( Demo_Sounds ) ) PORT_DIPLOCATION("SW2:1")
+	PORT_DIPSETTING(    0x01, DEF_STR( Off ) )
+	PORT_DIPSETTING(    0x00, DEF_STR( On ) )
+	PORT_DIPNAME( 0x06, 0x06, DEF_STR( Difficulty ) ) PORT_DIPLOCATION("SW2:2,3")
+	PORT_DIPSETTING(    0x04, DEF_STR( Easy ) )
+	PORT_DIPSETTING(    0x06, DEF_STR( Medium ) )
+	PORT_DIPSETTING(    0x02, DEF_STR( Hard ) )
+	PORT_DIPSETTING(    0x00, DEF_STR( Hardest ) )
+	//"SW2:4" unused
+	//"SW2:5" unused
+	//"SW2:6" unused
+	//"SW2:7" unused
+	//"SW2:8" unused
+INPUT_PORTS_END
+
+
+
+ROM_START( ssonicbr )
+	ROM_REGION( 0x200000, "maincpu", 0 )
+	ROM_LOAD16_BYTE( "ssonicbr.ic32", 0x000000, 0x040000, CRC(cf254ecd) SHA1(4bb295ec80f8ddfeab4e360eebf12c5e2dfb9800) )
+	ROM_LOAD16_BYTE( "ssonicbr.ic31", 0x000001, 0x040000, CRC(03709746) SHA1(0b457f557da77acd3f43950428117c1decdfaf26) )
+
+	ROM_REGION( 0x020000, "upd", 0 )
+	ROM_LOAD( "ssonicbr.ic4", 0x000000, 0x020000, CRC(78e56a51) SHA1(8a72c12975cd74919b4337e0f681273e6b5cbbc6) )
+ROM_END
+
+ROM_START( ooparts )
+	ROM_REGION( 0x200000, "maincpu", 0 )
+	ROM_LOAD16_BYTE( "ooparts.ic32", 0x000000, 0x080000, CRC(8dcf2940) SHA1(f72630e8a26e7f2089da56878a1599268c355246) )
+	ROM_LOAD16_BYTE( "ooparts.ic31", 0x000001, 0x080000, CRC(35381899) SHA1(524f6e1b1292542079589275e20f45c2eb68605c) )
+	ROM_LOAD16_BYTE( "ooparts.ic34", 0x100000, 0x080000, CRC(7192ac29) SHA1(d3028a9bbb7faa733285cf7e47fd840ec0d0bf69) )
+	ROM_LOAD16_BYTE( "ooparts.ic33", 0x100001, 0x080000, CRC(42755dc2) SHA1(cd0aa79418b922266c5d41bf24b9136f9f105dc5) )
+
+	ROM_REGION( 0x040000, "upd", 0 )
+	ROM_LOAD( "ooparts.ic4", 0x000000, 0x040000, CRC(e09961f6) SHA1(e109b5f41502b765d191f22e3bbcff97d6defaa1) )
+ROM_END
+
+ROM_START( headonch )
+	ROM_REGION( 0x200000, "maincpu", 0 )
+	ROM_LOAD16_BYTE( "epr-16812.ic32", 0x000000, 0x080000, CRC(091cf538) SHA1(04673678f543743b395edea39ad4ee6177436dc0) )
+	ROM_LOAD16_BYTE( "epr-16811.ic31", 0x000001, 0x080000, CRC(91f3b5f1) SHA1(15cbe7a172dde7de7b73f0c9eeddfee41e8d1f80) )
+	ROM_LOAD16_BYTE( "epr-16814.ic34", 0x100000, 0x080000, CRC(d8dc6323) SHA1(e7e891324764641691dcb63e5222f2ed9207fb96) )
+	ROM_LOAD16_BYTE( "epr-16813.ic33", 0x100001, 0x080000, CRC(3268e38b) SHA1(10ded2be01465014ca9e6c64ffab1190ec985359) )
+
+	ROM_REGION( 0x040000, "upd", 0 )
+	ROM_LOAD( "epr-16810.ic4", 0x000000, 0x040000, CRC(90af7301) SHA1(227227cb5d0df6612bac7b4c94b99e2287686ccd) )
+ROM_END
+
+
+GAME( 1992, ssonicbr,  0, segac2, ssonicbr, segac2_state, init_bloxeedc, ROT0, "Sega", "SegaSonic Bros. (Japan, prototype)", 0 )
+GAME( 1992, ooparts,   0, segac2, ooparts,  segac2_state, init_tantr,    ROT270, "Success", "OOParts", 0 )
+GAME( 1994, headonch,  0, segac2, ichir,    segac2_state, init_tantr,    ROT0, "Sega", "Head On Channel (Japan)", 0 )
+
+
diff -u -r a/src/mame/drivers/simpsons.cpp b/src/mame/drivers/simpsons.cpp
--- a/src/mame/drivers/simpsons.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/mame/drivers/simpsons.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -319,7 +319,7 @@
 	m_maincpu->set_vblank_int("screen", FUNC(simpsons_state::simpsons_irq)); /* IRQ triggered by the 052109, FIRQ by the sprite hardware */
 	m_maincpu->line().set(FUNC(simpsons_state::banking_callback));
 
-	Z80(config, m_audiocpu, XTAL(3'579'545)); /* verified on pcb */
+	Z80(config, m_audiocpu, XTAL(3'579'545)*2); /* verified on pcb */    // MAMEFX
 	m_audiocpu->set_addrmap(AS_PROGRAM, &simpsons_state::z80_map);   /* NMIs are generated by the 053260 */
 
 	EEPROM_ER5911_8BIT(config, "eeprom");
diff -u -r a/src/mame/drivers/ssv.cpp b/src/mame/drivers/ssv.cpp
--- a/src/mame/drivers/ssv.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/mame/drivers/ssv.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -2642,7 +2642,7 @@
 	NVRAM(config, "nvram", nvram_device::DEFAULT_ALL_0);
 
 	/* video hardware */
-	m_screen->set_visarea(0, (0xcd-0x25)*2-1, 0, (0x101-0x13)-1);
+	m_screen->set_visarea(0, (0xcd-0x25)*2-1, 0, (0x101-0x13)-1+2);    // MAMEFX
 }
 
 void gdfs_state::gdfs(machine_config &config)
@@ -2838,7 +2838,8 @@
 	survarts(config);
 
 	/* video hardware */
-	m_screen->set_visarea(0, (0xd4-0x2c)*2-1, 0, (0x102 - 0x12)-1);
+	//m_screen->set_visarea(0, (0xd4-0x2c)*2-1, 0, (0x102 - 0x12)-1);    // MAMEFX
+	m_screen->set_visarea(8, 327, 0, 239);            // MAMEFX
 }
 
 void eaglshot_state::eaglshot(machine_config &config)
@@ -2913,7 +2914,8 @@
 	WATCHDOG_TIMER(config, "watchdog");
 
 	/* video hardware */
-	m_screen->set_visarea(0, (0xcb - 0x22)*2-1, 0, (0xfe - 0x0e)-1);
+	//m_screen->set_visarea(0, (0xcb - 0x22)*2-1, 0, (0xfe - 0x0e)-1);     // MAMEFX
+	m_screen->set_visarea(0, 335, 0, 239);        // MAMEFX
 }
 
 void ssv_state::twineag2(machine_config &config)
diff -u -r a/src/mame/drivers/thunderx.cpp b/src/mame/drivers/thunderx.cpp
--- a/src/mame/drivers/thunderx.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/mame/drivers/thunderx.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -631,7 +631,7 @@
 	KONAMI(config, m_maincpu, XTAL(24'000'000)/2/4); /* 052001 (verified on pcb) */
 	m_maincpu->set_addrmap(AS_PROGRAM, &thunderx_state::scontra_map);
 
-	Z80(config, m_audiocpu, XTAL(3'579'545)); /* verified on pcb */
+	Z80(config, m_audiocpu, XTAL(3'579'545)*2); /* verified on pcb */    // MAMEFX
 	m_audiocpu->set_addrmap(AS_PROGRAM, &thunderx_state::scontra_sound_map);
 
 	ADDRESS_MAP_BANK(config, m_bank5800).set_map(&thunderx_state::scontra_bank5800_map).set_options(ENDIANNESS_BIG, 8, 12, 0x800);
@@ -640,7 +640,7 @@
 
 	/* video hardware */
 	screen_device &screen(SCREEN(config, "screen", SCREEN_TYPE_RASTER));
-	screen.set_refresh_hz(59.17); /* verified on pcb */
+	screen.set_refresh_hz(57); /* verified on pcb */          // MAMEFX
 	screen.set_vblank_time(ATTOSECONDS_IN_USEC(0));
 	screen.set_size(64*8, 32*8);
 	screen.set_visarea(12*8, (64-12)*8-1, 2*8, 30*8-1); /* verified on scontra and thunderx PCBs */
@@ -690,6 +690,8 @@
 	m_maincpu->set_addrmap(AS_PROGRAM, &thunderx_state::thunderx_map);
 	m_maincpu->line().set(FUNC(thunderx_state::banking_callback));
 
+	config.device_remove("audiocpu");    // MAMEFX
+	Z80(config, m_audiocpu, XTAL(3'579'545)); /* verified on pcb */    // MAMEFX
 	m_audiocpu->set_addrmap(AS_PROGRAM, &thunderx_state::thunderx_sound_map);
 
 	m_bank5800->set_map(&thunderx_state::thunderx_bank5800_map).set_addr_width(13);
diff -u -r a/src/mame/drivers/vegas.cpp b/src/mame/drivers/vegas.cpp
--- a/src/mame/drivers/vegas.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/mame/drivers/vegas.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -1585,8 +1585,8 @@
 
 	PORT_MODIFY("IN1")
 	PORT_BIT( 0x000f, IP_ACTIVE_LOW, IPT_UNUSED)
-	PORT_BIT( 0x0010, IP_ACTIVE_LOW, IPT_BUTTON2 ) PORT_NAME("Brake")
-	PORT_BIT( 0x0020, IP_ACTIVE_LOW, IPT_BUTTON3 ) PORT_NAME("Music")
+	PORT_BIT( 0x0010, IP_ACTIVE_LOW, IPT_BUTTON2 ) PORT_CODE(KEYCODE_LALT) PORT_NAME("Brake")    // MAMEFX
+	PORT_BIT( 0x0020, IP_ACTIVE_LOW, IPT_BUTTON3 ) PORT_CODE(KEYCODE_Z) PORT_NAME("Music")       // MAMEFX
 	PORT_BIT( 0xff40, IP_ACTIVE_LOW, IPT_UNUSED )
 
 	PORT_MODIFY("AN.0")
diff -u -r a/src/mame/drivers/vendetta.cpp b/src/mame/drivers/vendetta.cpp
--- a/src/mame/drivers/vendetta.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/mame/drivers/vendetta.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -428,7 +428,7 @@
 	m_maincpu->set_vblank_int("screen", FUNC(vendetta_state::irq));
 	m_maincpu->line().set(FUNC(vendetta_state::banking_callback));
 
-	Z80(config, m_audiocpu, XTAL(3'579'545)); /* verified with PCB */
+	Z80(config, m_audiocpu, XTAL(3'579'545)*2); /* verified with PCB */    // MAMEFX
 	m_audiocpu->set_addrmap(AS_PROGRAM, &vendetta_state::sound_map); /* interrupts are triggered by the main CPU */
 
 	EEPROM_ER5911_8BIT(config, "eeprom");
diff -u -r a/src/mame/drivers/xmen.cpp b/src/mame/drivers/xmen.cpp
--- a/src/mame/drivers/xmen.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/mame/drivers/xmen.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -326,7 +326,7 @@
 	m_screen->set_refresh_hz(59.17);   /* verified on pcb */
 	m_screen->set_vblank_time(ATTOSECONDS_IN_USEC(0));
 	m_screen->set_size(64*8, 32*8);
-	m_screen->set_visarea(13*8, (64-13)*8-1, 2*8, 30*8-1 );   /* correct, same issue of tmnt2 */
+	m_screen->set_visarea(14*8, (64-14)*8-1, 2*8, 30*8-1 );   // MAMEFX
 	m_screen->set_screen_update(FUNC(xmen_state::screen_update_xmen));
 	m_screen->set_palette("palette");
 
diff -u -r a/src/mame/etc/opwolf_cchip.txt b/src/mame/etc/opwolf_cchip.txt
--- a/src/mame/etc/opwolf_cchip.txt	2021-08-26 08:44:17.000000000 +0200
+++ b/src/mame/etc/opwolf_cchip.txt	2021-08-27 05:18:52.000000000 +0200
@@ -106,11 +106,11 @@
     Bootleg doesn't support service switch
     If you die after round 6 then the bootleg fails to reset the difficulty
       for the next game.
-    The bootleg does not contain data for the 3 mini-levels ('Enemy has located you'),
-      instead it prevents them running by writing 0 to location 70 in the shared memory.
-    The bootleg does not play the special powder magazine (level 4) animation.
-    The bootleg does not vertically scroll the screen when all men killed in level 5
-    The bootleg does not update the enemy spawn tables at various points.
+	The bootleg does not contain data for the 3 mini-levels ('Enemy has located you'),
+	  instead it prevents them running by writing 0 to location 70 in the shared memory.
+	The bootleg does not play the special powder magazine (level 4) animation.
+	The bootleg does not vertically scroll the screen when all men killed in level 5
+	The bootleg does not update the enemy spawn tables at various points.
 
   Notes by bmcphail@vcmame.net
 
@@ -652,9 +652,9 @@
 {
 	//int logValue=1;
 	//if (offset==0x1c && offset==0x1d && offset==0x1e && offset==0x1f && offset==0x20) // Enemies, tanks, choppers, boats
-	//  logValue=0;
+	//	logValue=0;
 	//if (offset==0x50 && offset==0x51 && offset==0x52 && offset==0x53) // Coins
-	//  logValue=0;
+	//	logValue=0;
 	//if (logValue)
 	//  logerror("%s:  opwolf 68K writes c-chip %02x at %04x/%04x (bank %04x)\n", machine().describe_context(), data & 0xff, offset*2, offset, m_current_bank);
 
@@ -762,7 +762,7 @@
 
 	//int logValue=1;
 	//if (offset==0x1c || offset==0x1d || offset==0x1e || offset==0x1f || offset==0x20) // Enemies, tanks, choppers, boats
-	//  logValue=0;
+	//	logValue=0;
 	//if (offset==0x50 || offset==0x51 || offset==0x52 || offset==0x53) // Coins
 	//  logValue=0;
 	//if (m_maincpu->pc()==0xc18 && m_maincpu->pc()!=0xc2e && m_maincpu->pc()!=0xc9e)
@@ -788,7 +788,7 @@
 	// Dev Cheat -  kill all enemeies
 	//if ((ioport("IN1")->read()&0x10)!=0x10)
 	//{
-	//  m_cchip_ram[0x1c] = m_cchip_ram[0x1d] = m_cchip_ram[0x1e] = m_cchip_ram[0x1f] = m_cchip_ram[0x20] = 0;
+	//	m_cchip_ram[0x1c] = m_cchip_ram[0x1d] = m_cchip_ram[0x1e] = m_cchip_ram[0x1f] = m_cchip_ram[0x20] = 0;
 	//}
 
 	// Coin slots
@@ -873,7 +873,7 @@
 		// starts the 'WARNING' sequences for the boss.
 		else if (m_cchip_ram[0x1b] == 0x2)
 		{
-			if (m_triggeredLevel2==0 && m_cchip_ram[0x5f]==0) // Don't write unless 68K is ready (0 at 0x5f)
+			if (m_triggeredLevel2==0)
 			{
 				m_cchip_ram[0x5f] = 4; // 0xBE at 68K side
 				m_triggeredLevel2=1;
@@ -885,7 +885,6 @@
 			{
 				// Signal end of level
 				m_cchip_ram[0x32] = 1;
-				m_cchip_ram[0x5d] = 0; // acknowledge 68K command
 			}
 		}
 		else if (m_cchip_ram[0x1b] == 0x4)
@@ -893,11 +892,10 @@
 			m_cchip_ram[0x32] = 1;
 
 			// When level 4 (powder magazine) is complete the c-chip triggers an explosion animation.
-			if (m_triggeredLevel4==0 && m_cchip_ram[0x5f]==0) // Don't write unless 68K is ready (0 at 0x5f))
-			{
+			if (m_triggeredLevel4==0)
 				m_cchip_ram[0x5f]=10;
-				m_triggeredLevel4=1;
-			}
+
+			m_triggeredLevel4=1;
 		}
 		else
 		{
@@ -913,21 +911,21 @@
 	if (m_cchip_ram[0x1c] == 0 && m_cchip_ram[0x1d] == 0)
 	{
 		// Compare code at 0x96DC in prototype with 0xC3A2 in protected version
-		if (m_cchip_ram[0x1b] == 0x1 && m_triggeredLevel1b==0 && m_cchip_ram[0x5f]==0) // Don't write unless 68K is ready (0 at 0x5f))
+		if (m_cchip_ram[0x1b] == 0x1 && m_triggeredLevel1b==0)
 		{
 			m_cchip_ram[0x5f]=7;
 			m_triggeredLevel1b=1;
 		}
 
 		// Compare code at 0x96BC in prototype with 0xC3B2 in protected version
-		if (m_cchip_ram[0x1b] == 0x3 && m_triggeredLevel3b==0 && m_cchip_ram[0x5f]==0) // Don't write unless 68K is ready (0 at 0x5f))
+		if (m_cchip_ram[0x1b] == 0x3 && m_triggeredLevel3b==0)
 		{
 			m_cchip_ram[0x5f]=8;
 			m_triggeredLevel3b=1;
 		}
 
 		// Compare code at 0x96BC in prototype with 0xC3C8 in protected version
-		if ((m_cchip_ram[0x1b] != 0x1 && m_cchip_ram[0x1b] != 0x3) && m_triggeredLevel13b==0 && m_cchip_ram[0x5f]==0) // Don't write unless 68K is ready (0 at 0x5f))
+		if ((m_cchip_ram[0x1b] != 0x1 && m_cchip_ram[0x1b] != 0x3) && m_triggeredLevel13b==0)
 		{
 			m_cchip_ram[0x5f]=9;
 			m_triggeredLevel13b=1;
@@ -942,15 +940,14 @@
 	if (m_cchip_ram[0x1b] == 0x2)
 	{
 		// (Note:  it's correct that 25 decimal is represented as 0x25 in hex here).
-		int numMen=(m_cchip_ram[0x1d]<<8) + m_cchip_ram[0x1c];
-		if (numMen<0x25 && m_triggeredLevel2b==1 && m_triggeredLevel2c==0 && m_cchip_ram[0x5f]==0) // Don't write unless 68K is ready (0 at 0x5f))
+		if (((m_cchip_ram[0x1d]<<8) + m_cchip_ram[0x1c])<0x25 && m_triggeredLevel2b==1 && m_triggeredLevel2c==0)
 		{
 			m_cchip_ram[0x5f]=6;
 			m_triggeredLevel2c=1;
 		}
 
 		// (Note:  it's correct that 45 decimal is represented as 0x45 in hex here).
-		if (numMen<0x45 && m_triggeredLevel2b==0 && m_cchip_ram[0x5f]==0) // Don't write unless 68K is ready (0 at 0x5f))
+		if (((m_cchip_ram[0x1d]<<8) + m_cchip_ram[0x1c])<0x45 && m_triggeredLevel2b==0)
 		{
 			m_cchip_ram[0x5f]=5;
 			m_triggeredLevel2b=1;
@@ -1041,7 +1038,7 @@
 
 	//-------------------------------------------------------------------------------------------------
 	// Start of level 7 - should trigger '1' in level thread table (compare 0xC164 in protected to 0x9468 in unprotected)
-	if (m_cchip_ram[0x1b] == 0x7 && m_triggeredLevel7==0 && m_cchip_ram[0x5f]==0) // Don't write unless 68K is ready (0 at 0x5f))
+	if (m_cchip_ram[0x1b] == 0x7 && m_triggeredLevel7==0)
 	{
 		m_triggeredLevel7 = 1;
 		m_cchip_ram[0x5f] = 1;
@@ -1050,7 +1047,7 @@
 	//-------------------------------------------------------------------------------------------------
 	// Start of level 8 - should trigger '2' in level thread table (compare 0xC18E in protected to 0x9358 in unprotected)
 	// This controls the 'zoom in helicopters' enemy
-	if (m_cchip_ram[0x1b] == 0x8 && m_triggeredLevel8==0 && m_cchip_ram[0x5f]==0) // Don't write unless 68K is ready (0 at 0x5f))
+	if (m_cchip_ram[0x1b] == 0x8 && m_triggeredLevel8==0)
 	{
 		m_triggeredLevel8 = 1;
 		m_cchip_ram[0x5f] = 2;
@@ -1059,7 +1056,7 @@
 	//-------------------------------------------------------------------------------------------------
 	// Start of level 9 - should trigger '3' in level thread table (compare 0xC1B0 in protected to 0x9500 in unprotected)
 	// This controls the 'zoom in helicopters' enemy
-	if (m_cchip_ram[0x1b] == 0x9 && m_triggeredLevel9==0 && m_cchip_ram[0x5f]==0) // Don't write unless 68K is ready (0 at 0x5f))
+	if (m_cchip_ram[0x1b] == 0x9 && m_triggeredLevel9==0)
 	{
 		m_triggeredLevel9 = 1;
 		m_cchip_ram[0x5f] = 3;
diff -u -r a/src/mame/includes/cps1.h b/src/mame/includes/cps1.h
--- a/src/mame/includes/cps1.h	2021-08-26 08:44:17.000000000 +0200
+++ b/src/mame/includes/cps1.h	2021-08-27 05:18:52.000000000 +0200
@@ -280,6 +280,7 @@
 	void cps1_render_layer(screen_device &screen, bitmap_ind16 &bitmap, const rectangle &cliprect, int layer, int primask);
 	void cps1_render_high_layer(screen_device &screen, bitmap_ind16 &bitmap, const rectangle &cliprect, int layer);
 
+protected:
 	/* memory pointers */
 	optional_shared_ptr<uint16_t> m_mainram;
 	required_shared_ptr<uint16_t> m_gfxram;
diff -u -r a/src/mame/includes/m72.h b/src/mame/includes/m72.h
--- a/src/mame/includes/m72.h	2021-08-26 08:44:17.000000000 +0200
+++ b/src/mame/includes/m72.h	2021-08-27 05:18:52.000000000 +0200
@@ -102,6 +102,9 @@
 	void init_dbreedm72();
 	void init_airduelm72();
 	void init_nspirit();
+	void init_loht();
+	void init_lohtb();     // MAMEFX
+	void init_imgfight();
 
 private:
 	required_device<cpu_device> m_maincpu;
diff -u -r a/src/mame/includes/neogeo.h b/src/mame/includes/neogeo.h
--- a/src/mame/includes/neogeo.h	2021-08-26 08:44:17.000000000 +0200
+++ b/src/mame/includes/neogeo.h	2021-08-27 05:18:52.000000000 +0200
@@ -108,6 +108,7 @@
 	void neogeo_stereo(machine_config &config);
 
 	void base_main_map(address_map &map);
+//>>>>>>> upstream/master
 	void audio_io_map(address_map &map);
 	void audio_map(address_map &map);
 
diff -u -r a/src/mame/mame.lst b/src/mame/mame.lst
--- a/src/mame/mame.lst	2021-08-26 08:44:17.000000000 +0200
+++ b/src/mame/mame.lst	2021-08-27 05:18:52.000000000 +0200
@@ -17022,7 +17022,7 @@
 mgdha                           // (c) 1997
 sdmg2                           // (c) 1997
 slqz2                           // (c) 1998
-spkrform                        // (c) ????
+//spkrform                        // (c) ????    // gambling game (poker)
 starzan                         // (c) 2000?
 tarzan                          // (c) 1999
 tarzana                         // (c) 1999
@@ -32698,6 +32698,7 @@
 zedblade                        // 0076 (c) 1994 NMK
 zintrckb                        // 0211 hack - this is not a genuine MVS proto, its a bootleg made from the CD version
 zupapa                          // 0070 Zupapa - released in 2001, 1994 prototype probably exists
+samsh5pf
 
 @source:neopcb.cpp
 kf2k3pcb                        // 0271 (c) 2003 Playmore - JAMMA PCB
@@ -37168,6 +37169,9 @@
 twinsqua                        // (c) 1991 Sega
 wwmarine                        // (c) 1992 Sega
 zunkyou                         // (c) 1994 Sega
+headonch                        // MAMEFX
+ooparts                         // MAMEFX
+ssonicbr                        // MAMEFX
 
 @source:segacoin.cpp
 westdrm                         //
@@ -39408,7 +39412,7 @@
 st_vulkn                        //
 
 @source:stfight.cpp
-cshootert                       // (c) 1987 Taito
+//cshootert                       // (c) 1987 Taito // parent not enabled
 empcity                         // (c) 1986 Seibu Kaihatsu (bootleg?)
 empcityfr                       // (c) 1986 Seibu Kaihatsu (Norad license)
 empcityi                        // (c) 1986 Seibu Kaihatsu (Eurobed license)
diff -u -r a/src/mame/video/cidelsa.cpp b/src/mame/video/cidelsa.cpp
--- a/src/mame/video/cidelsa.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/mame/video/cidelsa.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -155,7 +155,8 @@
 	SPEAKER(config, "mono").front_center();
 	CDP1869(config, m_vis, DESTRYER_CHR2, &cidelsa_state::cidelsa_page_ram);
 	screen_device &screen(m_vis->add_pal_screen(config, SCREEN_TAG, DESTRYER_CHR2));
-	screen.set_default_position(1.226, 0.012, 1.4, 0.044);
+	screen.set_default_position(1.220, 0.012, 1.462, 0.062);              // MAMEFX
+	//screen.set_default_position(1.226, 0.012, 1.4, 0.044);      // MAMEFX
 	m_vis->set_pcb_read_callback(FUNC(cidelsa_state::cidelsa_pcb_r));
 	m_vis->set_char_ram_read_callback(FUNC(cidelsa_state::cidelsa_charram_r));
 	m_vis->set_char_ram_write_callback(FUNC(cidelsa_state::cidelsa_charram_w));
@@ -169,7 +170,8 @@
 	SPEAKER(config, "mono").front_center();
 	CDP1869(config, m_vis, ALTAIR_CHR2, &cidelsa_state::cidelsa_page_ram);
 	screen_device &screen(m_vis->add_pal_screen(config, SCREEN_TAG, ALTAIR_CHR2));
-	screen.set_default_position(1.226, 0.012, 1.4, 0.044);
+	screen.set_default_position(1.220, 0.012, 1.462, 0.062);              // MAMEFX
+	//screen.set_default_position(1.226, 0.012, 1.4, 0.044);      // MAMEFX
 	m_vis->set_pcb_read_callback(FUNC(cidelsa_state::cidelsa_pcb_r));
 	m_vis->set_char_ram_read_callback(FUNC(cidelsa_state::cidelsa_charram_r));
 	m_vis->set_char_ram_write_callback(FUNC(cidelsa_state::cidelsa_charram_w));
diff -u -r a/src/mame/video/cps1.cpp b/src/mame/video/cps1.cpp
--- a/src/mame/video/cps1.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/mame/video/cps1.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -2679,9 +2679,15 @@
 
 				bright = 0x0f + ((palette >> 12) << 1);
 
-				r = ((palette >> 8) & 0x0f) * 0x11 * bright / 0x2d;
-				g = ((palette >> 4) & 0x0f) * 0x11 * bright / 0x2d;
-				b = ((palette >> 0) & 0x0f) * 0x11 * bright / 0x2d;
+				// MAMEFX start
+				// New code to get rid of grey squares
+				r = (palette >> 8) & 0x0f;
+				g = (palette >> 4) & 0x0f;
+				b = palette & 0x0f;
+				r = (r > 1) ? r * 0x11 * bright / 0x2d : 0;
+				g = (g > 1) ? g * 0x11 * bright / 0x2d : 0;
+				b = (b > 1) ? b * 0x11 * bright / 0x2d : 0;
+				// MAMEFX end
 
 				m_palette->set_pen_color(0x200 * page + offset, rgb_t(r, g, b));
 			}
@@ -3384,7 +3390,15 @@
 	{
 		// CPS1 games use pen 0xbff as background color; this is used in 3wonders,
 		// mtwins (explosion during attract), mercs (intermission).
-		bitmap.fill(0xbff, cliprect);
+		if ((strcmp(machine().system().name, "mtwins") == 0) ||
+			(strcmp(machine().system().name, "chikij") == 0) ||
+			(strcmp(machine().system().name, "mercs") == 0) ||
+			(strcmp(machine().system().name, "mercsu") == 0) ||
+			(strcmp(machine().system().name, "mercsur1") == 0) ||
+			(strcmp(machine().system().name, "mercsj") == 0))
+			bitmap.fill(0xbff, cliprect);
+		else
+			bitmap.fill(m_palette->black_pen(), cliprect);
 	}
 	else
 	{
diff -u -r a/src/mame/video/mystwarr.cpp b/src/mame/video/mystwarr.cpp
--- a/src/mame/video/mystwarr.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/mame/video/mystwarr.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -228,10 +228,10 @@
 	konamigx_mixer_init(*m_screen, 0);
 
 	// other reference, floor at first boss
-	m_k056832->set_layer_offs(0, -2+4, 0); // text
-	m_k056832->set_layer_offs(1,  0+4, 0); // attract sea
-	m_k056832->set_layer_offs(2,  2+4, 0); // attract red monster in background of sea
-	m_k056832->set_layer_offs(3,  3+4, 0); // attract sky background to sea
+	m_k056832->set_layer_offs(0, -2+4, +2); // text
+	m_k056832->set_layer_offs(1,  0+4, +2); // attract sea
+	m_k056832->set_layer_offs(2,  2+4, +2); // attract red monster in background of sea
+	m_k056832->set_layer_offs(3,  3+4, +2); // attract sky background to sea
 }
 
 VIDEO_START_MEMBER(mystwarr_state, viostorm)
diff -u -r a/src/mame/video/namconb1.cpp b/src/mame/video/namconb1.cpp
--- a/src/mame/video/namconb1.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/mame/video/namconb1.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -83,6 +83,7 @@
 
 void namconb1_state::video_update_common(screen_device &screen, bitmap_ind16 &bitmap, const rectangle &cliprect)
 {
+	const rectangle &visarea_sprites = m_screen->visible_area();
 	int pri;
 
 	if (m_c169roz)
@@ -101,8 +102,26 @@
 	{
 		for (pri = 0; pri < 8; pri++)
 		{
-			m_c123tmap->draw(screen, bitmap, cliprect, pri);
-			m_c355spr->draw(screen, bitmap, cliprect, pri);
+// MAMEFX start
+			if (m_pos_irq_level != 0 && pri >= 5) // raster interrupt enabled
+			{
+				if (pri == 5)
+					m_c123tmap->draw( screen, bitmap, cliprect, pri );
+				if (cliprect.max_y == visarea_sprites.max_y) // no raster on sprites?? faster!
+				{
+					if (pri != 5)
+						m_c123tmap->draw( screen, bitmap, visarea_sprites, pri );
+					m_c355spr->draw(screen, bitmap, visarea_sprites, pri );
+				}
+			}
+			else
+			{
+				m_c123tmap->draw( screen, bitmap, cliprect, pri );
+				m_c355spr->draw(screen, bitmap, cliprect, pri );
+			}
+//			m_c123tmap->draw( screen, bitmap, cliprect, pri );
+//			m_c355spr->draw(screen, bitmap, cliprect, pri );
+// MAMEFX end
 		}
 	}
 } /* video_update_common */
diff -u -r a/src/mame/video/nemesis.cpp b/src/mame/video/nemesis.cpp
--- a/src/mame/video/nemesis.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/mame/video/nemesis.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -164,9 +164,9 @@
 	{
 		RES_NET_VCC_5V | RES_NET_VBIAS_5V | RES_NET_VIN_OPEN_COL,
 		{
-			{ RES_NET_AMP_EMITTER, 1000, 0, 5, { 4700, 2400, 1200, 620, 300 } },
-			{ RES_NET_AMP_EMITTER, 1000, 0, 5, { 4700, 2400, 1200, 620, 300 } },
-			{ RES_NET_AMP_EMITTER, 1000, 0, 5, { 4700, 2400, 1200, 620, 300 } }
+			{ RES_NET_AMP_EMITTER, 1000, 470, 5, { 4700, 2400, 1200, 620, 300 } },
+			{ RES_NET_AMP_EMITTER, 1000, 470, 5, { 4700, 2400, 1200, 620, 300 } },
+			{ RES_NET_AMP_EMITTER, 1000, 470, 5, { 4700, 2400, 1200, 620, 300 } }
 		}
 	};
 
diff -u -r a/src/mame/video/neogeo_spr.cpp b/src/mame/video/neogeo_spr.cpp
--- a/src/mame/video/neogeo_spr.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/mame/video/neogeo_spr.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -265,7 +265,7 @@
  *************************************/
 
 #define MAX_SPRITES_PER_SCREEN    (381)
-#define MAX_SPRITES_PER_LINE      (96)
+#define MAX_SPRITES_PER_LINE      (192)
 
 
 /* horizontal zoom table - verified on real hardware */
@@ -520,9 +520,8 @@
 {
 	int scanline = param;
 
-	/* we are at the beginning of a scanline -
-	   we need to draw the previous scanline and parse the sprites on the current one */
-	if (scanline != 0)
+	/* we are at the beginning of a scanline */
+	if (scanline)
 		screen().update_partial(scanline - 1);
 
 	parse_sprites(scanline);
diff -u -r a/src/mame/video/tc0100scn.cpp b/src/mame/video/tc0100scn.cpp
--- a/src/mame/video/tc0100scn.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/mame/video/tc0100scn.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -280,6 +280,14 @@
 	m_tilemap[2][0]->set_scrolldx(xd - 16, -m_flip_text_xoffs - xd - 16 - 7);
 	m_tilemap[2][0]->set_scrolldy(yd,      -m_flip_text_yoffs - yd);
 
+	if ((strcmp(machine().system().name, "megablst") == 0) ||
+		(strcmp(machine().system().name, "megablstu") == 0) ||
+		(strcmp(machine().system().name, "megablstj") == 0) ||
+		(strcmp(machine().system().name, "finalb") == 0) ||
+		(strcmp(machine().system().name, "finalbu") == 0) ||
+		(strcmp(machine().system().name, "finalbj") == 0))
+		m_tilemap[2][0]->set_scrolldy(yd - 1,      -m_flip_text_yoffs - (yd - 1));
+
 	/* Double width tilemaps. We must correct offsets for
 	   extra chips, as MAME sees offsets from LHS of whole
 	   display not from the edges of individual screens.
diff -u -r a/src/osd/modules/lib/osdobj_common.cpp b/src/osd/modules/lib/osdobj_common.cpp
--- a/src/osd/modules/lib/osdobj_common.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/osd/modules/lib/osdobj_common.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -59,7 +59,6 @@
 	{ OSDOPTION_WINDOW ";w",                  "0",              OPTION_BOOLEAN,   "enable window mode; otherwise, full screen mode is assumed" },
 	{ OSDOPTION_MAXIMIZE ";max",              "1",              OPTION_BOOLEAN,   "default to maximized windows" },
 	{ OSDOPTION_WAITVSYNC ";vs",              "0",              OPTION_BOOLEAN,   "enable waiting for the start of VBLANK before flipping screens (reduces tearing effects)" },
-	{ OSDOPTION_SYNCREFRESH ";srf",           "0",              OPTION_BOOLEAN,   "enable using the start of VBLANK for throttling instead of the game time" },
 	{ OSD_MONITOR_PROVIDER,                   OSDOPTVAL_AUTO,   OPTION_STRING,    "monitor discovery method: " },
 
 	// per-window options
@@ -99,12 +98,14 @@
 
 #if USE_OPENGL
 	{ nullptr,                                nullptr,          OPTION_HEADER,    "OpenGL-SPECIFIC OPTIONS" },
+//	{ OSDOPTION_GLSLPATH,                     "glsl",           OPTION_STRING,    "path to glsl shader files" },
 	{ OSDOPTION_GL_FORCEPOW2TEXTURE,          "0",              OPTION_BOOLEAN,   "force power-of-two texture sizes (default no)" },
 	{ OSDOPTION_GL_NOTEXTURERECT,             "0",              OPTION_BOOLEAN,   "don't use OpenGL GL_ARB_texture_rectangle (default on)" },
 	{ OSDOPTION_GL_VBO,                       "1",              OPTION_BOOLEAN,   "enable OpenGL VBO if available (default on)" },
 	{ OSDOPTION_GL_PBO,                       "1",              OPTION_BOOLEAN,   "enable OpenGL PBO if available (default on)" },
 	{ OSDOPTION_GL_GLSL,                      "0",              OPTION_BOOLEAN,   "enable OpenGL GLSL if available (default off)" },
 	{ OSDOPTION_GLSL_FILTER,                  "1",              OPTION_STRING,    "enable OpenGL GLSL filtering instead of FF filtering 0-plain, 1-bilinear (default), 2-bicubic" },
+	{ OSDOPTION_GLSL_SYNC,                    "0",              OPTION_BOOLEAN,   "enable OpenGL synchrony feature with performance loss (default off)" },
 	{ OSDOPTION_SHADER_MAME "0",              OSDOPTVAL_NONE,   OPTION_STRING,    "custom OpenGL GLSL shader set mame bitmap 0" },
 	{ OSDOPTION_SHADER_MAME "1",              OSDOPTVAL_NONE,   OPTION_STRING,    "custom OpenGL GLSL shader set mame bitmap 1" },
 	{ OSDOPTION_SHADER_MAME "2",              OSDOPTVAL_NONE,   OPTION_STRING,    "custom OpenGL GLSL shader set mame bitmap 2" },
diff -u -r a/src/osd/modules/lib/osdobj_common.h b/src/osd/modules/lib/osdobj_common.h
--- a/src/osd/modules/lib/osdobj_common.h	2021-08-26 08:44:17.000000000 +0200
+++ b/src/osd/modules/lib/osdobj_common.h	2021-08-27 05:18:52.000000000 +0200
@@ -51,7 +51,6 @@
 #define OSDOPTION_WINDOW                "window"
 #define OSDOPTION_MAXIMIZE              "maximize"
 #define OSDOPTION_WAITVSYNC             "waitvsync"
-#define OSDOPTION_SYNCREFRESH           "syncrefresh"
 
 #define OSDOPTION_SCREEN                "screen"
 #define OSDOPTION_ASPECT                "aspect"
@@ -63,6 +62,7 @@
 #define OSDOPTION_FILTER                "filter"
 #define OSDOPTION_PRESCALE              "prescale"
 
+//#define OSDOPTION_GLSLPATH             	"glslpath"
 #define OSDOPTION_SHADER_MAME           "glsl_shader_mame"
 #define OSDOPTION_SHADER_SCREEN         "glsl_shader_screen"
 #define OSDOPTION_GLSL_FILTER           "gl_glsl_filter"
@@ -71,6 +71,7 @@
 #define OSDOPTION_GL_VBO                "gl_vbo"
 #define OSDOPTION_GL_NOTEXTURERECT      "gl_notexturerect"
 #define OSDOPTION_GL_FORCEPOW2TEXTURE   "gl_forcepow2texture"
+#define OSDOPTION_GLSL_SYNC           	"gl_glsl_sync"
 
 #define OSDOPTION_SOUND                 "sound"
 #define OSDOPTION_AUDIO_LATENCY         "audio_latency"
@@ -123,7 +124,6 @@
 	bool window() const { return bool_value(OSDOPTION_WINDOW); }
 	bool maximize() const { return bool_value(OSDOPTION_MAXIMIZE); }
 	bool wait_vsync() const { return bool_value(OSDOPTION_WAITVSYNC); }
-	bool sync_refresh() const { return bool_value(OSDOPTION_SYNCREFRESH); }
 
 	// per-window options
 	const char *screen() const { return value(OSDOPTION_SCREEN); }
@@ -143,12 +143,14 @@
 	int prescale() const { return int_value(OSDOPTION_PRESCALE); }
 
 	// OpenGL specific options
+//	const char *glsl_path() const { return value(OSDOPTION_GLSLPATH); }
 	bool gl_force_pow2_texture() const { return bool_value(OSDOPTION_GL_FORCEPOW2TEXTURE); }
 	bool gl_no_texture_rect() const { return bool_value(OSDOPTION_GL_NOTEXTURERECT); }
 	bool gl_vbo() const { return bool_value(OSDOPTION_GL_VBO); }
 	bool gl_pbo() const { return bool_value(OSDOPTION_GL_PBO); }
 	bool gl_glsl() const { return bool_value(OSDOPTION_GL_GLSL); }
 	int glsl_filter() const { return int_value(OSDOPTION_GLSL_FILTER); }
+	bool glsl_sync() const { return bool_value(OSDOPTION_GLSL_SYNC); }
 	const char *shader_mame(int index) const { return value(string_format("%s%d", OSDOPTION_SHADER_MAME, index)); }
 	const char *shader_screen(int index) const { return value(string_format("%s%d", OSDOPTION_SHADER_SCREEN, index)); }
 
diff -u -r a/src/osd/modules/osdwindow.h b/src/osd/modules/osdwindow.h
--- a/src/osd/modules/osdwindow.h	2021-08-26 08:44:17.000000000 +0200
+++ b/src/osd/modules/osdwindow.h	2021-08-27 05:18:52.000000000 +0200
@@ -291,6 +291,7 @@
 	int                 vbo;
 	int                 allowtexturerect;   // allow GL_ARB_texture_rectangle, default: no
 	int                 forcepow2texture;   // force power of two textures, default: no
+	int					glsl_sync;
 
 	// dd, d3d
 	int                 triplebuf;                  // triple buffer
diff -u -r a/src/osd/modules/render/drawd3d.cpp b/src/osd/modules/render/drawd3d.cpp
--- a/src/osd/modules/render/drawd3d.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/osd/modules/render/drawd3d.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -1059,39 +1059,40 @@
 	// verify device capabilities
 	if (!(caps.DevCaps & D3DDEVCAPS_CANRENDERAFTERFLIP))
 	{
-		osd_printf_error("Direct3D Error: Your graphics card does not support rendering after a page\n");
-		osd_printf_error("flip.\n");
+		osd_printf_verbose("Direct3D Error: Your graphics card does not support rendering after a page\n");
+		osd_printf_verbose("flip.\n");
 		success = false;
 	}
 
 	if (!(caps.DevCaps & D3DDEVCAPS_HWRASTERIZATION))
 	{
-		osd_printf_error("Direct3D Error: Your graphics card does not support hardware rendering.\n");
+		osd_printf_verbose("Direct3D Error: Your graphics card does not support hardware rendering.\n");
 		success = false;
 	}
 
 	// verify texture operation capabilities
 	if (!(caps.TextureOpCaps & D3DTEXOPCAPS_MODULATE))
 	{
-		osd_printf_error("Direct3D Error: Your graphics card does not support modulate-type blending.\n");
+		osd_printf_verbose("Direct3D Error: Your graphics card does not support modulate-type blending.\n");
 		success = false;
 	}
 
 	if (caps.TextureCaps & D3DPTEXTURECAPS_NONPOW2CONDITIONAL)
 	{
-		osd_printf_error("Direct3D Error: Your graphics card does not fully support non-power-of-two\n");
-		osd_printf_error("textures.\n");
+		osd_printf_verbose("Direct3D Error: Your graphics card does not fully support non-power-of-two\n");
+		osd_printf_verbose("textures.\n");
 		success = false;
 	}
 
 	if (caps.TextureCaps & D3DPTEXTURECAPS_POW2)
 	{
-		osd_printf_error("Direct3D Error: Your graphics card does not support non-power-of-two textures.\n");
+		osd_printf_verbose("Direct3D Error: Your graphics card does not support non-power-of-two textures.\n");
 		success = false;
 	}
+
 	if (caps.TextureCaps & D3DPTEXTURECAPS_SQUAREONLY)
 	{
-		osd_printf_error("Direct3D Error: Your graphics card does not support non-square textures.\n");
+		osd_printf_verbose("Direct3D Error: Your graphics card does not support non-square textures.\n");
 		success = false;
 	}
 
@@ -1099,16 +1100,16 @@
 	result = d3dintf->d3dobj->CheckDeviceFormat(m_adapter, D3DDEVTYPE_HAL, m_pixformat, 0, D3DRTYPE_TEXTURE, D3DFMT_A8R8G8B8);
 	if (FAILED(result))
 	{
-		osd_printf_error("Direct3D Error: Your graphics card does not support the A8R8G8B8 texture format.\n");
+		osd_printf_verbose("Direct3D Error: Your graphics card does not support the A8R8G8B8 texture format.\n");
 		success = false;
 	}
 
 	if (!success)
 	{
-		osd_printf_error("This feature or features are required to use the Direct3D renderer. Please\n");
-		osd_printf_error("select another renderer using the -video option or contact the MAME developers\n");
-		osd_printf_error("with information about your system.\n");
-		return false;
+		osd_printf_verbose("This feature or features are required to use the Direct3D renderer. Please\n");
+		osd_printf_verbose("select another renderer using the -video option or contact the MAME developers\n");
+		osd_printf_verbose("with information about your system.\n");
+		//return false;
 	}
 
 	m_gamma_supported = ((caps.Caps2 & D3DCAPS2_FULLSCREENGAMMA) != 0);
diff -u -r a/src/osd/modules/render/drawogl.cpp b/src/osd/modules/render/drawogl.cpp
--- a/src/osd/modules/render/drawogl.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/osd/modules/render/drawogl.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -1038,6 +1038,9 @@
 	}
 #endif
 
+	if (video_config.glsl_sync)
+		glFinish();		// reduces bottleneck but decrease performance
+
 	auto win = assert_window();
 
 	osd_dim wdim = win->get_size();
diff -u -r a/src/osd/windows/video.cpp b/src/osd/windows/video.cpp
--- a/src/osd/windows/video.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/osd/windows/video.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -205,9 +205,11 @@
 		video_config.vbo         = options().gl_vbo();
 		video_config.pbo         = options().gl_pbo();
 		video_config.glsl        = options().gl_glsl();
+		video_config.glsl_sync	 = options().glsl_sync();
 		if ( video_config.glsl )
 		{
 			int i;
+			const char *glsl_dir = options().screen_post_fx_dir(); //glsl_path();  // MAMEFX various changes here to add path to GLSL shaders (we use HLSL path)
 
 			video_config.glsl_filter = options().glsl_filter();
 
@@ -218,8 +220,8 @@
 				stemp = options().shader_mame(i);
 				if (stemp && strcmp(stemp, OSDOPTVAL_NONE) != 0 && strlen(stemp)>0)
 				{
-					video_config.glsl_shader_mamebm[i] = (char *) malloc(strlen(stemp)+1);
-					strcpy(video_config.glsl_shader_mamebm[i], stemp);
+					video_config.glsl_shader_mamebm[i] = (char *)malloc(strlen(stemp)+strlen(glsl_dir)+2);
+					sprintf(video_config.glsl_shader_mamebm[i], "%s%s%s", glsl_dir, PATH_SEPARATOR, stemp);
 					video_config.glsl_shader_mamebm_num++;
 				} else {
 					video_config.glsl_shader_mamebm[i] = nullptr;
@@ -233,8 +235,8 @@
 				stemp = options().shader_screen(i);
 				if (stemp && strcmp(stemp, OSDOPTVAL_NONE) != 0 && strlen(stemp)>0)
 				{
-					video_config.glsl_shader_scrn[i] = (char *) malloc(strlen(stemp)+1);
-					strcpy(video_config.glsl_shader_scrn[i], stemp);
+					video_config.glsl_shader_scrn[i] = (char *)malloc(strlen(stemp)+strlen(glsl_dir)+2);
+					sprintf(video_config.glsl_shader_scrn[i], "%s%s%s", glsl_dir, PATH_SEPARATOR, stemp);
 					video_config.glsl_shader_scrn_num++;
 				} else {
 					video_config.glsl_shader_scrn[i] = nullptr;
diff -u -r a/src/osd/windows/window.cpp b/src/osd/windows/window.cpp
--- a/src/osd/windows/window.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/osd/windows/window.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -720,7 +720,7 @@
 		window->hide_pointer();
 
 		// clip pointer to game video window
-		window->capture_pointer();
+		//window->capture_pointer();     //MESSUI
 	}
 	else
 	{
diff -u -r a/src/osd/windows/winmain.cpp b/src/osd/windows/winmain.cpp
--- a/src/osd/windows/winmain.cpp	2021-08-26 08:44:17.000000000 +0200
+++ b/src/osd/windows/winmain.cpp	2021-08-27 05:18:52.000000000 +0200
@@ -283,6 +283,50 @@
 //============================================================
 //  main
 //============================================================
+//MESSUI start
+int main_(int argc, char *argv[])
+{
+	std::vector<std::string> args = osd_get_command_line(argc, argv);
+
+	// use small output buffers on non-TTYs (i.e. pipes)
+	if (!isatty(fileno(stdout)))
+		setvbuf(stdout, (char *) nullptr, _IOFBF, 64);
+	if (!isatty(fileno(stderr)))
+		setvbuf(stderr, (char *) nullptr, _IOFBF, 64);
+
+	// initialize common controls
+	InitCommonControls();
+
+	// set a handler to catch ctrl-c
+	SetConsoleCtrlHandler(control_handler, TRUE);
+
+	// Initialize crash diagnostics
+	diagnostics_module::get_instance()->init_crash_diagnostics();
+
+	// parse config and cmdline options
+	DWORD result;
+	{
+		windows_options options;
+		windows_osd_interface osd(options);
+		// if we're a GUI app, out errors to message boxes
+		// Initialize this after the osd interface so that we are first in the
+		// output order
+		winui_output_error winerror;
+		if (win_is_gui_application() || is_double_click_start(args.size()))
+		{
+			// if we are a GUI app, output errors to message boxes
+			osd_output::push(&winerror);
+			// make sure any console window that opened on our behalf is nuked
+			FreeConsole();
+		}
+		osd.register_options();
+		result = emulator_info::start_frontend(options, osd, args);
+		osd_output::pop(&winerror);
+	}
+
+	return result;
+}
+//MESSUI end
 
 int main(int argc, char *argv[])
 {
diff -u -r a/src/osd/windows/winmain.h b/src/osd/windows/winmain.h
--- a/src/osd/windows/winmain.h	2021-08-26 08:44:17.000000000 +0200
+++ b/src/osd/windows/winmain.h	2021-08-27 05:18:52.000000000 +0200
@@ -270,6 +270,7 @@
 #if WINAPI_FAMILY_PARTITION(WINAPI_PARTITION_DESKTOP)
 	// Access to exception filter static method
 	friend int main(int argc, char *argv[]);
+	friend int main_(int argc, char *argv[]); //MESSUI, MAMEFX
 #endif
 
 public:
